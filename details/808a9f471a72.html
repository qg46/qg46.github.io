<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>开源统一身份认证平台Casdoor的安装与部署 | b23.kim</title><meta name="author" content="b23.kim"><meta name="copyright" content="b23.kim"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Casdoor 是一个开源的统一身份认证平台，定位类似于“通行证中心”。通过标准化的协议和接口，把分散在不同系统中的用户认证集中起来管理，让登录这件事变得更简单。——清羽飞扬  下载、配置文件与安装这个是它的官方文档：https:&#x2F;&#x2F;www.casdoor.org&#x2F;zh&#x2F;docs&#x2F;overview （目前汉化还不完全，而且还有很多不准确的机翻）可以看到它提供了三种安装方式：1.二进制安装包，从G">
<meta property="og:type" content="article">
<meta property="og:title" content="开源统一身份认证平台Casdoor的安装与部署">
<meta property="og:url" content="https://www.b23.kim/details/808a9f471a72.html">
<meta property="og:site_name" content="b23.kim">
<meta property="og:description" content="Casdoor 是一个开源的统一身份认证平台，定位类似于“通行证中心”。通过标准化的协议和接口，把分散在不同系统中的用户认证集中起来管理，让登录这件事变得更简单。——清羽飞扬  下载、配置文件与安装这个是它的官方文档：https:&#x2F;&#x2F;www.casdoor.org&#x2F;zh&#x2F;docs&#x2F;overview （目前汉化还不完全，而且还有很多不准确的机翻）可以看到它提供了三种安装方式：1.二进制安装包，从G">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://api.yppp.net/pc.php?5485">
<meta property="article:published_time" content="2026-01-25T18:00:14.000Z">
<meta property="article:modified_time" content="2026-01-27T17:41:02.647Z">
<meta property="article:author" content="b23.kim">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://api.yppp.net/pc.php?5485"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "开源统一身份认证平台Casdoor的安装与部署",
  "url": "https://www.b23.kim/details/808a9f471a72.html",
  "image": "https://api.yppp.net/pc.php?5485",
  "datePublished": "2026-01-25T18:00:14.000Z",
  "dateModified": "2026-01-27T17:41:02.647Z",
  "author": [
    {
      "@type": "Person",
      "name": "b23.kim",
      "url": "https://www.b23.kim"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://www.b23.kim/details/808a9f471a72.html"><link rel="preconnect" href="https://cdn.jsdmirror.com"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//www.clarity.ms"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="dj2Ett58-yJZxDutcDKnAl0a4wcoejeh0ty1xh7JByk"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdmirror.com/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdmirror.com/npm/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdmirror.com/npm/@fancyapps/ui@6.1.9/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          const hour = new Date().getHours()
          const isNight = hour <= 6 || hour >= 18
          if (theme === undefined) isNight ? activateDarkMode() : activateLightMode()
          else theme === 'light' ? activateLightMode() : activateDarkMode()
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?f7172fbdb08af7923a4e5f3ab97fb9d0";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
btf.addGlobalFn('pjaxComplete', () => {
  _hmt.push(['_trackPageview',window.location.pathname])
}, 'baidu_analytics')
</script><script>(function(c,l,a,r,i,t,y){
    c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
    t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
    y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
})(window, document, "clarity", "script", "ujgj4z5wr1");
</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"pagination":{"enable":false,"hitsPerPage":8},"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"已切换为繁体中文","cht_to_chs":"已切换为简体中文","day_to_night":"已切换为深色模式","night_to_day":"已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  infinitegrid: {
    js: 'https://cdn.jsdmirror.com/npm/@egjs/infinitegrid@4.13.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: true,
  islazyloadPlugin: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '开源统一身份认证平台Casdoor的安装与部署',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="referrer" content="no-referrer"><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"><meta itemprop="description" content="ARK图文模板消息"><link rel="stylesheet" href="https://cdn.jsdmirror.com/gh/b23-kim/blog@main/static/custom.css" media="defer" onload="this.media='all'"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.jsdmirror.com/gh/b23-kim/blog@main/static/runtime.css" media="print" onload="this.media='all'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.4.2"><link rel="alternate" href="/atom.xml" title="b23.kim" type="application/atom+xml">
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      if ($loadingBox.classList.contains('loaded')) return
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()

  if (document.readyState === 'complete') {
    preloader.endLoading()
  } else {
    window.addEventListener('load', preloader.endLoading)
    document.addEventListener('DOMContentLoaded', preloader.endLoading)
    // Add timeout protection: force end after 7 seconds
    setTimeout(preloader.endLoading, 7000)
  }

  if (true) {
    btf.addGlobalFn('pjaxSend', preloader.initLoading, 'preloader_init')
    btf.addGlobalFn('pjaxComplete', preloader.endLoading, 'preloader_end')
  }
})()</script><div class="bg-animation" id="web_bg" style="background-image: url(https://source.fomal.cc/img/dm1.webp);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i0.hdslb.com/bfs/face/cd7027786846c4a49e4c8046b536ca0f5923cb16.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">67</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">3</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://kuma.b23.kim/status/page"><i class="fa-fw fas fa-chart-line"></i><span> 流量监控</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://api.yppp.net/pc.php?5485);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">b23.kim</span></a><a class="nav-page-title" href="/"><span class="site-name">开源统一身份认证平台Casdoor的安装与部署</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://kuma.b23.kim/status/page"><i class="fa-fw fas fa-chart-line"></i><span> 流量监控</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">开源统一身份认证平台Casdoor的安装与部署</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2026-01-25T18:00:14.000Z" title="发表于 2026-01-26 02:00:14">2026-01-26</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2026-01-27T17:41:02.647Z" title="更新于 2026-01-28 01:41:02">2026-01-28</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">4.1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>15分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><blockquote>
<p>Casdoor 是一个开源的统一身份认证平台，定位类似于“通行证中心”。通过标准化的协议和接口，把分散在不同系统中的用户认证集中起来管理，让登录这件事变得更简单。<br>——清羽飞扬</p>
</blockquote>
<h1 id="下载、配置文件与安装"><a href="#下载、配置文件与安装" class="headerlink" title="下载、配置文件与安装"></a>下载、配置文件与安装</h1><p>这个是它的官方文档：<a target="_blank" rel="noopener" href="https://www.casdoor.org/zh/docs/overview">https://www.casdoor.org/zh/docs/overview</a> （目前汉化还不完全，而且还有很多不准确的机翻）<br>可以看到它提供了三种安装方式：<br>1.二进制安装包，从Github Release下载：<a target="_blank" rel="noopener" href="https://github.com/casdoor/casdoor/releases">https://github.com/casdoor/casdoor/releases</a><br>2.Docker容器镜像：<a target="_blank" rel="noopener" href="https://hub.docker.com/r/casbin/casdoor">https://hub.docker.com/r/casbin/casdoor</a><br>3.K8s Helm：<a target="_blank" rel="noopener" href="https://www.casdoor.org/zh/docs/basic/try-with-helm">https://www.casdoor.org/zh/docs/basic/try-with-helm</a></p>
<h2 id="拉取镜像"><a href="#拉取镜像" class="headerlink" title="拉取镜像"></a>拉取镜像</h2><p>本文将采用Docker容器的方式来安装，配合宝塔面板。依旧是1panel镜像。<br>下载镜像：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull docker.1panel.live/casbin/casdoor</span><br></pre></td></tr></table></figure>
<p>下载完成后保留备用。</p>
<h2 id="数据目录设置与数据库配置"><a href="#数据目录设置与数据库配置" class="headerlink" title="数据目录设置与数据库配置"></a>数据目录设置与数据库配置</h2><p>下一步，创建所需目录（在宝塔“终端”中运行）:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p /www/wwwroot/casdoor/config</span><br><span class="line"><span class="built_in">mkdir</span> -p /www/wwwroot/casdoor/uploads</span><br><span class="line"><span class="built_in">chmod</span> -R 755 /www/wwwroot/casdoor</span><br><span class="line"><span class="built_in">chown</span> -R 1000:1000 /www/wwwroot/casdoor  <span class="comment"># 重要！Docker容器使用uid 1000</span></span><br></pre></td></tr></table></figure>

<p>然后在<code>/www/wwwroot/casdoor/config/</code>目录下创建<code>app.conf</code>文件<br>示例配置文件：<br><a target="_blank" rel="noopener" href="https://github.com/casdoor/casdoor/blob/master/conf/app.conf">https://github.com/casdoor/casdoor/blob/master/conf/app.conf</a><br>把它放在<code>/www/wwwroot/casdoor/config/</code>目录下。<br>官方示例配置文件的完整内容如下（我加了注释，建议去官方仓库复制然后从这里对照着改）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">appname = casdoor</span><br><span class="line">httpport = 8000 #对外访问的端口号</span><br><span class="line">runmode = dev #改成prod以启用生产环境</span><br><span class="line">copyrequestbody = true</span><br><span class="line">driverName = mysql #要使用的数据库</span><br><span class="line">dataSourceName = root:123456@tcp(localhost:3306)/ #目标数据库需要的凭据</span><br><span class="line">dbName = casdoor #数据库名称</span><br><span class="line">tableNamePrefix =</span><br><span class="line">showSql = false </span><br><span class="line">redisEndpoint =</span><br><span class="line">defaultStorageProvider =</span><br><span class="line">isCloudIntranet = false</span><br><span class="line">authState = &quot;casdoor&quot;</span><br><span class="line">socks5Proxy = &quot;127.0.0.1:10808&quot;</span><br><span class="line">verificationCodeTimeout = 10</span><br><span class="line">initScore = 0</span><br><span class="line">logPostOnly = true</span><br><span class="line">isUsernameLowered = false</span><br><span class="line">origin = #后端访问域名，这个很关键。出现Invalid origin时配置下这个</span><br><span class="line">originFrontend = #前端页面的访问地址，前后端都通过一个域名进来的话和上面配置相同的内容即可</span><br><span class="line">staticBaseUrl = &quot;https://cdn.casbin.org&quot;</span><br><span class="line">isDemoMode = false</span><br><span class="line">batchSize = 100</span><br><span class="line">enableErrorMask = false</span><br><span class="line">enableGzip = true</span><br><span class="line">inactiveTimeoutMinutes =</span><br><span class="line">ldapServerPort = 389</span><br><span class="line">ldapsCertId = &quot;&quot;</span><br><span class="line">ldapsServerPort = 636</span><br><span class="line">radiusServerPort = 1812</span><br><span class="line">radiusDefaultOrganization = &quot;built-in&quot;</span><br><span class="line">radiusSecret = &quot;secret&quot;</span><br><span class="line">quota = &#123;&quot;organization&quot;: -1, &quot;user&quot;: -1, &quot;application&quot;: -1, &quot;provider&quot;: -1&#125;</span><br><span class="line">logConfig = &#123;&quot;adapter&quot;:&quot;file&quot;, &quot;filename&quot;: &quot;logs/casdoor.log&quot;, &quot;maxdays&quot;:99999, &quot;perm&quot;:&quot;0770&quot;&#125;</span><br><span class="line">initDataNewOnly = false</span><br><span class="line">initDataFile = &quot;./init_data.json&quot;</span><br><span class="line">frontendBaseDir = &quot;../cc_0&quot;</span><br></pre></td></tr></table></figure>
<p>根据实际情况修改以上配置<br>参见配置内容描述：<a target="_blank" rel="noopener" href="https://www.casdoor.org/zh/docs/basic/configuration/#backend-configuration-appconf">https://www.casdoor.org/zh/docs/basic/configuration/#backend-configuration-appconf</a><br>最关键的就是数据库的部分了，Casdoor需要一个数据库来存放验证用户等数据</p>
<p>Casdoor 支持MySQL、MSSQL、SQLite3和PostgreSQL。 默认情况下，Casto使用MySQL。<br>对于不同类型的数据库，<code>driverName</code>、<code>dataSourceName</code>各不相同，根据官方文档的说明来配置<br><strong>MySQL</strong><br>Casdoor将会把users，nodes和topics信息存储在一个名为casdoor的MySQL数据库中。 如果数据库不存在，则需手动创建。 可以在以下位置指定数据库连接字符串</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">driverName = mysql</span><br><span class="line">dataSourceName = root:123456@tcp(localhost:3306)/</span><br><span class="line">dbName = casdoor</span><br></pre></td></tr></table></figure>
<p><strong>PostgreSQL</strong><br>在运行 Casdoor 之前，您需要手动为 PostgreSQL 准备一个数据库，因为当使用 xorm 连接 Postgres 时，Casdoor 要求必须选择一个具体的数据库。<br>假设你已经准备好了一个名为<code>casdoor</code>的数据库，你应该像这样指定<code>app.conf</code>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">driverName = postgres</span><br><span class="line">dataSourceName = user=postgres password=postgres host=localhost port=5432 sslmode=disable dbname=casdoor</span><br><span class="line">dbName = casdoor</span><br></pre></td></tr></table></figure>
<p><strong>SQLite3</strong><br>要配置SQLite3，您应该像这样指定app.conf：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">driverName = sqlite</span><br><span class="line">dataSourceName = file:casdoor.db?cache=shared</span><br><span class="line">dbName = casdoor</span><br></pre></td></tr></table></figure>
<p>参考：<a target="_blank" rel="noopener" href="https://www.casdoor.org/zh/docs/basic/server-installation#%E9%85%8D%E7%BD%AE%E6%95%B0%E6%8D%AE%E5%BA%93">https://www.casdoor.org/zh/docs/basic/server-installation#%E9%85%8D%E7%BD%AE%E6%95%B0%E6%8D%AE%E5%BA%93</a></p>
<p>因为我们使用的是宝塔面板，而且宝塔面板自带一个MySQL数据库，并且备份和维护都很好管理。所以这里就直接用MySQL了。或者你也可以连接远程数据库。<br>操作流程<br>进入宝塔面板 → <strong>数据库</strong> → <strong>添加数据库</strong><br>数据库名：<strong>casdoor</strong><br>用户名：<strong>casdoor_user</strong>（自定义）<br>密码：生成强密码（建议16位以上，防止暴力破解）<br>访问权限：<strong>本地服务器</strong>（127.0.0.1）<br>（建议同时开启自带备份，防止数据损坏）</p>
<p>最终配置文件相关字段的内容如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">driverName = mysql</span><br><span class="line">dataSourceName = casdoor_user:你的强密码@tcp(127.0.0.1:3306)/</span><br><span class="line">dbName = casdoor</span><br></pre></td></tr></table></figure>
<p>设置完成后直接保存文件</p>
<div class="note warning flat"><p>注意：如果你是后创建的app.conf文件，别忘了再运行一次这个命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chown</span> -R 1000:1000 /www/wwwroot/casdoor</span><br></pre></td></tr></table></figure>
<p>把这个新建文件的所有者设置也包含进去</p>
</div>



<h2 id="运行Casdoor"><a href="#运行Casdoor" class="headerlink" title="运行Casdoor"></a>运行Casdoor</h2><p>最后我们终于可以开始启动容器了：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --name casdoor \</span><br><span class="line">  --network host \</span><br><span class="line">  -v /www/wwwroot/casdoor/config:/conf \</span><br><span class="line">  -v /www/wwwroot/casdoor/uploads:/uploads \</span><br><span class="line">  --restart unless-stopped \</span><br><span class="line">  docker.1panel.live/casbin/casdoor:latest</span><br></pre></td></tr></table></figure>
<div class="note warning flat"><p>注意：别忘记去防火墙放行端口！默认为8000端口，可在配置文件中修改</p>
</div>

<p>如果你运行以后它就自动暂停并且再也起不来了的话，重点检查下挂载的文件路径是否有问题，以及数据库是否在容器内访问的到。另外就是文件所有者是否是1000，是否有可读可写权限啥的。<br>最终的状态一直是<code>运行中</code>的话，那么恭喜你。成功绕过一堆坑把项目跑起来了。</p>
<div class="note info flat"><p>如果你看不到容器日志的话，将<code>近3天</code>改为<code>全部</code>即可。这在出现异常时尤为有用</p>
</div>

<p>去 服务器公网IP 或 绑定的域名 下的<strong>8000</strong>端口 进入Casdoor的后台页面，完成下一步设置</p>
<h1 id="后台配置"><a href="#后台配置" class="headerlink" title="后台配置"></a>后台配置</h1><p>进入后台，使用默认的管理员账号登录后台。用户名为<code>admin</code>，密码<code>123</code>。</p>
<div class="note danger flat"><p>数据安全提醒：默认的管理员账号极其不安全，强烈建议第一次登录时就从设置里把它改掉，换成强密码。</p>
</div>

<h2 id="安装向导"><a href="#安装向导" class="headerlink" title="安装向导"></a>安装向导</h2><p>第一次进入会有一个向导，里面有三页内容。<br><strong>Welcome to casdoor</strong><br>You can learn more about the use of CasDoor at <a target="_blank" rel="noopener" href="https://casdoor.org/">https://casdoor.org/</a>.<br>1/3<br>（后面就不说了反正是告诉你面板里面都是什么内容）<br>这里是没有汉化的，我截取里面有用的部分尝试让AI翻译下：<br><strong>Organization List</strong><br>组织是 Casdoor 的基本单位，用于管理用户和应用程序。如果用户登录到一个组织，那么他可以访问该组织所属的所有应用程序，而无需再次登录。<br>Organization is the basic unit of Casdoor, which manages users and applications. If a user signed in to an organization, then he can access all applications belonging to the organization without signing in again.<br><strong>Group List</strong><br>在群组列表页面中，您可以看到组织中的所有群组。<br>In the groups list pages, you can see all the groups in organizations.<br><strong>User List</strong><br>作为身份验证平台，Casdoor能够管理用户。<br>As an authentication platform, Casdoor is able to manage users.<br>1/2<br><strong>Import users</strong><br>您可以通过上传包含用户信息的XLSX文件来添加新用户或更新现有的Casdoor用户。<br>You can add new users or update existing Casdoor users by uploading a XLSX file of user information.<br>2/2<br><strong>Application List</strong><br>如果您想使用Casdoor为您的Web应用程序提供登录服务，您可以将它们作为Casdoor应用程序添加。用户可以访问其组织中的所有应用程序，而无需重复登录。<br>If you want to use Casdoor to provide login service for your web Web APPs, you can add them as Casdoor applications. Users can access all applications in their organizations without login twice.<br><strong>Provider List</strong><br>我们有6种类型的提供者：OAuth提供者、短信提供者、邮件提供者、存储提供者、支付提供者、验证码提供者。<br>We have 6 kinds of providers:OAuth providers、SMS Providers、Email Providers、Storage Providers、Payment Provider、Captcha Provider.<br>1/2<br><strong>Provider Add</strong><br>您必须先将提供者添加到应用程序中，然后才能在您的应用程序中使用该提供者。<br>You must add the provider to application, then you can use the provider in your application<br>2/2<br><strong>Resource List</strong><br>您可以在Casdoor中上传资源。在上传资源之前，您需要先配置一个存储提供者。请参阅存储提供者相关文档。<br>You can upload resources in casdoor. Before upload resources, you need to configure a storage provider. Please see Storage Provider.<br>1/2<br><strong>Upload Resource</strong><br>用户可以将文件和图片等资源上传到先前配置的云存储中。<br>Users can upload resources such as files and images to the previously configured cloud storage.<br>2/2<br><strong>Role List</strong><br>每个用户可能拥有多个角色。您可以在用户的个人资料中查看用户的角色。<br>Each user may have multiple roles. You can see the user’s roles on the user’s profile.<br><strong>Permission List</strong><br>与单个Casdoor组织关联的所有用户都会在该组织的应用程序之间共享，因此这些用户可以访问这些应用程序。有时您可能希望限制用户对特定应用程序的访问权限，或者限制其对某个应用程序中特定资源的访问权限。在这种情况下，您可以使用由Casbin实现的权限（Permission）功能。<br>All users associated with a single Casdoor organization are shared between the organization’s applications and therefore have access to the applications. Sometimes you may want to restrict users’ access to certain applications, or certain resources in a certain application. In this case, you can use Permission implemented by Casbin.<br>1/3<br><strong>Permission Add</strong><br>在Casdoor Web界面中，您可以在模型配置项中为您的组织添加一个模型，并在权限配置项中为您的组织添加一个策略。<br>In the Casdoor Web UI, you can add a Model for your organization in the Model configuration item, and a Policy for your organization in the Permission configuration item.<br>2/3<br><strong>Permission Upload</strong><br>通过Casbin在线编辑器，您可以获得适合您使用场景的Model和Policy文件。您可以通过Casdoor Web界面轻松地将Model文件导入到Casdoor中，供内置的Casbin使用。<br>With Casbin Online Editor, you can get Model and Policy files suitable for your usage scenarios. You can easily import the Model file into Casdoor through the Casdoor Web UI for use by the built-in Casbin.<br>3/3<br><strong>Model List</strong><br>模型定义了您的权限策略结构，以及请求如何匹配这些权限策略及其效果。然后您可以在权限中使用该模型。<br>Model defines your permission policy structure, and how requests should match these permission policies and their effects. Then you can user model in Permission.<br><strong>Adapter List</strong><br>Casdoor支持通过用户界面连接适配器并管理策略规则。在Casbin中，策略存储是通过适配器实现的（也称为Casbin的中间件）。Casbin用户可以使用适配器从存储中加载策略规则，或者将策略规则保存到存储中。<br>Casdoor supports using the UI to connect the adapter and manage the policy rules. In Casbin, the policy storage is implemented as an adapter (aka middleware for Casbin). A Casbin user can use an adapter to load policy rules from a storage, or save policy rules to it.<br><strong>Enforcer List</strong><br>除了用于请求执行权限控制的API接口外，Casdoor还提供其他帮助外部应用程序获取权限策略信息的接口，这些接口也在此列出。<br>In addition to the API interface for requesting enforcement of permission control, Casdoor also provides other interfaces that help external applications obtain permission policy information, which is also listed here.<br><strong>Token List</strong><br>Casdoor基于OAuth构建。令牌即用户的OAuth令牌，您可以在此列表中获取访问令牌。<br>Casdoor is based on OAuth. Tokens are users’ OAuth token.You can get access token in this list.<br><strong>Session List</strong><br>您可以在此列表中获取会话ID。<br>You can get Session ID in this list.<br><strong>Session List</strong><br>您可以添加您想要销售的产品（或服务）。接下来将告诉您如何添加产品。<br>You can add the product (or service) you want to sell. The following will tell you how to add a product<br><strong>Payment List</strong><br>支付成功后，您可以在”支付”中查看产品的交易信息，例如组织、用户、购买时间、产品名称等。<br>After the payment is successful, you can see the transaction information of the products in Payment, such as organization, user, purchase time, product name, etc.<br><strong>Plan List</strong><br>计划（Plan）描述了应用程序功能的列表，每个功能都有自己的名称和价格。计划的功能依赖于Casdoor角色及其权限集。这使得可以独立于命名和价格来描述计划的功能。例如：计划的价格可能会根据国家或日期而有所不同。<br>Plan describe list of application’s features with own name and price. Plan features depends on Casdoor role with set of permissions.That allow to describe plan’s features independ on naming and price. For example: plan may has diffrent prices depends on county or date.<br><strong>Price List</strong><br>Casdoor可以通过计划、定价和订阅用作订阅管理系统。<br>Casdoor can be used as subscription management system via plan, pricing and subscription.<br><strong>Subscription List</strong><br>订阅功能有助于管理用户选择的计划，从而轻松控制对应用程序功能的访问权限。<br>Subscription helps to manage user’s selected plan that make easy to control application’s features access.</p>
<p>管理工具那栏没啥好说的，这里为了节省篇幅跳过了</p>
<p><strong>Syncer List</strong><br>Casdoor在用户表中存储用户。当您计划使用Casdoor作为认证平台时，无需担心将应用程序的用户数据迁移到Casdoor中。Casdoor提供了同步器（syncer）来帮助您快速将用户数据同步到Casdoor。<br>Casdoor stores users in user table. Don’t worry about migrating your application user data into Casdoor, when you plan to use Casdoor as an authentication platform. Casdoor provides syncer to quickly help you sync user data to Casdoor.<br><strong>Webhook List</strong><br>事件系统允许您构建集成，这些集成可以订阅 Casdoor 上的特定事件。当其中一个事件被触发时，我们将向配置的 URL 发送一个 POST JSON 有效载荷。应用程序解析该 JSON 有效载荷并执行相应的钩子函数。事件包括注册、登录、注销、更新用户等，这些都存储在记录的操作字段中。事件系统可用于根据用户操作更新外部事务。<br>Event systems allow you to build integrations, which subscribe to certain events on Casdoor. When one of those event is triggered, we’ll send a POST json payload to the configured URL. The application parsed the json payload and carry out the hooked function. Events consist of signup, login, logout, update users, which are stored in the action field of the record. Event systems can be used to update an external issue from users.</p>
<p>到这里就没了。</p>
<h2 id="创建组织"><a href="#创建组织" class="headerlink" title="创建组织"></a>创建组织</h2><p>不同组织之间的用户是相互独立的，要开始，我们需要创建一个组织。<br>目标：用户管理 -&gt; 组织</p>
<div class="note danger flat"><p>数据安全提醒：不要直接使用自带的<code>built-in</code>组织，默认所有用户都是管理员。否则配置不当容易引发安全问题</p>
</div>

<p><strong>默认情况下</strong>，你可以在 <code>你的域名:8000/login/组织名</code> 中使用特定组织来登录/注册！（注意不要用成“显示名称”了）<br>如果要隐藏端口号请自行反向代理 </p>
<h2 id="创建应用"><a href="#创建应用" class="headerlink" title="创建应用"></a>创建应用</h2><p>光有组织是不行的，因为你还缺少这个组织使用到的验证方式。如果只有组织并且它没有绑定应用的话创建用户时会提示没有应用。<br>目标：身份认证 -&gt; 应用</p>
<p>创建应用时，需要在Basic选项卡下的“组织”选项中指定绑定到的组织。<br>然后你可以在里面配置是否允许用户同时登录多个会话（是否顶号式，如果不允许将会类似QQ一样只能登录一个会话）以及登录超时次数等</p>
<p>在UI那一块，建议只保留你需要用户填的项目，避免无效字段在前端页面中展示。设置“组织选择模式”为选择时，在登录之前会让用户选择要登录到的目标组织。<br>Provider选项卡中你可以选择添加由其他平台提供的自定义登录方式。详见<code>创建提供商</code></p>
<h2 id="创建证书"><a href="#创建证书" class="headerlink" title="创建证书"></a>创建证书</h2><p>你需要一个证书实现登录时的端到端加密。<br>目标：身份认证 -&gt; 证书</p>
<p>公钥可以对外暴露，提供给其他应用验证签名。而私钥必须在服务器里不能泄露</p>
<h2 id="创建提供商"><a href="#创建提供商" class="headerlink" title="创建提供商"></a>创建提供商</h2><p>提供商即提供登录验证服务的厂商，国内常见的有<code>QQ登录</code>、<code>B站</code>(不对个人开放)、<code>飞书</code>等。<br>你可以设置多种不同的登录验证方式，例如OAuth、Email、Captcha、Web3等<br>目标：身份认证  -&gt; 提供商</p>
<p>填写目标开放平台提供的密钥、ck等信息后保存即可。<br>每种验证方式需独立创建，一个应用可以绑定多个提供商。</p>
<p>关于提供商和不同提供商的接入教程：<a target="_blank" rel="noopener" href="https://www.casdoor.org/zh/docs/provider/overview">https://www.casdoor.org/zh/docs/provider/overview</a></p>
<h2 id="需要注意的点"><a href="#需要注意的点" class="headerlink" title="需要注意的点"></a>需要注意的点</h2><p>casdoor的所有回调地址均为你后台地址域名的<code>/callback</code>路径。例如你的casdoor公网域名是outh.domain.com，那么回调给casdoor的地址应该是<a target="_blank" rel="noopener" href="https://outh.domain.com/callback">https://outh.domain.com/callback</a></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://www.b23.kim">b23.kim</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://www.b23.kim/details/808a9f471a72.html">https://www.b23.kim/details/808a9f471a72.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://www.b23.kim" target="_blank">b23.kim</a>！</span></div></div><div class="tag_share"><div class="post-share"><div class="social-share" data-image="https://api.yppp.net/pc.php?5485" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdmirror.com/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdmirror.com/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/details/f4feefbb0991.html" title="有序只是世界的偶然，无序才是世界本身"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://api.yppp.net/pc.php?7867" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">有序只是世界的偶然，无序才是世界本身</div></div><div class="info-2"><div class="info-item-1">    刚才看到一个非常壮观的视频，里面有个评论非常深入人心：有序只是世界的偶然，无序是世界的本身。这个观点是所有系统的本质。或者说，整个宇宙就是一个庞大的系统。 在宇宙中，每一个天体都沿着自己固定的轨道运行，这是有序。那么凡事都会有至少一个“例外”，举一个夸张的例子吧：如果突然飞过来一个很大的石头把这个天体砸了，而且刚好使它脱离了原先的轨道呢？我知道这个例子看起来很夸张，但在无限的时间尺度下这几乎是必然的。因为你也说不清宇宙环境最终会演化成什么样，在“无限”这个概念下，空间无限大，时间无限长，情况无限多。这样来看它原先“有序”的样子只是在这个过程里偶然发生的。在这种情况下，“有序”这个概念就是“只缘身在此山中”了。从宏观角度来看，世界是无序的。 在计算机世界里，每一台电脑都有序地执行预定的任务，这叫有序。但是计算机的世界本质上是逻辑的世界，是逻辑就会存在疏漏。我们一般管它叫“业务逻辑漏洞”，换句话说就是“出bug了”。最终就会归于这种无序的状态，因为它引入了例外这一个打破原有秩序的东西。最终人们通过代码补丁避免无序性，回归原有“有序”的状态。这样来看甚至就连“秩序”本身都是无序...</div></div></div></a><a class="pagination-related" href="/details/d313a9d70881.html" title="不可靠的文件系统"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://uapis.cn/api/v1/random/image?category=acg&amp;type=pc&amp;?5610" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">不可靠的文件系统</div></div><div class="info-2"><div class="info-item-1">在给电脑重装完系统以后，我就把自己博客源码迁移过来了。一开始没什么，后面我发现了一个很诡异的事：日期怎么变成这样了，更新日期比发布日期还提前。肯定不对。我发现这里更新日期其实就是这篇文章的“发布日期”，因为这篇是Hello World，是搭建的时候系统自动生成发一篇文章，所以也相当于是建站时间。 那么究竟是为什么呢？其他的文章都没出问题，就这个出问题了。而且出现在迁移后这个时间点。 于是我简单了解了一下Hexo框架对于文章的更新和发表日期是如何确定的，得出了一个结论对于发布日期：它会去读Front-matter里的date参数，如果有就直接把它的值作为发表日期；否则，将会采用文件系统里的文件元数据中的 文件创建日期 作为发表日期。刚好，系统给的示例文章Front-matter是不带date参数的对于更新日期：它会直接读文件元数据中的“修改日期”字段 因为示例文章(Hello world)里面是没有date信息的，所以它的降级策略会去看文件元数据。这样这个诡异问题的源头就在文件元数据上。 如果是刚创建出来的文件，那么它的创建日期和修改日期应该是一致的，修改日期就是创建日期。那么如果...</div></div></div></a></nav><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="artalk-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i0.hdslb.com/bfs/face/cd7027786846c4a49e4c8046b536ca0f5923cb16.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">b23.kim</div><div class="author-info-description">请输入内容404的个人发电之作</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">67</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">3</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/qg46"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/qg46" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:thekendsky_404@outlook.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #0078d4;"></i></a><a class="social-icon" href="https://www.b23.kim/atom.xml" target="_blank" title="RSS"><i class="fas fa-rss" style="color: #ff6600;"></i></a><a class="social-icon" href="https://space.bilibili.com/524486358" target="_blank" title="Bilibili"><i class="fab fa-bilibili" style="color: #fb7299;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog <br>博客频道开通啦！欢迎各位小伙伴前来交流探讨。点击链接加入腾讯频道【b23.kim】：<a target="_blank" rel="noopener" href="https://pd.qq.com/s/78h6elvk3">https://pd.qq.com/s/78h6elvk3</a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD%E3%80%81%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B8%8E%E5%AE%89%E8%A3%85"><span class="toc-number">1.</span> <span class="toc-text">下载、配置文件与安装</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8B%89%E5%8F%96%E9%95%9C%E5%83%8F"><span class="toc-number">1.1.</span> <span class="toc-text">拉取镜像</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%9B%AE%E5%BD%95%E8%AE%BE%E7%BD%AE%E4%B8%8E%E6%95%B0%E6%8D%AE%E5%BA%93%E9%85%8D%E7%BD%AE"><span class="toc-number">1.2.</span> <span class="toc-text">数据目录设置与数据库配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E8%A1%8CCasdoor"><span class="toc-number">1.3.</span> <span class="toc-text">运行Casdoor</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%90%8E%E5%8F%B0%E9%85%8D%E7%BD%AE"><span class="toc-number">2.</span> <span class="toc-text">后台配置</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%90%91%E5%AF%BC"><span class="toc-number">2.1.</span> <span class="toc-text">安装向导</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E7%BB%84%E7%BB%87"><span class="toc-number">2.2.</span> <span class="toc-text">创建组织</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%BA%94%E7%94%A8"><span class="toc-number">2.3.</span> <span class="toc-text">创建应用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%AF%81%E4%B9%A6"><span class="toc-number">2.4.</span> <span class="toc-text">创建证书</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%8F%90%E4%BE%9B%E5%95%86"><span class="toc-number">2.5.</span> <span class="toc-text">创建提供商</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E7%82%B9"><span class="toc-number">2.6.</span> <span class="toc-text">需要注意的点</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/details/a0762213532c.html" title="B站最新最热漏勺，客户端0秒空气视频"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://uapis.cn/api/v1/random/image?category=acg&amp;type=pc&amp;?7004" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="B站最新最热漏勺，客户端0秒空气视频"/></a><div class="content"><a class="title" href="/details/a0762213532c.html" title="B站最新最热漏勺，客户端0秒空气视频">B站最新最热漏勺，客户端0秒空气视频</a><time datetime="2026-02-20T07:08:14.000Z" title="发表于 2026-02-20 15:08:14">2026-02-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/details/7aa25878b376.html" title="B站新漏：工作列表里暗藏的缺字漏字问题"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.072103.xyz/h?98" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="B站新漏：工作列表里暗藏的缺字漏字问题"/></a><div class="content"><a class="title" href="/details/7aa25878b376.html" title="B站新漏：工作列表里暗藏的缺字漏字问题">B站新漏：工作列表里暗藏的缺字漏字问题</a><time datetime="2026-02-17T05:02:49.000Z" title="发表于 2026-02-17 13:02:49">2026-02-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/details/c642d4791f62.html" title="所以我搞了b.b23.kim"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://uapis.cn/api/v1/random/image?category=acg&amp;type=pc&amp;?1539" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="所以我搞了b.b23.kim"/></a><div class="content"><a class="title" href="/details/c642d4791f62.html" title="所以我搞了b.b23.kim">所以我搞了b.b23.kim</a><time datetime="2026-02-15T04:48:45.000Z" title="发表于 2026-02-15 12:48:45">2026-02-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/details/04007216d618.html" title="B站船新漏勺，神秘小链接让客户端拒绝服务"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.072103.xyz/h?4272" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="B站船新漏勺，神秘小链接让客户端拒绝服务"/></a><div class="content"><a class="title" href="/details/04007216d618.html" title="B站船新漏勺，神秘小链接让客户端拒绝服务">B站船新漏勺，神秘小链接让客户端拒绝服务</a><time datetime="2026-02-13T10:05:43.000Z" title="发表于 2026-02-13 18:05:43">2026-02-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/details/a03830792218.html" title="什么？清华大学的某游戏社团的QQ群被黑客给嘿啦？！"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.072103.xyz/h?71" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="什么？清华大学的某游戏社团的QQ群被黑客给嘿啦？！"/></a><div class="content"><a class="title" href="/details/a03830792218.html" title="什么？清华大学的某游戏社团的QQ群被黑客给嘿啦？！">什么？清华大学的某游戏社团的QQ群被黑客给嘿啦？！</a><time datetime="2026-02-11T15:33:04.000Z" title="发表于 2026-02-11 23:33:04">2026-02-11</time></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2025 - 2026 By b23.kim</span></div><div class="footer_custom_text">I wish you to become your own sun, no need to rely on who's light.</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="chat-btn" type="button" title="聊天" style="display:none"><i class="fas fa-message"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdmirror.com/npm/@fancyapps/ui@6.1.9/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdmirror.com/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdmirror.com/npm/vanilla-lazyload@19.1.3/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdmirror.com/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script><div class="js-pjax"><script>(() => {
  const loadMathjax = () => {
    if (!window.MathJax) {
      window.MathJax = {
        loader: {
          load: [
            // Four font extension packages (optional)
            //- '[tex]/bbm',
            //- '[tex]/bboldx',
            //- '[tex]/dsfont',
            '[tex]/mhchem'
          ],
          paths: {
            'mathjax-newcm': '[mathjax]/../@mathjax/mathjax-newcm-font',

            //- // Four font extension packages (optional)
            //- 'mathjax-bbm-extension': '[mathjax]/../@mathjax/mathjax-bbm-font-extension',
            //- 'mathjax-bboldx-extension': '[mathjax]/../@mathjax/mathjax-bboldx-font-extension',
            //- 'mathjax-dsfont-extension': '[mathjax]/../@mathjax/mathjax-dsfont-font-extension',
            'mathjax-mhchem-extension': '[mathjax]/../@mathjax/mathjax-mhchem-font-extension'
          }
        },
        output: {
          font: 'mathjax-newcm',
        },
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          tags: 'none',
          packages: {
            '[+]': [
              'mhchem'
            ]
          }
        },
        chtml: {
          scale: 1.1
        },
        options: {
          enableMenu: true,
          menuOptions: {
            settings: {
              enrich: false  // Turn off Braille and voice narration text automatic generation
            }
          },
          renderActions: {
            findScript: [10, doc => {
              for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
                const display = !!node.type.match(/; *mode=display/)
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
                const text = document.createTextNode('')
                node.parentNode.replaceChild(text, node)
                math.start = {node: text, delim: '', n: 0}
                math.end = {node: text, delim: '', n: 0}
                doc.math.push(math)
              }
            }, '']
          }
        }
      }

      const script = document.createElement('script')
      script.src = 'https://cdn.jsdmirror.com/npm/mathjax@4.1.0/tex-mml-chtml.min.js'
      script.id = 'MathJax-script'
      script.async = true
      document.head.appendChild(script)
    } else {
      MathJax.startup.document.state(0)
      MathJax.texReset()
      MathJax.typesetPromise()
    }
  }

  btf.addGlobalFn('encrypt', loadMathjax, 'mathjax')
  window.pjax ? loadMathjax() : window.addEventListener('load', loadMathjax)
})()</script><script>(() => {
  let artalkItem = null
  const option = null
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'

  const destroyArtalk = () => {
    if (artalkItem) {
      artalkItem.destroy()
      artalkItem = null
    }
  }

  const artalkChangeMode = theme => artalkItem && artalkItem.setDarkMode(theme === 'dark')

  const initArtalk = (el = document, pageKey = location.pathname) => {
    artalkItem = Artalk.init({
      el: el.querySelector('#artalk-wrap'),
      server: 'https://service.b23.kim',
      site: 'b23.kim',
      darkMode: document.documentElement.getAttribute('data-theme') === 'dark',
      ...option,
      pageKey: isShuoshuo ? pageKey : (option && option.pageKey) || pageKey
    })

    if (GLOBAL_CONFIG.lightbox === 'null') return
    artalkItem.on('list-loaded', () => {
      artalkItem.ctx.get('list').getCommentNodes().forEach(comment => {
        const $content = comment.getRender().$content
        btf.loadLightbox($content.querySelectorAll('img:not([atk-emoticon])'))
      })
    })

    if (isShuoshuo) {
      window.shuoshuoComment.destroyArtalk = () => {
        destroyArtalk()
        if (el.children.length) {
          el.innerHTML = ''
          el.classList.add('no-comment')
        }
      }
    }

    btf.addGlobalFn('pjaxSendOnce', destroyArtalk, 'destroyArtalk')
    btf.addGlobalFn('themeChange', artalkChangeMode, 'artalk')
  }

  const loadArtalk = async (el, pageKey) => {
    if (typeof Artalk === 'object') initArtalk(el, pageKey)
    else {
      await btf.getCSS('https://cdn.jsdmirror.com/npm/artalk@2.9.1/dist/Artalk.min.css')
      await btf.getScript('https://cdn.jsdmirror.com/npm/artalk@2.9.1/dist/Artalk.min.js')
      initArtalk(el, pageKey)
    }
  }

  if (isShuoshuo) {
    'Artalk' === 'Artalk'
      ? window.shuoshuoComment = { loadComment: loadArtalk }
      : window.loadOtherComment = loadArtalk
    return
  }

  if ('Artalk' === 'Artalk' || !false) {
    if (false) btf.loadComment(document.getElementById('artalk-wrap'), loadArtalk)
    else setTimeout(loadArtalk, 100)
  } else {
    window.loadOtherComment = loadArtalk
  }
})()</script></div><script>window.newestComments = {
  changeContent: content => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<code>.*?<\/code>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g, "") // remove html tag

    if (content.length > 150) {
      content = content.substring(0, 150) + '...'
    }
    return content
  },

  generateHtml: (array, ele) => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class="aside-list-item">'

        if (true && array[i].avatar) {
          const imgAttr = 'data-lazy-src'
          const lazyloadNative = ''
          result += `<a href="${array[i].url}" class="thumbnail"><img ${imgAttr}="${array[i].avatar}" alt="${array[i].nick}" ${lazyloadNative}></a>`
        }

        result += `<div class="content">
        <a class="comment" href="${array[i].url}" title="${array[i].content}">${array[i].content}</a>
        <div class="name"><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '暂无评论'
    }

    ele.innerHTML = result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh(ele)
  },

  newestCommentInit: (name, getComment) => {
    const $dom = document.querySelector('#card-newest-comments .aside-list')
    if ($dom) {
      const data = btf.saveToLocal.get(name)
      if (data) {
        newestComments.generateHtml(JSON.parse(data), $dom)
      } else {
        getComment($dom)
      }
    }
  },

  run: (name, getComment) => {
    newestComments.newestCommentInit(name, getComment)
    btf.addGlobalFn('pjaxComplete', () => newestComments.newestCommentInit(name, getComment), name)
  }
}</script><script>window.addEventListener('load', () => {
  const keyName = 'artalk-newest-comments'
  const { changeContent, generateHtml, run } = window.newestComments

  const getAvatarValue = async () => {
    const predefinedAvatarCdn = ''
    const predefinedAvatarDefault = ''

    const avatarDefaultFormat = e => e.startsWith('d=') ? e : `d=${e}`

    if (predefinedAvatarCdn && predefinedAvatarDefault) {
      return { avatarCdn: predefinedAvatarCdn, avatarDefault: avatarDefaultFormat(predefinedAvatarDefault) }
    }

    try {
      const res = await fetch('https://service.b23.kim/api/v2/conf')
      const result = await res.json()
      const { mirror, params, default: defaults } = result.frontend_conf.gravatar
      const avatarCdn = predefinedAvatarCdn || mirror
      let avatarDefault = avatarDefaultFormat(predefinedAvatarDefault || params || defaults)
      return { avatarCdn, avatarDefault}
    } catch (e) {
      console.error(e)
      return { avatarCdn: predefinedAvatarCdn, avatarDefault: avatarDefaultFormat(predefinedAvatarDefault) }
    }
  }

  const searchParams = new URLSearchParams({
    'site_name': 'b23.kim',
    'limit': '12', // Fetch more comments to filter pending comments
  })

  const getComment = async (ele) => {
    try {
      const res = await fetch(`https://service.b23.kim/api/v2/stats/latest_comments?${searchParams}`)
      const result = await res.json()
      const { avatarCdn, avatarDefault } = await getAvatarValue()
      const artalk = result.data
        .filter(e => !e.is_pending) // Filter pending comments
        .slice(0, 6) // Limit the number of comments
        .map(e => {
          const avatar = avatarCdn && e.email_encrypted ? `${avatarCdn}${e.email_encrypted}?${avatarDefault}` : ''
          return {
            'avatar': avatar,
            'content': changeContent(e.content_marked),
            'nick': e.nick,
            'url': e.page_url,
            'date': e.date,
          }
        })
      btf.saveToLocal.set(keyName, JSON.stringify(artalk), 10/(60*24))
      generateHtml(artalk, ele)
    } catch (e) {
      console.log(e)
      ele.textContent= "无法获取评论，请确认相关配置是否正确"
    }
  }

  run(keyName, getComment)
})</script><script src="https://cdn.jsdmirror.com/gh/b23-kim/blog@main/static/emoticon.js"></script><script defer="defer" id="ribbon" src="https://cdn.jsdmirror.com/npm/butterfly-extsrc@1.1.6/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script><script>(() => {
  window.ChatraID = 'ZTYqGzsT7qMhexKhK'
  window.Chatra = window.Chatra || function() {
    (window.Chatra.q = window.Chatra.q || []).push(arguments)
  }

  btf.getScript('https://call.chatra.io/chatra.js').then(() => {
    const isChatBtn = true
    const isChatHideShow = false

    if (isChatBtn) {
      const close = () => {
        Chatra('minimizeWidget')
        Chatra('hide')
      }

      const open = () => {
        Chatra('openChat', true)
        Chatra('show')
      }

      window.ChatraSetup = { startHidden: true }
    
      window.chatBtnFn = () => document.getElementById('chatra').classList.contains('chatra--expanded') ? close() : open()

      document.getElementById('chat-btn').style.display = 'block'
    } else if (isChatHideShow) {
      window.chatBtn = {
        hide: () => Chatra('hide'),
        show: () => Chatra('show')
      }
    }
  })
})()</script><link rel="stylesheet" href="https://cdn.jsdmirror.com/npm/aplayer@1.10.1/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdmirror.com/npm/aplayer@1.10.1/dist/APlayer.min.js"></script><script src="https://cdn.jsdmirror.com/npm/butterfly-extsrc@1.1.6/metingjs/dist/Meting.min.js"></script><script>(() => {
  const destroyAplayer = () => {
    if (window.aplayers) {
      for (let i = 0; i < window.aplayers.length; i++) {
        if (!window.aplayers[i].options.fixed) {
          window.aplayers[i].destroy()
        }
      }
    }
  }

  const runMetingJS = () => {
    typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()
  }

  btf.addGlobalFn('pjaxSend', destroyAplayer, 'destroyAplayer')
  btf.addGlobalFn('pjaxComplete', loadMeting, 'runMetingJS')
})()</script><script src="https://cdn.jsdmirror.com/npm/pjax@0.2.8/pjax.min.js" defer="defer"></script><script>document.addEventListener('DOMContentLoaded', () => {
  const pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => {
      try {
        fn()
      } catch (err) {
        console.debug('Pjax callback failed:', err)
      }
    })
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      true
        ? pjax.loadUrl('/404.html')
        : window.location.href = e.request.responseURL
    }
  })
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden="hidden"></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="local-search-input"><input placeholder="搜索文章" type="text"/></div><hr/><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none;"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_footer_beautify_injector_config(){
    var parent_div_git = document.getElementsByClassName('footer_custom_text')[0];
    var item_html = '<div id="workboard"></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="博客框架为Hexo_v6.2.0" title=""><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" data-title="主题版本Butterfly_v4.3.1" title=""><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender" alt=""/></a><a class="github-badge" target="_blank" href="https://edgeone.ai/" style="margin-inline:5px" data-title="本站采用多线部署，主线路托管于EdgeOne" title=""><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdmirror.com/gh/b23-kim/blog@main/image/Hosted-EdgeOne-%2300a3ff-ELogo.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://www.cloudflare.com/" style="margin-inline:5px" data-title="本站采用多线部署，备用线路托管于Cloudflare" title=""><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Hosted-Cloudflare-F48120?style=flat&amp;logo=cloudflare" alt=""/></a><a class="github-badge" target="_blank" href="https://beian.mps.gov.cn/#/query/webSearch?code=37083102000125" style="margin-inline:5px" data-title="本网站已完成公安联网备案，点击前往查询" title=""><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdmirror.com/gh/b23-kim/blog@main/image/%E9%B2%81%E5%85%AC%E7%BD%91%E5%AE%89%E5%A4%87-37083102000125%E5%8F%B7-darkblue.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://beian.miit.gov.cn/" style="margin-inline:5px" data-title="本网站已完成ICP备案，点击前往备案管理系统官网" title=""><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdmirror.com/gh/b23-kim/blog@main/image/%E9%B2%81ICP%E5%A4%87-2025196989%E5%8F%B7--1-brightgreen.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://icp.gov.moe/?keyword=20251133" style="margin-inline:5px" data-title="本站已加入萌 “挨谁劈” 备备备，背背背背(案)，萌ICP备20251133号" title=""><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdmirror.com/gh/b23-kim/blog@main/image/MoeICP-20251133-FE1384.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" data-title="本站项目由Github托管" title=""><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub" alt=""/></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" data-title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可" title=""><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris" alt=""/></a></p>';
    console.log('已挂载butterfly_footer_beautify')
    parent_div_git.insertAdjacentHTML("beforeend",item_html)
    }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_footer_beautify_injector_config();
  }
  else if (epage === cpage){
    butterfly_footer_beautify_injector_config();
  }
  </script><script async src="https://cdn.jsdmirror.com/gh/b23-kim/blog@main/static/runtime.js"></script><!-- hexo injector body_end end --></body></html>