<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <author>
    <name>b23.kim</name>
  </author>
  <generator uri="https://hexo.io/">Hexo</generator>
  <id>https://www.b23.kim/</id>
  <link href="https://www.b23.kim/" rel="alternate"/>
  <link href="https://www.b23.kim/atom.xml" rel="self"/>
  <rights>All rights reserved 2026, b23.kim</rights>
  <subtitle>碧而闪电尅挨么？</subtitle>
  <title>b23.kim</title>
  <updated>2026-02-13T11:36:20.793Z</updated>
  <entry>
    <author>
      <name>b23.kim</name>
    </author>
    <category term="安全技术" scheme="https://www.b23.kim/categories/%E5%AE%89%E5%85%A8%E6%8A%80%E6%9C%AF/"/>
    <content>
      <![CDATA[<p>OK啊，今天给大家带来哔哩哔哩最新最热漏……bug。<br>其实也不算新了，早就有了。大概这个漏洞是我两年前左右挖出来的，只不过是没什么人知道和滥用。大概也就跟朋友互相开玩笑拿这玩意玩过而已。<br>那么我为什么要提起来呢？原因是<strong>都2026年了B站还没修这个bug</strong>。况且之前我在BSRC提了没人理我（悲）<br>客户端版本：8.83.0 (release-b23203277)，也就是我写稿时候的市场包最新版本。</p><p>首先来给大家看一眼最终效果：<br><img src="https://i0.hdslb.com/bfs/mallup/mall/3y/x2/3yx22z03x011112y103yzyyw2ww3zz12.png" alt="客户端拒绝服务攻击"><br>首先，它最明显的攻击路径是让你正常用户在正常情况下进入了不该进入的页面，从而导致操作被软锁。最终引发客户端拒绝服务。<br>看背景，它是发生在游戏中心里的。因为它是在游戏中心下面的弹框。</p><p>实际上，看似在游戏中心里，实则是从<strong>外部跳转</strong>过去的。而跳转的位置可以是<code>任意</code>。<br>这让危害进一步提升：如果只是朋友间开玩笑那还好说，问题是这个东西它 能 被 滥 用！也就是说它能够被用于炸任何人，只要对方点了攻击者指定构造的URL。这跟“你的账号已被封禁”又有什么区别呢？<br>但它的影响却又没有那么严重，因为只是影响当前实例的状态。也就是说用户只需要划后台给它硬重启下就能解决这个问题。<br>可是那些喜欢好奇点着玩的小孩子用户呢？他们只知道手机划不了了，如果不求助大人的帮助可能难以独立解决。况且这个窗口的文案容易让小孩自己就开了青少年模式，<del>于是后悔了却发现忘记密码了</del>。</p><p>B站内部写客户端代码的肯定都知道，客户端里面内置了一套自定义协议，名字叫urlScheme。它能让我们以深度链接的方式唤起某一功能或策略，用于指定场景下的能力打通。<br>当然这个拒绝服务攻击的漏洞也不例外，它也是以深度链接的形式存在的。不然不可能通过外部跳转来触发。</p><p>以下是我构造的攻击URL：<br><a href="https://a.app.qq.com/o/simple.jsp?pkgname=tv.danmaku.bili&amp;ckey=CK1474482145968&amp;android_schema=bilibili://game_center/home_wiki?message=%E5%98%BF%E5%A3%B3&nextLink=bilibili%253a%252f%252fteenagers_mode%252fforce_enter%253fbbid%253d94bdf782-a460-4356-8e32-143c047483db%2526enter_type%253d13%2526mode%253dteenager%2526oid%253d2258947&token=b66fa5b0519ecf6da307f28501036c2f&amp;name=bilibili-currency-link.normal.jump">https://a.app.qq.com/o/simple.jsp?pkgname=tv.danmaku.bili&amp;ckey=CK1474482145968&amp;android_schema=bilibili%3a%2f%2fgame_center%2fhome_wiki%3fmessage%3d%e5%98%bf%e5%a3%b3%26nextLink%3dbilibili%253a%252f%252fteenagers_mode%252fforce_enter%253fbbid%253d94bdf782-a460-4356-8e32-143c047483db%2526enter_type%253d13%2526mode%253dteenager%2526oid%253d2258947%26token%3db66fa5b0519ecf6da307f28501036c2f&amp;name=bilibili-currency-link.normal.jump</a><br>录屏复现攻击链路：</p><div align=center class="aspect-ratio"><iframe src="//player.bilibili.com/player.html?isOutside=true&aid=116063001909110&bvid=BV1hScEzREeX&cid=36036808604&p=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"></iframe></div><p>我们不难发现，这个URL由好几部分组成，每个部分都有不同程度的url编码来嵌套各个部分来作为下一部分的参数。</p><p>让我们拆开每一部分来看：<br>首先进行第一次URL解码</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://a.app.qq.com/o/simple.jsp?pkgname=tv.danmaku.bili&amp;ckey=CK1474482145968&amp;android_schema=bilibili://game_center/home_wiki?message=嘿壳&amp;nextLink=bilibili%3a%2f%2fteenagers_mode%2fforce_enter%3fbbid%3d94bdf782-a460-4356-8e32-143c047483db%26enter_type%3d13%26mode%3dteenager%26oid%3d2258947&amp;token=b66fa5b0519ecf6da307f28501036c2f&amp;name=bilibili-currency-link.normal.jump</span><br></pre></td></tr></table></figure><p>这时，我们得以窥见腾讯的主服务跳转URL域名<code>a.app.qq.com</code>路径下的android_schema参数的真相。<br><strong>bilibili://game_center/home_wiki?message=嘿壳&amp;nextLink=</strong><br>它首先跳转到了游戏中心，然后由游戏中心代为跳转nextLink。这也就是为什么你能看到弹窗的背景的游戏中心的原因所在。<br>然后进行第二次URL解码</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://a.app.qq.com/o/simple.jsp?pkgname=tv.danmaku.bili&amp;ckey=CK1474482145968&amp;android_schema=bilibili://game_center/home_wiki?message=嘿壳&amp;nextLink=bilibili://teenagers_mode/force_enter?bbid=94bdf782-a460-4356-8e32-143c047483db&amp;enter_type=13&amp;mode=teenager&amp;oid=2258947&amp;token=b66fa5b0519ecf6da307f28501036c2f&amp;name=bilibili-currency-link.normal.jump</span><br></pre></td></tr></table></figure><p>这次我们获得了关于它的全部真相。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bilibili://game_center/home_wiki?nextLink=bilibili://teenagers_mode/force_enter?mode=teenager</span><br></pre></td></tr></table></figure><p>这才是它的核心，其余的全是点缀用的垃圾参数，目的是混淆视听。以上是一个最小的测试用例，你可以直接复制它去浏览器跳转这个目标。你就会发现跟那个链接在QQ里的效果其实是一模一样的，只不过QQ的多了一层跳板而已。<br>当然，如果你把<code>mode=teenager</code>这个参数删了的话你就会发现根本就点不动了，那唯一一个按钮也点不动。整个界面没有一点能动的地方了。<br>还是和之前一样，只删参数：</p><div align=center class="aspect-ratio"><iframe src="//player.bilibili.com/player.html?isOutside=true&aid=116063069017686&bvid=BV1HMcJzkEXA&cid=36037332937&p=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"></iframe></div>至于为什么不直接用force_enter，是因为这个没办法对外深度链接，只能在客户端里跳才能唤起对应功能。但是如果我们再套一个对外的“跳转层”游戏中心的跳板就又可以利用攻击了。总之就这样，很简单。问题出在了他们没有对场景做检查和校验，让任意跳转都能触发这个硬控手段。为了防止黑客搞事，建议修复。<hr><p>修复建议：给“强制进入未成人模式”的相关深度链接加场景校验，不要让任何链接都能调用它。或者是如果业务不是必须用到深度链接的话可以考虑其他方式调用，这样别人就没辙了。一定要提高安全性，不然会 <del>成为漏勺</del> 引发网络隐患和安全风险。</p>]]>
    </content>
    <id>https://www.b23.kim/details/04007216d618.html</id>
    <link href="https://www.b23.kim/details/04007216d618.html"/>
    <published>2026-02-13T10:05:43.000Z</published>
    <summary>
      <![CDATA[<p>OK啊，今天给大家带来哔哩哔哩最新最热漏……bug。<br>其实也不算新了，早就有了。大概这个漏洞是我两年前左右挖出来的，只不过是没什么人知道和滥用。大概也就跟朋友互相开玩笑拿这玩意玩过而已。<br>那么我为什么要提起来呢？原因是<strong>都2026年了B站还没修这个]]>
    </summary>
    <title>B站船新漏勺，神秘小链接让客户端拒绝服务</title>
    <updated>2026-02-13T11:36:20.793Z</updated>
  </entry>
  <entry>
    <author>
      <name>b23.kim</name>
    </author>
    <category term="杂谈" scheme="https://www.b23.kim/categories/%E6%9D%82%E8%B0%88/"/>
    <content>
      <![CDATA[<p>网络安全这块。<br>最近的时候，我在某个嘿壳群闲聊。然后就有人发了个不知道从哪搞来的一键加群链接。我一看，这个链接之前我用朋友资质找腾讯申请过。只不过后面被朋友发的多了腾讯以非法滥用为由给我回收了。<br>刚好，那个群的名字是<code>打洲社-清华大学</code>。“清华大学”？一开始我估计又是哪个腾讯内邀的达人创建的名字拿来装B或者引流的吧。<br>于是我和其他嘿壳们一起去玩这个链接了，就这样不知不觉中开始传播了。任何人只需要在QQ里访问这个链接就会直接进群，甚至能直接无视“不允许任何人加群”限制（专用接口）</p><p><img src="https://i0.hdslb.com/bfs/mallup/mall/01/02/0102zxx3002w2wzyzz10w3122ww2003x.png" alt="链接一键加群能力"></p><p>直到今天……<br>有人在群里搞事，也不知道链接是传播到恶俗组织里了还是怎么。，总之部分聊天记录如下：<br><img src="https://i0.hdslb.com/bfs/mallup/mall/11/zx/11zxyw01x13w3w2yx0zxzzzzyw00w000.png"></p><p>就这样互联网漏勺氛围持续了没多久，就有一位群员艾特了群管理：<br><img src="https://i0.hdslb.com/bfs/mallup/mall/yw/2w/yw2w120013012wzyw23w0300zx10zy3y.png"><br>于是我就被踢了，同时他们打开了不允许任何人加群。但是这时候他们还没意识到事情的严重性……<br>原本到这里就应该结束了，可是最特么草台班子的时刻来了（你猜猜我们是怎么加的群）：<br><img src="https://i0.hdslb.com/bfs/mallup/mall/w0/yy/w0yyzwzzw0w1yw3w3w2yx1x3132zx23x.png" alt="马奇诺防线"><br>没错，我又加回去了。实际上我加了那个群几乎没怎么看过，嘿壳群里聊天的时候他们提了下这个群的动向我才知道被踢的。<br>那我肯定好奇里面发生了什么啊，自然得进去看一下。<br>话虽如此，那个一键加群链接是没法无视踢黑(不再允许此人加群)的。在那种情况下你也没有办法踢黑，因为根本分不清到底是不是自己人全砍了那岂不是一种拒绝服务？</p><p>其实我这次进群只是为了吃瓜看乐子，没打算发言的。<br>可是这场面很难让我不忍住说两句：<br><img src="https://i0.hdslb.com/bfs/mallup/mall/3w/w1/3ww1zyzw2x3x2wx2yy3ww1x33zx33z00.png"><br>“有黑客”可还行？笑死我了这句。<br>最后一句我可有话说了，作为曾经向腾讯申请成功过一键加群的人，我很清楚这加群链接只要是个QQ号都能点进去加群（被封的不知道，可能不行）。<br>什么？你问我他们这个严格身份验证的活动别人是怎么拿到的链接？别小瞧黑客，虽然我没玩过三角洲，没实机看究竟是怎么回事。反正你只要是在公网上，黑客们就会尝试给你翻个底朝天。说不准就是黑客在扒活动页面的时候抓出来的呢？当然现实可能并不是如此，这也只是我的一些推断。总之要靠验证的人去泄露那相比之下概率低多了。</p><p>这个群的管理在发现事情一发不可收拾的时候选择了禁言：<br><img src="https://i0.hdslb.com/bfs/mallup/mall/x1/yw/x1yww2w211x2w1yw2zyz3w11zxyxzwzx.png"><br>从这一刻开始，我才终于明白原来这真是清华大学里的群。终于啊，网上的假群见多了头一次见到真家伙。<br>然后那人骂的不是我，是另一个空白名字的人（我服了，空白名字的缺点体现出来了）</p><p>当然，过了一会他又解除全员禁言了：<br><img src="https://i0.hdslb.com/bfs/mallup/mall/zy/3y/zy3y11x0w30112zyw22yw03w13w0w22y.png"><br>从那时起，这位管理彻底破防了。就这样一直禁言到我写到这个字的时候。确实，这种事换谁谁够，一堆捣乱的里面还不一定挑到几个自己人。<br>这也就是上面所有截图都是“全员禁言中”状态的原因了。<br>就这样，这件事到这里就告一段落了。如果后续有更新的话我会继续往下写。</p><hr><p>其实一开始我就觉得腾讯这种设计本来就是要遭滥用一样，跟新式互联网病毒似的。之前都爆发过一阵子了，直到把权限回收并且设立严格门槛（需要是游戏公司并且有软著、已上架应用商店且实际可玩）才解决。<br>那时我就想，万一有人复制别人链接不也照样传播吗？现在抓个包又不麻烦，更何况还是HTTP包。这下好了，回旋镖打自己身上了。<br>所以设计就从一开始就是有问题的，加群这种涉及到数据写入的操作竟然用GET请求？？要我说在指定活动页面用POST来请求取一个只有一次有效且获取后不用的时候短时间过期销毁的一键加群链接那才符合网络安全的“最小必要原则”，况且还不会影响业务。<br>腾讯是机器人企业吗？</p>]]>
    </content>
    <id>https://www.b23.kim/details/a03830792218.html</id>
    <link href="https://www.b23.kim/details/a03830792218.html"/>
    <published>2026-02-11T15:33:04.000Z</published>
    <summary>
      <![CDATA[<p>网络安全这块。<br>最近的时候，我在某个嘿壳群闲聊。然后就有人发了个不知道从哪搞来的一键加群链接。我一看，这个链接之前我用朋友资质找腾讯申请过。只不过后面被朋友发的多了腾讯以非法滥用为由给我回收了。<br>刚好，那个群的名字是<code>打洲社-清华大学</code>。“]]>
    </summary>
    <title>什么？清华大学的某游戏社团的QQ群被黑客给嘿啦？！</title>
    <updated>2026-02-11T16:34:21.521Z</updated>
  </entry>
  <entry>
    <author>
      <name>b23.kim</name>
    </author>
    <category term="通用技术" scheme="https://www.b23.kim/categories/%E9%80%9A%E7%94%A8%E6%8A%80%E6%9C%AF/"/>
    <content>
      <![CDATA[<p>跟腾讯客服扯了两天，终于成功通过了QQ登录的接入权限。<br>同时我也算是把所有坑都踩了一遍，今天来一次讲清。</p><h1 id="注册开发者"><a href="#注册开发者" class="headerlink" title="注册开发者"></a>注册开发者</h1><p>首先去 <a href="https://q.qq.com/#/">https://q.qq.com/#/</a> 登录自己的QQ号，然后走注册流程。<br>注册完成后你就成为了QQ开放平台的开发者了，然后去新建一个小程序。新建小程序的时候里面也会让你提供开发者信息，提交完成后会进行人工审核。需要的信息比较多，有的甚至需要住址。好在申请一次后如果通过就不用管了。提审以后在互联会同步开发者信息，这样你就完成了注册这一步。</p><p>为什么不直接在互联注册？因为互联带到的是 <a href="https://open.tencent.com/">https://open.tencent.com/</a> 这个“腾讯开放平台”总入口，你也依然需要在“QQ开放平台”注册并验证开发者信息。<br>当然腾讯这个后台太多了，感觉有点杂。可能还有其他的办法能注册上，反正我是这样过来的。</p><h1 id="创建网站应用"><a href="#创建网站应用" class="headerlink" title="创建网站应用"></a>创建网站应用</h1><p>重点来了，当你完成开发者信息提交并审核通过以后，你就可以创建应用了。<br>当然应用资料的审核也是人工的，所以按照审核规范肯定是少不了坑点的。</p><p>基本信息：<br>你需要准备一个<strong>应用名称</strong>、<strong>应用图标</strong>和<strong>应用介绍</strong>。<br>应用名称是你希望以用户登录的时候在授权页看到的名字，当然因为我的域名就是我网站的名字所以这里我写的<code>b23.kim</code>。<br>应用图标本身是非必填的，早期不上传图标也能过审。现在虽然也不是必须上传，但是没有图标的应用已经不再能过审了。<br>应用介绍是个必填项，不在前端展示。仅仅只是给审核看的而已，但是我不确定未来会不会改。<br>调试QQ号一般不填，留空即可</p><p>平台信息：<br>你也需要准备<strong>网站地址</strong>、<strong>网站回调域</strong>、<strong>主办单位名称</strong>、<strong>网站地址备案号</strong>。<br>网站地址就是你要申请的网站的目标URL。审核的时候人工会去看这个地址里有没有放置明显的登录按钮，以及是否包含QQ登录。如果你填的网站首页地址的话如果审核找不到登录按钮是会打回的（审核看到登录按钮之前不会多点，按钮位置需要好找），对于博客而言首页一般是没有登录按钮的，这种情况下网站地址你填文章页有评论区登录的内页URL就行。这里我填的是 <a href="https://www.b23.kim/details/659d6747b273.html">https://www.b23.kim/details/659d6747b273.html</a> 某一带评论区的文章的链接（也就是所谓的“内页”）。<br>这个地址不仅仅是给审核看的，在登录的时候在验证页是作为应用名称点击跳转的链接使用的：<br><img src="https://i0.hdslb.com/bfs/mallup/mall/w0/2z/w02z2z0302x003x0x1yw3z2xx2x33w01.png" alt="点击“应用名称”后跳转到“网站地址”"><br>审核过后如果不满意可以修改重新提交，就是需要再审一次而已。</p><p>网站回调域是在QQ登录完成后要回调的地址，如果多个就以英文<code>;</code>隔开。<br><img src="https://i0.hdslb.com/bfs/mallup/mall/3x/yz/3xyzw23x3wx1ywyxzz3zzx01yzw200x0.png" alt="回调域相关"><br>这里回调域是作为一个白名单使用的，只有提交了的回调域才能被回调，有效防止盗用。</p><p>主办单位名称如果是企业就是企业名，如果是个人那就随便了。我这里写的是“个人主体”。如果是修改信息的话这一栏是“提供者”，务必注意。<br>网站地址备案号的坑最多，稍微错一点就会被打回。而最容易错的点就是格式问题了，需要精确到横杠后面那个数字。如果没有就会说“备案号不匹配”。<br><img src="https://i0.hdslb.com/bfs/mallup/mall/02/x3/02x3zxx0w03xw0zyx03zzyzyzwyyzw3z.png" alt="备案号规范"></p><p>如果你能绕过这些坑的话那么恭喜你，不出意外的话只需要审核一次就能通过。一般两个工作日内就能出结果。</p><h1 id="接入"><a href="#接入" class="headerlink" title="接入"></a>接入</h1><p>QQ登录能干的事很多，具体见开发文档：<a href="https://wiki.connect.qq.com/oauth2-0%e7%ae%80%e4%bb%8b">https://wiki.connect.qq.com/oauth2-0%e7%ae%80%e4%bb%8b</a><br>有接口能获取用户的会员状态啥的，<del>基本上我也忘光了</del>。但是腾讯为了保护隐私，验证后拿到的基本上都是OpenID，没有QQ号。</p><p>本站的技术栈为Artalk + Casdoor组合使用，有关它们俩的教程如下<br>1.Artalk的部署：<a href="https://www.b23.kim/details/5250c3717631.html">https://www.b23.kim/details/5250c3717631.html</a> (目前似乎原作者已经不再维护)<br>2.Casdoor的搭建：<a href="https://www.b23.kim/details/808a9f471a72.html">https://www.b23.kim/details/808a9f471a72.html</a> (其实你可以直接在应用市场里面安装 小声bb)<br>3.强行兼容：<a href="https://www.b23.kim/details/ce4b38f27c8d.html">https://www.b23.kim/details/ce4b38f27c8d.html</a> （硬核清理Casdoor的石山）<br>如果你是其他场景或者技术栈不同的话以你那边和开发文档为准，以及QQ使用的是标准的OAuth2.0接口。</p><p>在Casdoor里面创建一个提供商，分类<strong>OAuth</strong>，类型<strong>QQ</strong>。<br>然后在客户端ID那里填写你的APP ID，在客户端ID那里填写你的APP Key即可。<br>最后别忘了在“应用”里面选上新建的提供商<br>（其实这一步你需要在提交审核之前就做，要不然他们看不到你的QQ登录按钮）</p><p>另外最好是在提交审核之前就配置好接口，防止审核点一下QQ登录的按钮发现你业务方没配置开发信息再因为这个打回。<br>在审核通过前，登录页应该是这样的：<br><img src="https://i0.hdslb.com/bfs/mallup/mall/yw/w2/yww213zw3xyx002zzyw313zyyxzw2zw0.png" alt="未过审时无权限"><br>在配置开发信息前，登录页是这样的：<br><img src="https://i0.hdslb.com/bfs/mallup/mall/x1/2y/x12y0203100213zwx0zzyyx1w3x3zwx0.png" alt="别忘了填上开发信息"><br>这个是腾讯客服截图的，我这边会另外显示一个“给您造成的不便……”，只是当时我没截图而已。<br>当时问的时候他是这样说的：<br><img src="https://i0.hdslb.com/bfs/mallup/mall/3w/x1/3wx13z1201zx11ywzx0203w03z3xzwx1.png" alt="腾讯客服：你APPID哪去了"></p>]]>
    </content>
    <id>https://www.b23.kim/details/c92f4b553173.html</id>
    <link href="https://www.b23.kim/details/c92f4b553173.html"/>
    <published>2026-02-06T14:48:47.000Z</published>
    <summary>
      <![CDATA[<p>跟腾讯客服扯了两天，终于成功通过了QQ登录的接入权限。<br>同时我也算是把所有坑都踩了一遍，今天来一次讲清。</p>
<h1 id="注册开发者"><a href="#注册开发者" class="headerlink" title="注册开发者"></a>注册开发者</h]]>
    </summary>
    <title>我是这样申请并接入QQ登录的</title>
    <updated>2026-02-06T16:09:25.199Z</updated>
  </entry>
  <entry>
    <author>
      <name>b23.kim</name>
    </author>
    <content>
      <![CDATA[<p>很久以前，我看到一个评论区对域名的级数吵的不可开交。有人认为这是三级域名，也有人认为这是二级域名。双方各执一词，始终坚信自己是对的，而对方是错的（评论区吵架现状）。而原视频讲的是一个免费域名分发的好像是（具体我也忘了，我大概在三年前看到的那个视频）</p><p>因为突然想起来这个，所以我决定单独新开一篇文章来讲这个事。“三级域名”和“二级域名”到底应该如何区分。<br>实际上这个还真难分对错，因为参考系不同所以在不同的角度下有不同的答案。</p><p>举个例子，假如<code>lhy.b23.kim</code>这个域名（其实真的存在，我分发给我朋友用的）。<br>如果按“三级域名”的标准解读：<br>1.<code>kim</code><br>2.<code>b23</code><br>3.<code>lhy</code><br>正好，从后缀开始从右往左数，确实是三级。那么这个角度是相对于注册局而言的。ICANN管理根部，把不同类型的根分配给不同的注册局。然后由用户/企业挑选根部来注册出新的一级，注册完成后在自己的域(例如<code>b23.kim</code>)下进一步管理子级的创建和分发使用。这是一种技术严谨的观察角度。<br>根也被称为“顶级域名”，也就是一级域名。一级就是顶级，因为没有在它们之上的域了所以是顶级。（学新闻学的会把这里的“顶级”当形容词来用，比如<a href="https://www.bilibili.com/video/BV1pzNReYExQ/?spm_id_from=333.337.search-card.all.click&vd_source=4cb05483c9801a83ea56fac13822a157">BV1pzNReYExQ</a>）</p><p>然而实际上终端用户或企业根本就接触不到根部，他们只能管理自己注册后的域(例如<code>b23.kim</code>就是自己注册后的域)以及其子级。所以按“使用者”的角度来的话……<br>那就是“二级域名”的标准解读：<br>1.<code>b23.kim</code><br>2.<code>lhy</code><br>自己所管理的b23.kim作为一整级，后面分发的都是它的二级域。这样的观察角度是基于自己<strong>实际所持有的域</strong>的再分发。</p><p>一般情况下，在使用领域下普遍采用“二级域名”的解读方式。原因还是自己分出来的二级，所以这样来看相对方便一些，尽管它技术层面并不标准。实际上也难分对错，只需要让别人能理解到自己说的是哪一级就行。技术领域说三级，应用领域说二级也并无不妥，只是大家都习惯了这样叫而已。</p><p>不过还有一种特殊的情况，那就是类似<code>.com.cn</code>和<code>.gov.cn</code>的情况。在注册后被分配的时候就已经是第三级的状态了。<br>比如某人注册了一个<code>b23.com.cn</code>域名，然后又分配了一个下级<code>lhy</code>。在技术上它是这样的：<br>1.<code>cn</code><br>2.<code>com</code><br>3.<code>b23</code><br>4.<code>lhy</code><br>那么它就是一个标准的四级域名。而对于<code>com.cn</code>来说，你不能把这一个整体看作顶级域名。它的顶级是<code>cn</code>，只不过向下又分配了一层<code>com</code>。同时<code>com.cn</code>这个二级域名被保留用作给人单独注册下级使用了而已。所以在注册后，<code>b23.com.cn</code>就已经是个三级域名了。因此这类又细化管理的域名是一种相对独特且特殊的存在，因为你无法注册类似<code>com.cn</code>或者<code>gov.cn</code>本身。<br>当然如果你按照实际控制权把<code>b23.com.cn</code>整体作为顶级，下级<code>lhy</code>作为二级的话也不是不可以，就像是上面那个“二级域名”解读的例子的道理是一样的。</p><p>对于DNS（域名系统）来说，理论上你能创建无限级域名。但是实际上它是有限长的，技术上二级域名(b23.kim的“b23”部分)的长度限制是1-63个字符(有些根域可能有不一样的限制)，一个完整域名的总长度不应该超过253个字符。<br>例如可以这样：<br><code>a.b.c.d.e.f.g.h.i.j.k.l.m.n.o.p.q.r.s.t.u.v.w.x.y.z.b23.kim</code><br>（这么长，整活必备啊）<br>其实已经有人这么整了哈哈：</p><div align=center class="aspect-ratio"><iframe src="//player.bilibili.com/player.html?isOutside=true&aid=112994231193219&bvid=BV1vQWseUExm&cid=500001656022050&p=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"></iframe></div><div align=center class="aspect-ratio"><iframe src="//player.bilibili.com/player.html?isOutside=true&aid=112972907152246&bvid=BV164e5enEhB&cid=500001652001652&p=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"></iframe></div><div align=center class="aspect-ratio"><iframe src="//player.bilibili.com/player.html?isOutside=true&aid=112903030113289&bvid=BV1PaicetEcF&cid=500001638012657&p=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"></iframe></div>]]>
    </content>
    <id>https://www.b23.kim/details/659d6747b273.html</id>
    <link href="https://www.b23.kim/details/659d6747b273.html"/>
    <published>2026-02-04T06:41:29.000Z</published>
    <summary>
      <![CDATA[<p>很久以前，我看到一个评论区对域名的级数吵的不可开交。有人认为这是三级域名，也有人认为这是二级域名。双方各执一词，始终坚信自己是对的，而对方是错的（评论区吵架现状）。而原视频讲的是一个免费域名分发的好像是（具体我也忘了，我大概在三年前看到的那个视频）</p>
<p>因为突然想]]>
    </summary>
    <title>三级域名？二级域名？这些区别到底在哪，如何区分</title>
    <updated>2026-02-04T08:43:26.962Z</updated>
  </entry>
  <entry>
    <author>
      <name>b23.kim</name>
    </author>
    <category term="通用技术" scheme="https://www.b23.kim/categories/%E9%80%9A%E7%94%A8%E6%8A%80%E6%9C%AF/"/>
    <content>
      <![CDATA[<p>众所周知，Artalk支持标准的OAuth接口的社交登录方式。但是有些奇怪的SSO提供的接口可能不是标准的OAuth，甚至Artalk和提供SSO的软件都不支持修改自己读取的路径或写入的路径。（点名Casdoor）<br>灵感来源：<a href="https://blog.liushen.fun/posts/8624756e/">https://blog.liushen.fun/posts/8624756e/</a></p><h1 id="登录的一般过程"><a href="#登录的一般过程" class="headerlink" title="登录的一般过程"></a>登录的一般过程</h1><p>本文将以Casdoor作为例子，实际根据相关接口情况思路通用。<br>在此之前我们需要了解Artalk的OAuth是如何验证的：<br>第一步首先你点击了“登录”按钮，然后选择了OAuth登录方式。这时候Artalk会跳转<code>配置文件的Domain字段/authorize</code>（此时查询参数携带client_id、redirect_uri、response_type、scope、state字段）这个目标登录页面，交由目标OAuth服务(Casdoor)来给用户提供服务。然后你在这个登录页面选择了 <strong>使用Github登录</strong> ，跳转了Github官方的验证页。验证完成后会跳转到Github后台配置的回调<code>Casdoor后端域名/callback</code>交给Casdoor来验证和处理GitHub验证完成后的他们返回来的字段，Casdoor验证并处理完成后携带最终字段(Casdoor自己的授权码)重定向回由Artalk透传给Casdoor的redirect_uri(Artalk后端域名/api/v2/auth/auth0/callback)把授权码等材料递给Artalk，最终由Artalk调用 授权码换取Token(Casdoor后端域名/oauth/token) 和 获取用户身份信息(Casdoor后端域名/userinfo)接口后发布评论。（好长的流程）</p><p>简单来说就是这个流程：Artalk -&gt; Casdoor -&gt; Github -&gt; Casdoor -&gt; Artalk<br>对 <strong>Artalk</strong> 来说：它只认识 Casdoor，它以为 Casdoor 就是最终的账号系统。<br>对 <strong>GitHub</strong> 来说：它只认识 Casdoor，它不知道 Artalk 的存在。<br><strong>Casdoor</strong>：起到了“中间人”和“翻译官”的作用，把五花八门的登录方式（GitHub, 微信, QQ等）统一成标准接口提供给 Artalk。</p><h1 id="调用接口约定"><a href="#调用接口约定" class="headerlink" title="调用接口约定"></a>调用接口约定</h1><p>遗憾的是，Casdoor的很多接口都不是标准OAuth接口，而Artalk是严格按照标准OAuth的查询路径进行调用的。</p><p>以下是 <strong>标准OAuth</strong> 调用约定：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">AUTH0_AUTHORIZE_URL = https://your-auth0-domain/authorize       # 用户跳转登录页面，获取授权码</span><br><span class="line">AUTH0_TOKEN_URL = https://your-auth0-domain/oauth/token         # 授权码换取 Token</span><br><span class="line">AUTH0_USERINFO_URL = https://your-auth0-domain/userinfo         # 获取用户基本信息</span><br></pre></td></tr></table></figure><p>对应路径：<br><code>/authorize</code>：用户跳转到的目标登录页面(GET-&gt;html)<br><code>/oauth/token</code>：提供商验证已完成后授权码换Token(POST-&gt;json)<br><code>/userinfo</code>：登录后的用户基本信息接口(GET-&gt;json)</p><p>而 <strong>Casdoor</strong> 呢？它的接口是这样的：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CASDOOR_AUTHORIZE_URL = https://your-casdoor-domain/login/oauth/authorize        # 用户跳转 Casdoor 登录页面</span><br><span class="line">CASDOOR_TOKEN_URL = https://your-casdoor-domain/api/login/oauth/access_token     # 授权码换取 Token</span><br><span class="line">CASDOOR_USERINFO_URL = https://your-casdoor-domain/api/userinfo                  # 获取用户基本信息</span><br></pre></td></tr></table></figure><p>对应路径：<br><code>/login/oauth/authorize</code>：用户跳转到的Casdoor登录页面(GET-&gt;html)<br><code>/api/login/oauth/access_token</code>：提供商验证已完成后授权码换Token(POST-&gt;json)<br><code>/api/userinfo</code>：登录后的用户基本信息接口(GET-&gt;json)<br>官方文档：<a href="https://www.casdoor.org/zh/docs/how-to-connect/oauth">https://www.casdoor.org/zh/docs/how-to-connect/oauth</a></p><p>对于Artalk默认行为，如果在回调被访问的时候连不到正确的Casdoor指定的授权码换Token这个接口的话，将会直接返回以下内容而无法继续：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span><span class="attr">&quot;msg&quot;</span><span class="punctuation">:</span><span class="string">&quot;Field to complete user auth&quot;</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>相关日志内容（这个日志在artalk.log或者docker运行日志都能看到）：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">2026/01/28 16:37:31.095 [31mERROR[0m [handler/auth_social_login.go:74] [SocialLogin] oauth2: cannot parse json: invalid character &#x27;&lt;&#x27; looking for beginning of value</span><br><span class="line">2026/01/28 16:37:31.095 [31mERROR[0m [handler/auth_social_login.go:75] Field to complete user auth &#123;&quot;id&quot;: &quot;a75c1925-613f-4ba1-9ec2-499a3dbd6b4d&quot;, &quot;path&quot;: &quot;/api/v2/auth/auth0/callback&quot;, &quot;method&quot;: &quot;GET&quot;, &quot;ip&quot;: &quot;不.给.你.看&quot;, &quot;remote_addr&quot;: &quot;223.109.0.243:9440&quot;, &quot;host&quot;: &quot;service.b23.kim&quot;, &quot;referer&quot;: &quot;&quot;, &quot;user_agent&quot;: &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.140&quot;, &quot;status&quot;: 500&#125;</span><br><span class="line">2026/01/28 16:37:31.095 [31mERROR[0m [HTTP] 16:37:30 | 500 | 126.120052ms | 111.36.17.150 | GET | /api/v2/auth/auth0/callback | - | a75c1925-613f-4ba1-9ec2-499a3dbd6b4d</span><br></pre></td></tr></table></figure><p>这里的异常情况是Artalk按照标准OAuth接口去请求Casdoor后端，结果人家根本不是这个接口返回了404页面。最终Artalk拿不到期望的含有Token的json字符串导致异常。<br>如果是登录页面没做重定向的话因为Casdoor也没有那个路径，所有用户将直接被跳转到404页面而非期望的登录页面。</p><h1 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h1><p>我们需要做的是把<code>OAuth标准接口</code>映射到<code>Casdoor等非标准Oauth接口</code>上。<br><code>/authorize</code>  302重定向-&gt; <code>/login/oauth/authorize</code>（因为是跳转到登录页，保留查询参数直接跳到Casdoor的统一入口）<br><code>/oauth/token</code> URL重写-&gt; <code>/api/login/oauth/access_token</code>（因为这里是POST请求，只能路由映射）<br><code>/userinfo</code> 302重定向-&gt; <code>/api/userinfo</code>（这里我用302重定向没出问题，如果有问题的话试着也换成URL重写）<br>这个顺序千万不能反！<br>具体操作：<br>如果你是二进制安装包安装的Casdoor，你可以用Nginx来实现。<br>如果是Docker安装并且直接打到公网的话，套一个CDN并直接在CDN测配置回源重写或302重定向到一个新目标。</p><p>对于腾讯的EdgeOne：<br>域名 -&gt; 站点加速 -&gt; 规则引擎<br><img src="https://i0.hdslb.com/bfs/mallup/mall/yy/yw/yyyw013x3ww32wx0ywzw3yw1zxywzx00.png" alt="登录页跳转"><br><img src="https://i0.hdslb.com/bfs/mallup/mall/yy/2z/yy2zyzw1yxzxyxyw1203yz02w1113zyy.png" alt="授权码与Token"><br><img src="https://i0.hdslb.com/bfs/mallup/mall/03/w2/03w2zx102x11w31200w32yx0zw2wzw13.png" alt="用户信息"></p><p>Nginx的方法就由大佬们来科研下吧，我安装方式原因没办法演示了。毕竟是生产环境嘛。</p><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>其实这基本上就能解决几乎所有非标接口的对标问题了。当然它没法解决的是如果连查询参数的名字都不一样的情况，好在至少对于Artalk和Casdoor这两个系统来说没有抽象到这种地步。但是我觉得只要是OAuth的话参数基本都固定的（希望别真有那样的）<br>只需要知道使用的SSO系统它提供的接口对应着哪个标准接口就好说，直接像这样“赛博飞线”来解决这个问题。（不过我还是希望能给用户多点选择，不要总是硬编码了）</p>]]>
    </content>
    <id>https://www.b23.kim/details/ce4b38f27c8d.html</id>
    <link href="https://www.b23.kim/details/ce4b38f27c8d.html"/>
    <published>2026-01-28T17:54:15.000Z</published>
    <summary>
      <![CDATA[<p>众所周知，Artalk支持标准的OAuth接口的社交登录方式。但是有些奇怪的SSO提供的接口可能不是标准的OAuth，甚至Artalk和提供SSO的软件都不支持修改自己读取的路径或写入的路径。（点名Casdoor）<br>灵感来源：<a href="https://blog]]>
    </summary>
    <title>Artalk强行兼容非标准OAuth接口</title>
    <updated>2026-01-28T19:35:51.627Z</updated>
  </entry>
  <entry>
    <author>
      <name>b23.kim</name>
    </author>
    <category term="后现代随笔" scheme="https://www.b23.kim/categories/%E5%90%8E%E7%8E%B0%E4%BB%A3%E9%9A%8F%E7%AC%94/"/>
    <content>
      <![CDATA[<div align=center class="aspect-ratio"><iframe src="//player.bilibili.com/player.html?isOutside=true&aid=114971241351714&bvid=BV1s2tVziEk6&cid=34163983713&p=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"></iframe></div><p>刚才看到一个非常壮观的视频，里面有个评论非常深入人心：<strong>有序只是世界的偶然，无序是世界的本身</strong>。<br>这个观点是所有系统的本质。或者说，整个宇宙就是一个庞大的系统。</p><p>在宇宙中，每一个天体都沿着自己固定的轨道运行，这是有序。那么凡事都会有至少一个“例外”，举一个夸张的例子吧：如果突然飞过来一个很大的石头把这个天体砸了，而且刚好使它脱离了原先的轨道呢？我知道这个例子看起来很夸张，但在无限的时间尺度下这几乎是必然的。因为你也说不清宇宙环境最终会演化成什么样，在“无限”这个概念下，空间无限大，时间无限长，情况无限多。这样来看它原先“有序”的样子只是在这个过程里偶然发生的。在这种情况下，“有序”这个概念就是“只缘身在此山中”了。从宏观角度来看，世界是无序的。</p><p>在计算机世界里，每一台电脑都有序地执行预定的任务，这叫有序。但是计算机的世界本质上是逻辑的世界，是逻辑就会存在疏漏。我们一般管它叫“业务逻辑漏洞”，换句话说就是“出bug了”。最终就会归于这种无序的状态，因为它引入了例外这一个打破原有秩序的东西。最终人们通过代码补丁避免无序性，回归原有“有序”的状态。这样来看甚至就连“秩序”本身都是无序的，换句话说“无序”是“秩序”的一部分。</p><p>就拿这个视频本身来说吧，Minecraft的地形生成器算法在一定范围内看似有序地生成了正常的地形。但是坐标尺度是相对意义上的“无限”，最终生成出来的实际地形会因为超出了“有序”的范围，最终实际生成出来的地形相比正常地形而言是一种无序。但是这个例外地形本身却回归了另一种“有序”，那就是无论哪个世界生成器种子，出现这种“无序”的情况是类似的。也就是它产生了另一个偶然的“有序”，最终都会诞生类似的壮观景象。</p><p>“无序”本身可以被理性和科学解释，它具备“可解性”。无序不代表没逻辑，能被逻辑解释的东西都应当存在。“逻辑的不完备性”是世界无序的根源，例如著名的“理发师悖论”：</p><blockquote><p>有一位理发师在广告上声称：“将为本城所有不给自己刮胡子的人刮胡子，我也只给这些人刮胡子。”但有一天，这位理发师从镜子里看见自己的胡子长了，那他能不能给他自己刮胡子呢?如果他不给自己刮，他就属于“不给自己刮胡子的人”，他就要给自己刮胡子，而如果他给自己刮胡子呢?他又属于“给自己刮胡子的人”，他就不该给自己刮胡子了。</p></blockquote><p>但是又因为没逻辑的悖论又是有逻辑的事物的例外情况，那么它本身实质上又代表了“无序”。<br>这印证了我之前的想法：“世界是个巨大的 <em>漏勺</em> ”（我一般会用“漏勺”这个比喻义来描述漏洞多或漏洞大）</p><p>那么“无序”本身又该如何解释呢？我觉得它实质上又在讲“没有规律的事”，因为所有事物的走向无法被预测，所以宇宙的规律本身具有“不可解释性”，所以世界本身就是无序的。<br>以上所有的所有，最终都归于：<strong>熵增定律</strong></p><hr><p>扩展阅读：<br>1.有关熵增定律：<a href="https://zhuanlan.zhihu.com/p/286065502">https://zhuanlan.zhihu.com/p/286065502</a><br>2.相关概念前人的思考：<a href="https://github.com/holyshell/Books/blob/master/%5B%E5%A4%B1%E6%8E%A7-%E5%85%A8%E4%BA%BA%E7%B1%BB%E7%9A%84%E6%9C%80%E7%BB%88%E5%91%BD%E8%BF%90%E5%92%8C%E7%BB%93%E5%B1%80%5D.%E5%87%AF%E6%96%87%C2%B7%E5%87%AF%E5%88%A9.pdf">https://github.com/holyshell/Books/blob/master/[失控-全人类的最终命运和结局].凯文·凯利.pdf</a></p>]]>
    </content>
    <id>https://www.b23.kim/details/f4feefbb0991.html</id>
    <link href="https://www.b23.kim/details/f4feefbb0991.html"/>
    <published>2026-01-27T13:14:42.000Z</published>
    <summary>
      <![CDATA[<div align=center class="aspect-ratio">
<iframe src="//player.bilibili.com/player.html?isOutside=true&aid=114971241351714&bvid=BV1s2tVziEk6&]]>
    </summary>
    <title>有序只是世界的偶然，无序才是世界本身</title>
    <updated>2026-01-27T14:35:55.448Z</updated>
  </entry>
  <entry>
    <author>
      <name>b23.kim</name>
    </author>
    <content>
      <![CDATA[<blockquote><p>Casdoor 是一个开源的统一身份认证平台，定位类似于“通行证中心”。通过标准化的协议和接口，把分散在不同系统中的用户认证集中起来管理，让登录这件事变得更简单。<br>——清羽飞扬</p></blockquote><h1 id="下载、配置文件与安装"><a href="#下载、配置文件与安装" class="headerlink" title="下载、配置文件与安装"></a>下载、配置文件与安装</h1><p>这个是它的官方文档：<a href="https://www.casdoor.org/zh/docs/overview">https://www.casdoor.org/zh/docs/overview</a> （目前汉化还不完全，而且还有很多不准确的机翻）<br>可以看到它提供了三种安装方式：<br>1.二进制安装包，从Github Release下载：<a href="https://github.com/casdoor/casdoor/releases">https://github.com/casdoor/casdoor/releases</a><br>2.Docker容器镜像：<a href="https://hub.docker.com/r/casbin/casdoor">https://hub.docker.com/r/casbin/casdoor</a><br>3.K8s Helm：<a href="https://www.casdoor.org/zh/docs/basic/try-with-helm">https://www.casdoor.org/zh/docs/basic/try-with-helm</a></p><h2 id="拉取镜像"><a href="#拉取镜像" class="headerlink" title="拉取镜像"></a>拉取镜像</h2><p>本文将采用Docker容器的方式来安装，配合宝塔面板。依旧是1panel镜像。<br>下载镜像：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull docker.1panel.live/casbin/casdoor</span><br></pre></td></tr></table></figure><p>下载完成后保留备用。</p><h2 id="数据目录设置与数据库配置"><a href="#数据目录设置与数据库配置" class="headerlink" title="数据目录设置与数据库配置"></a>数据目录设置与数据库配置</h2><p>下一步，创建所需目录（在宝塔“终端”中运行）:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p /www/wwwroot/casdoor/config</span><br><span class="line"><span class="built_in">mkdir</span> -p /www/wwwroot/casdoor/uploads</span><br><span class="line"><span class="built_in">chmod</span> -R 755 /www/wwwroot/casdoor</span><br><span class="line"><span class="built_in">chown</span> -R 1000:1000 /www/wwwroot/casdoor  <span class="comment"># 重要！Docker容器使用uid 1000</span></span><br></pre></td></tr></table></figure><p>然后在<code>/www/wwwroot/casdoor/config/</code>目录下创建<code>app.conf</code>文件<br>示例配置文件：<br><a href="https://github.com/casdoor/casdoor/blob/master/conf/app.conf">https://github.com/casdoor/casdoor/blob/master/conf/app.conf</a><br>把它放在<code>/www/wwwroot/casdoor/config/</code>目录下。<br>官方示例配置文件的完整内容如下（我加了注释，建议去官方仓库复制然后从这里对照着改）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">appname = casdoor</span><br><span class="line">httpport = 8000 #对外访问的端口号</span><br><span class="line">runmode = dev #改成prod以启用生产环境</span><br><span class="line">copyrequestbody = true</span><br><span class="line">driverName = mysql #要使用的数据库</span><br><span class="line">dataSourceName = root:123456@tcp(localhost:3306)/ #目标数据库需要的凭据</span><br><span class="line">dbName = casdoor #数据库名称</span><br><span class="line">tableNamePrefix =</span><br><span class="line">showSql = false </span><br><span class="line">redisEndpoint =</span><br><span class="line">defaultStorageProvider =</span><br><span class="line">isCloudIntranet = false</span><br><span class="line">authState = &quot;casdoor&quot;</span><br><span class="line">socks5Proxy = &quot;127.0.0.1:10808&quot;</span><br><span class="line">verificationCodeTimeout = 10</span><br><span class="line">initScore = 0</span><br><span class="line">logPostOnly = true</span><br><span class="line">isUsernameLowered = false</span><br><span class="line">origin = #后端访问域名，这个很关键。出现Invalid origin时配置下这个</span><br><span class="line">originFrontend = #前端页面的访问地址，前后端都通过一个域名进来的话和上面配置相同的内容即可</span><br><span class="line">staticBaseUrl = &quot;https://cdn.casbin.org&quot;</span><br><span class="line">isDemoMode = false</span><br><span class="line">batchSize = 100</span><br><span class="line">enableErrorMask = false</span><br><span class="line">enableGzip = true</span><br><span class="line">inactiveTimeoutMinutes =</span><br><span class="line">ldapServerPort = 389</span><br><span class="line">ldapsCertId = &quot;&quot;</span><br><span class="line">ldapsServerPort = 636</span><br><span class="line">radiusServerPort = 1812</span><br><span class="line">radiusDefaultOrganization = &quot;built-in&quot;</span><br><span class="line">radiusSecret = &quot;secret&quot;</span><br><span class="line">quota = &#123;&quot;organization&quot;: -1, &quot;user&quot;: -1, &quot;application&quot;: -1, &quot;provider&quot;: -1&#125;</span><br><span class="line">logConfig = &#123;&quot;adapter&quot;:&quot;file&quot;, &quot;filename&quot;: &quot;logs/casdoor.log&quot;, &quot;maxdays&quot;:99999, &quot;perm&quot;:&quot;0770&quot;&#125;</span><br><span class="line">initDataNewOnly = false</span><br><span class="line">initDataFile = &quot;./init_data.json&quot;</span><br><span class="line">frontendBaseDir = &quot;../cc_0&quot;</span><br></pre></td></tr></table></figure><p>根据实际情况修改以上配置<br>参见配置内容描述：<a href="https://www.casdoor.org/zh/docs/basic/configuration/#backend-configuration-appconf">https://www.casdoor.org/zh/docs/basic/configuration/#backend-configuration-appconf</a><br>最关键的就是数据库的部分了，Casdoor需要一个数据库来存放验证用户等数据</p><p>Casdoor 支持MySQL、MSSQL、SQLite3和PostgreSQL。 默认情况下，Casto使用MySQL。<br>对于不同类型的数据库，<code>driverName</code>、<code>dataSourceName</code>各不相同，根据官方文档的说明来配置<br><strong>MySQL</strong><br>Casdoor将会把users，nodes和topics信息存储在一个名为casdoor的MySQL数据库中。 如果数据库不存在，则需手动创建。 可以在以下位置指定数据库连接字符串</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">driverName = mysql</span><br><span class="line">dataSourceName = root:123456@tcp(localhost:3306)/</span><br><span class="line">dbName = casdoor</span><br></pre></td></tr></table></figure><p><strong>PostgreSQL</strong><br>在运行 Casdoor 之前，您需要手动为 PostgreSQL 准备一个数据库，因为当使用 xorm 连接 Postgres 时，Casdoor 要求必须选择一个具体的数据库。<br>假设你已经准备好了一个名为<code>casdoor</code>的数据库，你应该像这样指定<code>app.conf</code>：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">driverName = postgres</span><br><span class="line">dataSourceName = user=postgres password=postgres host=localhost port=5432 sslmode=disable dbname=casdoor</span><br><span class="line">dbName = casdoor</span><br></pre></td></tr></table></figure><p><strong>SQLite3</strong><br>要配置SQLite3，您应该像这样指定app.conf：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">driverName = sqlite</span><br><span class="line">dataSourceName = file:casdoor.db?cache=shared</span><br><span class="line">dbName = casdoor</span><br></pre></td></tr></table></figure><p>参考：<a href="https://www.casdoor.org/zh/docs/basic/server-installation#%E9%85%8D%E7%BD%AE%E6%95%B0%E6%8D%AE%E5%BA%93">https://www.casdoor.org/zh/docs/basic/server-installation#%E9%85%8D%E7%BD%AE%E6%95%B0%E6%8D%AE%E5%BA%93</a></p><p>因为我们使用的是宝塔面板，而且宝塔面板自带一个MySQL数据库，并且备份和维护都很好管理。所以这里就直接用MySQL了。或者你也可以连接远程数据库。<br>操作流程<br>进入宝塔面板 → <strong>数据库</strong> → <strong>添加数据库</strong><br>数据库名：<strong>casdoor</strong><br>用户名：<strong>casdoor_user</strong>（自定义）<br>密码：生成强密码（建议16位以上，防止暴力破解）<br>访问权限：<strong>本地服务器</strong>（127.0.0.1）<br>（建议同时开启自带备份，防止数据损坏）</p><p>最终配置文件相关字段的内容如下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">driverName = mysql</span><br><span class="line">dataSourceName = casdoor_user:你的强密码@tcp(127.0.0.1:3306)/</span><br><span class="line">dbName = casdoor</span><br></pre></td></tr></table></figure><p>设置完成后直接保存文件</p><div class="note warning flat"><p>注意：如果你是后创建的app.conf文件，别忘了再运行一次这个命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chown</span> -R 1000:1000 /www/wwwroot/casdoor</span><br></pre></td></tr></table></figure><p>把这个新建文件的所有者设置也包含进去</p></div><h2 id="运行Casdoor"><a href="#运行Casdoor" class="headerlink" title="运行Casdoor"></a>运行Casdoor</h2><p>最后我们终于可以开始启动容器了：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --name casdoor \</span><br><span class="line">  --network host \</span><br><span class="line">  -v /www/wwwroot/casdoor/config:/conf \</span><br><span class="line">  -v /www/wwwroot/casdoor/uploads:/uploads \</span><br><span class="line">  --restart unless-stopped \</span><br><span class="line">  docker.1panel.live/casbin/casdoor:latest</span><br></pre></td></tr></table></figure><div class="note warning flat"><p>注意：别忘记去防火墙放行端口！默认为8000端口，可在配置文件中修改</p></div><p>如果你运行以后它就自动暂停并且再也起不来了的话，重点检查下挂载的文件路径是否有问题，以及数据库是否在容器内访问的到。另外就是文件所有者是否是1000，是否有可读可写权限啥的。<br>最终的状态一直是<code>运行中</code>的话，那么恭喜你。成功绕过一堆坑把项目跑起来了。</p><div class="note info flat"><p>如果你看不到容器日志的话，将<code>近3天</code>改为<code>全部</code>即可。这在出现异常时尤为有用</p></div><p>去 服务器公网IP 或 绑定的域名 下的<strong>8000</strong>端口 进入Casdoor的后台页面，完成下一步设置</p><h1 id="后台配置"><a href="#后台配置" class="headerlink" title="后台配置"></a>后台配置</h1><p>进入后台，使用默认的管理员账号登录后台。用户名为<code>admin</code>，密码<code>123</code>。</p><div class="note danger flat"><p>数据安全提醒：默认的管理员账号极其不安全，强烈建议第一次登录时就从设置里把它改掉，换成强密码。</p></div><h2 id="安装向导"><a href="#安装向导" class="headerlink" title="安装向导"></a>安装向导</h2><p>第一次进入会有一个向导，里面有三页内容。<br><strong>Welcome to casdoor</strong><br>You can learn more about the use of CasDoor at <a href="https://casdoor.org/">https://casdoor.org/</a>.<br>1/3<br>（后面就不说了反正是告诉你面板里面都是什么内容）<br>这里是没有汉化的，我截取里面有用的部分尝试让AI翻译下：<br><strong>Organization List</strong><br>组织是 Casdoor 的基本单位，用于管理用户和应用程序。如果用户登录到一个组织，那么他可以访问该组织所属的所有应用程序，而无需再次登录。<br>Organization is the basic unit of Casdoor, which manages users and applications. If a user signed in to an organization, then he can access all applications belonging to the organization without signing in again.<br><strong>Group List</strong><br>在群组列表页面中，您可以看到组织中的所有群组。<br>In the groups list pages, you can see all the groups in organizations.<br><strong>User List</strong><br>作为身份验证平台，Casdoor能够管理用户。<br>As an authentication platform, Casdoor is able to manage users.<br>1/2<br><strong>Import users</strong><br>您可以通过上传包含用户信息的XLSX文件来添加新用户或更新现有的Casdoor用户。<br>You can add new users or update existing Casdoor users by uploading a XLSX file of user information.<br>2/2<br><strong>Application List</strong><br>如果您想使用Casdoor为您的Web应用程序提供登录服务，您可以将它们作为Casdoor应用程序添加。用户可以访问其组织中的所有应用程序，而无需重复登录。<br>If you want to use Casdoor to provide login service for your web Web APPs, you can add them as Casdoor applications. Users can access all applications in their organizations without login twice.<br><strong>Provider List</strong><br>我们有6种类型的提供者：OAuth提供者、短信提供者、邮件提供者、存储提供者、支付提供者、验证码提供者。<br>We have 6 kinds of providers:OAuth providers、SMS Providers、Email Providers、Storage Providers、Payment Provider、Captcha Provider.<br>1/2<br><strong>Provider Add</strong><br>您必须先将提供者添加到应用程序中，然后才能在您的应用程序中使用该提供者。<br>You must add the provider to application, then you can use the provider in your application<br>2/2<br><strong>Resource List</strong><br>您可以在Casdoor中上传资源。在上传资源之前，您需要先配置一个存储提供者。请参阅存储提供者相关文档。<br>You can upload resources in casdoor. Before upload resources, you need to configure a storage provider. Please see Storage Provider.<br>1/2<br><strong>Upload Resource</strong><br>用户可以将文件和图片等资源上传到先前配置的云存储中。<br>Users can upload resources such as files and images to the previously configured cloud storage.<br>2/2<br><strong>Role List</strong><br>每个用户可能拥有多个角色。您可以在用户的个人资料中查看用户的角色。<br>Each user may have multiple roles. You can see the user’s roles on the user’s profile.<br><strong>Permission List</strong><br>与单个Casdoor组织关联的所有用户都会在该组织的应用程序之间共享，因此这些用户可以访问这些应用程序。有时您可能希望限制用户对特定应用程序的访问权限，或者限制其对某个应用程序中特定资源的访问权限。在这种情况下，您可以使用由Casbin实现的权限（Permission）功能。<br>All users associated with a single Casdoor organization are shared between the organization’s applications and therefore have access to the applications. Sometimes you may want to restrict users’ access to certain applications, or certain resources in a certain application. In this case, you can use Permission implemented by Casbin.<br>1/3<br><strong>Permission Add</strong><br>在Casdoor Web界面中，您可以在模型配置项中为您的组织添加一个模型，并在权限配置项中为您的组织添加一个策略。<br>In the Casdoor Web UI, you can add a Model for your organization in the Model configuration item, and a Policy for your organization in the Permission configuration item.<br>2/3<br><strong>Permission Upload</strong><br>通过Casbin在线编辑器，您可以获得适合您使用场景的Model和Policy文件。您可以通过Casdoor Web界面轻松地将Model文件导入到Casdoor中，供内置的Casbin使用。<br>With Casbin Online Editor, you can get Model and Policy files suitable for your usage scenarios. You can easily import the Model file into Casdoor through the Casdoor Web UI for use by the built-in Casbin.<br>3/3<br><strong>Model List</strong><br>模型定义了您的权限策略结构，以及请求如何匹配这些权限策略及其效果。然后您可以在权限中使用该模型。<br>Model defines your permission policy structure, and how requests should match these permission policies and their effects. Then you can user model in Permission.<br><strong>Adapter List</strong><br>Casdoor支持通过用户界面连接适配器并管理策略规则。在Casbin中，策略存储是通过适配器实现的（也称为Casbin的中间件）。Casbin用户可以使用适配器从存储中加载策略规则，或者将策略规则保存到存储中。<br>Casdoor supports using the UI to connect the adapter and manage the policy rules. In Casbin, the policy storage is implemented as an adapter (aka middleware for Casbin). A Casbin user can use an adapter to load policy rules from a storage, or save policy rules to it.<br><strong>Enforcer List</strong><br>除了用于请求执行权限控制的API接口外，Casdoor还提供其他帮助外部应用程序获取权限策略信息的接口，这些接口也在此列出。<br>In addition to the API interface for requesting enforcement of permission control, Casdoor also provides other interfaces that help external applications obtain permission policy information, which is also listed here.<br><strong>Token List</strong><br>Casdoor基于OAuth构建。令牌即用户的OAuth令牌，您可以在此列表中获取访问令牌。<br>Casdoor is based on OAuth. Tokens are users’ OAuth token.You can get access token in this list.<br><strong>Session List</strong><br>您可以在此列表中获取会话ID。<br>You can get Session ID in this list.<br><strong>Session List</strong><br>您可以添加您想要销售的产品（或服务）。接下来将告诉您如何添加产品。<br>You can add the product (or service) you want to sell. The following will tell you how to add a product<br><strong>Payment List</strong><br>支付成功后，您可以在”支付”中查看产品的交易信息，例如组织、用户、购买时间、产品名称等。<br>After the payment is successful, you can see the transaction information of the products in Payment, such as organization, user, purchase time, product name, etc.<br><strong>Plan List</strong><br>计划（Plan）描述了应用程序功能的列表，每个功能都有自己的名称和价格。计划的功能依赖于Casdoor角色及其权限集。这使得可以独立于命名和价格来描述计划的功能。例如：计划的价格可能会根据国家或日期而有所不同。<br>Plan describe list of application’s features with own name and price. Plan features depends on Casdoor role with set of permissions.That allow to describe plan’s features independ on naming and price. For example: plan may has diffrent prices depends on county or date.<br><strong>Price List</strong><br>Casdoor可以通过计划、定价和订阅用作订阅管理系统。<br>Casdoor can be used as subscription management system via plan, pricing and subscription.<br><strong>Subscription List</strong><br>订阅功能有助于管理用户选择的计划，从而轻松控制对应用程序功能的访问权限。<br>Subscription helps to manage user’s selected plan that make easy to control application’s features access.</p><p>管理工具那栏没啥好说的，这里为了节省篇幅跳过了</p><p><strong>Syncer List</strong><br>Casdoor在用户表中存储用户。当您计划使用Casdoor作为认证平台时，无需担心将应用程序的用户数据迁移到Casdoor中。Casdoor提供了同步器（syncer）来帮助您快速将用户数据同步到Casdoor。<br>Casdoor stores users in user table. Don’t worry about migrating your application user data into Casdoor, when you plan to use Casdoor as an authentication platform. Casdoor provides syncer to quickly help you sync user data to Casdoor.<br><strong>Webhook List</strong><br>事件系统允许您构建集成，这些集成可以订阅 Casdoor 上的特定事件。当其中一个事件被触发时，我们将向配置的 URL 发送一个 POST JSON 有效载荷。应用程序解析该 JSON 有效载荷并执行相应的钩子函数。事件包括注册、登录、注销、更新用户等，这些都存储在记录的操作字段中。事件系统可用于根据用户操作更新外部事务。<br>Event systems allow you to build integrations, which subscribe to certain events on Casdoor. When one of those event is triggered, we’ll send a POST json payload to the configured URL. The application parsed the json payload and carry out the hooked function. Events consist of signup, login, logout, update users, which are stored in the action field of the record. Event systems can be used to update an external issue from users.</p><p>到这里就没了。</p><h2 id="创建组织"><a href="#创建组织" class="headerlink" title="创建组织"></a>创建组织</h2><p>不同组织之间的用户是相互独立的，要开始，我们需要创建一个组织。<br>目标：用户管理 -&gt; 组织</p><div class="note danger flat"><p>数据安全提醒：不要直接使用自带的<code>built-in</code>组织，默认所有用户都是管理员。否则配置不当容易引发安全问题</p></div><p><strong>默认情况下</strong>，你可以在 <code>你的域名:8000/login/组织名</code> 中使用特定组织来登录/注册！（注意不要用成“显示名称”了）<br>如果要隐藏端口号请自行反向代理 </p><h2 id="创建应用"><a href="#创建应用" class="headerlink" title="创建应用"></a>创建应用</h2><p>光有组织是不行的，因为你还缺少这个组织使用到的验证方式。如果只有组织并且它没有绑定应用的话创建用户时会提示没有应用。<br>目标：身份认证 -&gt; 应用</p><p>创建应用时，需要在Basic选项卡下的“组织”选项中指定绑定到的组织。<br>然后你可以在里面配置是否允许用户同时登录多个会话（是否顶号式，如果不允许将会类似QQ一样只能登录一个会话）以及登录超时次数等</p><p>在UI那一块，建议只保留你需要用户填的项目，避免无效字段在前端页面中展示。设置“组织选择模式”为选择时，在登录之前会让用户选择要登录到的目标组织。<br>Provider选项卡中你可以选择添加由其他平台提供的自定义登录方式。详见<code>创建提供商</code></p><h2 id="创建证书"><a href="#创建证书" class="headerlink" title="创建证书"></a>创建证书</h2><p>你需要一个证书实现登录时的端到端加密。<br>目标：身份认证 -&gt; 证书</p><p>公钥可以对外暴露，提供给其他应用验证签名。而私钥必须在服务器里不能泄露</p><h2 id="创建提供商"><a href="#创建提供商" class="headerlink" title="创建提供商"></a>创建提供商</h2><p>提供商即提供登录验证服务的厂商，国内常见的有<code>QQ登录</code>、<code>B站</code>(不对个人开放)、<code>飞书</code>等。<br>你可以设置多种不同的登录验证方式，例如OAuth、Email、Captcha、Web3等<br>目标：身份认证  -&gt; 提供商</p><p>填写目标开放平台提供的密钥、ck等信息后保存即可。<br>每种验证方式需独立创建，一个应用可以绑定多个提供商。</p><p>关于提供商和不同提供商的接入教程：<a href="https://www.casdoor.org/zh/docs/provider/overview">https://www.casdoor.org/zh/docs/provider/overview</a></p><h2 id="需要注意的点"><a href="#需要注意的点" class="headerlink" title="需要注意的点"></a>需要注意的点</h2><p>casdoor的所有回调地址均为你后台地址域名的<code>/callback</code>路径。例如你的casdoor公网域名是outh.domain.com，那么回调给casdoor的地址应该是<a href="https://outh.domain.com/callback">https://outh.domain.com/callback</a></p>]]>
    </content>
    <id>https://www.b23.kim/details/808a9f471a72.html</id>
    <link href="https://www.b23.kim/details/808a9f471a72.html"/>
    <published>2026-01-25T18:00:14.000Z</published>
    <summary>
      <![CDATA[<blockquote>
<p>Casdoor 是一个开源的统一身份认证平台，定位类似于“通行证中心”。通过标准化的协议和接口，把分散在不同系统中的用户认证集中起来管理，让登录这件事变得更简单。<br>——清羽飞扬</p>
</blockquote>
<h1 id="下载、配置文]]>
    </summary>
    <title>开源统一身份认证平台Casdoor的安装与部署</title>
    <updated>2026-01-27T17:41:02.647Z</updated>
  </entry>
  <entry>
    <author>
      <name>b23.kim</name>
    </author>
    <content>
      <![CDATA[<p>在给电脑重装完系统以后，我就把自己博客源码迁移过来了。一开始没什么，后面我发现了一个很诡异的事：<br><img src="https://i0.hdslb.com/bfs/mallup/mall/x2/13/x2133y2yw3zx132zw23w01x203x203yz.png" alt="我穿越了"><br>日期怎么变成这样了，更新日期比发布日期还提前。肯定不对。<br>我发现这里更新日期其实就是这篇文章的“发布日期”，因为这篇是Hello World，是搭建的时候系统自动生成发一篇文章，所以也相当于是建站时间。</p><p>那么究竟是为什么呢？<br>其他的文章都没出问题，就这个出问题了。而且出现在迁移后这个时间点。</p><p>于是我简单了解了一下Hexo框架对于文章的更新和发表日期是如何确定的，得出了一个结论<br>对于<strong>发布日期</strong>：它会去读Front-matter里的<code>date</code>参数，如果有就直接把它的值作为发表日期；否则，将会采用文件系统里的文件元数据中的 文件创建日期 作为发表日期。刚好，系统给的示例文章Front-matter是不带date参数的<br>对于<strong>更新日期</strong>：它会直接读文件元数据中的“修改日期”字段</p><p>因为示例文章(Hello world)里面是没有date信息的，所以它的降级策略会去看文件元数据。这样这个诡异问题的源头就在<code>文件元数据</code>上。</p><p>如果是刚创建出来的文件，那么它的创建日期和修改日期应该是一致的，修改日期就是创建日期。<br>那么如果是从网上下载的文件呢？<br>这个取决于下载器的实现方式了，<br>如果是分片的话下载的时候会产生临时文件，而这些文件就是原始文件的各个不同的区域的数据。完全下载后会创建最终的结果文件来把这些分片合并进去，创建时间便是这个分片即将开始合成的时间。修改时间是合成完毕后的时间。<br>如果是直接下载整个文件的话，一般情况下都会先创建一个这个文件的临时文件(Edge浏览器的<code>未确认</code>文件)，然后下载过程中往里面动态填数据。这个时候创建时间是这个临时文件诞生的时间。对于浏览器，修改时间有时候会在HTTP响应头部透传服务器端的该文件的修改时间，否则便是下载完成后的时间。</p><p>从上面我们可以看出只要文件被上传到了网上，再想下载下来原始的元数据就基本上就“破坏”的差不多了。非常不可靠。（更别说什么时区问题了）<br>这时候你肯定有个疑问：既然无论怎么样这个修改日期和创建日期都会变成下载过程中或者下载完成后的时间，那么你这篇Hello World的修改日期为什么保存的那么好？<br>这是因为我备份肯定是压缩备份的，备份肯定是备压缩包。上述下载的创建和修改日期在这里是基于压缩包这一整个备份文件而言的。</p><p>所以这个问题实质上是<strong>压缩文件</strong>解压缩后的文件的时间相关元数据是如何确定的。<br>压缩过程中，因为修改日期这个数据在文件里，所以压缩的时候会随着原始文件一起被完整打包，解压缩的时候释放出来的文件将会保留压缩前原始文件的“修改时间”元数据，因为解压缩软件会调用操作系统API把这个属性写回解压后的文件。<br>而创建时间的确定就很坑了：解压的时候是创建一个和原来的文件看起来一样的<strong>新文件</strong>，然后再往里面填充数据。所以这个解压缩的实质是新建。压缩的时候原始文件的“创建时间”的属性将被丢弃。</p><p>于是最终会变成这样：<br><img src="https://i0.hdslb.com/bfs/mallup/mall/00/11/0011x20311x12wzy3x2x132zw31102x0.png" alt="解压缩后的文件"></p><p>Hexo框架生成时，读取了“创建时间”作为发表日期，读取了“修改时间”作为更新日期。造成了<code>时间穿越</code>的假象。<br>目前已经修复，把那篇系统文章手动加上了Front-matter参数，不再走文件系统的时间。</p><hr><p>延伸思考：Hexo将文件的“修改时间”元数据作为文章的更新时间是否可靠？</p><p>我认为这是一种很直接的办法，因为文章的markdown文件被修改了就说明肯定被动笔了。而文件系统会在编辑器类的软件调用接口保存文件的时候更新这个文件元数据。所以读取修改时间作为更新时间最直接，也是能证明更新的可靠又优雅的思路。要是靠博主每次编辑完都要手动修改那个修改日期的参数既不优雅也容易出问题（写作的人会忘，也嫌麻烦）<br>除非有一种可能会出问题：就像我正文说的那样，上传和下载原始markdown文件，不打包为压缩包。这样新的下载副本的修改日期就难以确保可靠性了。</p><p>我的博客架构是构建输出和构建原件分离的设计。Github仓库只存产物，构件在电脑本地。如果要一劳永逸的解决这个问题的话那就用那种时间日期的插件，直接抛弃文件本地时间。采用首次 git commit 的时间作为文章的创建日期，采用最近一次 git commit 的时间作为文章的最后更新日期。不过我目前既然技术选型这样已经用了好久了，如果强换的话反而会破坏现有的更新时间。（好像早在迁移的时候就已经破坏的差不多了，懒得搞找借口哈哈）</p>]]>
    </content>
    <id>https://www.b23.kim/details/d313a9d70881.html</id>
    <link href="https://www.b23.kim/details/d313a9d70881.html"/>
    <published>2026-01-24T12:40:23.000Z</published>
    <summary>
      <![CDATA[<p>在给电脑重装完系统以后，我就把自己博客源码迁移过来了。一开始没什么，后面我发现了一个很诡异的事：<br><img src="https://i0.hdslb.com/bfs/mallup/mall/x2/13/x2133y2yw3zx132zw23w01x203x203yz]]>
    </summary>
    <title>不可靠的文件系统</title>
    <updated>2026-01-24T17:35:59.290Z</updated>
  </entry>
  <entry>
    <author>
      <name>b23.kim</name>
    </author>
    <category term="Docker容器应用" scheme="https://www.b23.kim/categories/Docker%E5%AE%B9%E5%99%A8%E5%BA%94%E7%94%A8/"/>
    <content>
      <![CDATA[<p>Uptime-Kuma是一个Server级的网站状态监控软件，它能实现看自己的状态。配置好后你甚至都能看别人的网站状态。而且最关键的是它不仅支持监控HTTP协议的服务器，同时还支持诸如UDP和自定义TCP协议的监控。<br><a href="https://github.com/louislam/uptime-kuma">https://github.com/louislam/uptime-kuma</a></p><h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><p>作为一个Docker软件，安装Docker是必不可少的。然后你需要一个镜像站来拉取代码。本文统一使用<code>docker.1panel.live</code>源。<br>安装命令：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull docker.1panel.live/louislam/uptime-kuma:2</span><br></pre></td></tr></table></figure><p>启动命令：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --restart=always -p 3001:3001 -v uptime-kuma:/app/data --name uptime-kuma docker.1panel.live/louislam/uptime-kuma:2</span><br></pre></td></tr></table></figure><p>如果你能看到类似9c3d9374d8022c436c840410e6acb17165c5abca79634cef4fee4883d8d23eaf的输出就成功运行了。<br>这里配置将Docker容器里的3001端口打到服务器的3001端口上，也就是映射。</p><div class="note warning flat"><p>不要忘记在防火墙放行相关端口</p></div><p>如果需要 <strong>查看数据库文件</strong>，使用这个命令可以查看数据保存的位置</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker volume inspect uptime-kuma</span><br></pre></td></tr></table></figure><p>如果需要 <strong>重新安装或卸载</strong>，使用这个命令将删除数据卷所有数据，无法恢复（需要先停止或删除正在运行的 <strong>容器</strong>，注意别删成下载的本地镜像了）</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker volume <span class="built_in">rm</span> uptime-kuma</span><br></pre></td></tr></table></figure><p>执行后，重新运行启动命令即可全新安装。</p><h1 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h1><p>访问Uptime-Kuma的后台（一般是IP/域名:3001），完成安装向导。</p><p><img src="https://i0.hdslb.com/bfs/mallup/mall/yx/x3/yxx33wzy103x3xyzw12wyxzz0300w3x0.png" alt="向导页"><br>开头会让你选择语言和数据库选项。第一个选项是本地服务，而第二个允许你连接一个远程数据库，比如说连接数据库托管商或者专门的数据库服务器。第三个选项也是本地数据库<br>以下是对应的选项和介绍<br><code>Embedded MariaDB</code>：</p><blockquote><p>您无需设置此项。通过 Docker 方式安装时已自动配置了一个 MariaDB 数据库。Uptime Kuma 会通过 Unix 套接字方式连接该数据库。</p></blockquote><p><code>MariaDB/MySQL</code>：</p><blockquote><p>连接到外部 MariaDB 数据库。您需要设置该数据库的连接方式</p></blockquote><p><code>SQLite</code>：</p><blockquote><p>一个简单的数据库文件，推荐小规模部署使用。在 v2.0.0 版本之前，Uptime Kuma 使用 SQLite 作为默认数据库。</p></blockquote><p>选择 <strong>第一项</strong> 或者 <strong>最后一项</strong> 将会使用本地数据库。<br>坑点：如果你要用本地数据库的话<code>不建议选第一个</code>，要不然以后迁移累死还巨麻烦。选择SQLite后迁移时带个.db文件就走，备份和维护的成本都很低。</p><div class="note warning flat"><p>请注意：数据库选择完成后将无！法！更！改！慎重，慎重。如果你觉得自己选错了想反悔，看前面的部分重新安装吧</p></div><p><img src="https://i0.hdslb.com/bfs/mallup/mall/yz/w3/yzw3yyx0w1zwzx3zw3zyx13zyw3z003z.png" alt="自动配置过程"><br>等就是了。</p><p>然后下一步是设置一个用户名和密码，一般首次创建的第一个为管理员。<br><img src="https://i0.hdslb.com/bfs/mallup/mall/w3/00/w30001zyywx2yy2yzw02x311w2w0zzx1.png" alt="创建管理员"></p><div class="note warning flat"><p>创建完成后请牢记自己的用户名和密码</p></div><p>完成后，你将看到控制台（仪表盘）页面<br><img src="https://i0.hdslb.com/bfs/mallup/mall/02/03/02033z3ww13zyzyz2z00132w3yx1yw01.png" alt="后台页面"></p><h1 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h1><p>下面将教你如何创建第一个状态监控页，显示B站的状态。同时实现异常状态的预警推送</p><h2 id="访问状态页"><a href="#访问状态页" class="headerlink" title="访问状态页"></a>访问状态页</h2><p>点击左上角“添加监控项”，然后输入以下内容：<br><img src="https://i0.hdslb.com/bfs/mallup/mall/yz/zx/yzzx2x122w01x2x3zz021010yx10x210.png" alt="填写“显示名称”和“URL”"><br>后直接点击确定，你就创建了第一个要监控到的目标网站。</p><p>当然了，目前是只能自己在后台看。那我们如果要给其他访客也能看的话就需要<code>添加新的状态页</code>。<br>点击仪表盘旁边的“状态页面”按钮，在右侧点击“+新的状态页”：<br><img src="https://i0.hdslb.com/bfs/mallup/mall/x0/11/x011zx00x22y3ww1x0w0x0yw3z2z2x01.png" alt="基本信息"><br>输入标题和路径后点击确定将会带到更详细的页面：<br><img src="https://i0.hdslb.com/bfs/mallup/mall/3y/zz/3yzz02x0x2yz10yx113w0002113xyx2w.png" alt="详细页面"><br>调整到你想要的效果，点击确定即可创建公开页面。</p><p>完成后输入<code>https://www.yourdomain.com:3001/status/123</code>就可以访问了（上面的例子对应的对公URL）<br>如果你嫌端口号太难看的话可以套个CDN反向代理一下，转换成80端口就好了</p><p>效果：<br><img src="https://i0.hdslb.com/bfs/mallup/mall/w1/yw/w1yww3yxx22x2x2w3w002w10yx3z01x3.png" alt="红框区域非登录状态的访客将不会显示"></p><p>当然了，它能做到的远不止这些。你还可以给它创建自定义分组，引入自定义css来优化页面UI。抑或是分流解析的全球网站同时监控同一个站的国内和海外节点也都能实现。</p><h2 id="宕机提醒"><a href="#宕机提醒" class="headerlink" title="宕机提醒"></a>宕机提醒</h2><p>我们可以为它添加一个推送，实现网站出错时候能够及时给我们推送告警信息。这里我们以飞书机器人为例。<br>在Uptime-Kuma的仪表盘页面点击头像-&gt;设置-&gt;通知<br>里面会显示一个“暂不可用，请先设置”，点击<code>设置通知</code>按钮。<br>在通知类型的下拉菜单中，选择<code>Feishu (飞书)</code>。留着这个标签页备用。</p><p>注册飞书，然后创建一个公司（个人也能创建“企业”）<br>然后创建一个群组：<br><img src="https://i0.hdslb.com/bfs/mallup/mall/yw/3w/yw3w00zy3zzw2zx3w0zwyww32yzx3z2w.png" alt="群组创建"><br>然后在新建的群组的右上角三个点菜单中选择“设置”：<br><img src="https://i0.hdslb.com/bfs/mallup/mall/02/2w/022wzx2xx0zw3zw11012x0032y01x23z.png" alt="设置按钮"></p><p>在设置里有一栏叫“群机器人”，点进去。<br>如果你这里只有使用说明，没创建按钮的话就说明你用的是<strong>网页版</strong>：<br><img src="https://i0.hdslb.com/bfs/mallup/mall/13/12/13123w3yzx2xw33y3w2x013xx3zx3w2w.png" alt="网页版没创建按钮"></p><p>需要切换到客户端才能创建，入口和上面的一样：<br><img src="https://i0.hdslb.com/bfs/mallup/mall/2y/yw/2yyww00010x3zxzz2wzyw2w0zyx1w001.png" alt="客户端创建"></p><p>这里选择第一个，也就是<strong>自定义机器人</strong><br><img src="https://i0.hdslb.com/bfs/mallup/mall/x2/02/x202x1x0zx3y13x3x02zx3x200zzywyz.png" alt="自定义机器人"></p><p>完成后，在下一个页面里会给你一个WebHook地址，我们复制它<br><img src="https://i0.hdslb.com/bfs/mallup/mall/yw/x1/ywx1yyx12x3w10x0w012yxyyyz03x23y.png" alt="Webhook地址"></p><div class="note danger flat"><p>安全生产提示：强烈建议配置IP白名单，防止因地址泄露导致被黑。如果你套了CDN那么IP地址应为你的源站公网地址</p></div><p>回到Uptime-Kuma的设置页面，将飞书提供的hook地址填入后保存即可。<br>点击“测试”，如果在飞书群组里看到了机器人发的这条消息就代表成功了：<br><img src="https://i0.hdslb.com/bfs/mallup/mall/x0/w0/x0w03zyy102zw22z03w213w30003yz01.png" alt="测试回调"></p><hr><p>推荐阅读<br><a href="https://blog.acofork.com/posts/double-monitior/">https://blog.acofork.com/posts/double-monitior/</a><br><a href="https://blog.acofork.com/posts/http-header-host/">https://blog.acofork.com/posts/http-header-host/</a></p><p>（不愧是我们的XXTT大佬，他的文章质量都很不错，力推）</p>]]>
    </content>
    <id>https://www.b23.kim/details/a60f14363529.html</id>
    <link href="https://www.b23.kim/details/a60f14363529.html"/>
    <published>2026-01-22T16:12:24.000Z</published>
    <summary>
      <![CDATA[<p>Uptime-Kuma是一个Server级的网站状态监控软件，它能实现看自己的状态。配置好后你甚至都能看别人的网站状态。而且最关键的是它不仅支持监控HTTP协议的服务器，同时还支持诸如UDP和自定义TCP协议的监控。<br><a href="https://github.c]]>
    </summary>
    <title>网站监控神器Uptime-Kuma的保姆级配置教程</title>
    <updated>2026-01-23T19:35:12.120Z</updated>
  </entry>
  <entry>
    <author>
      <name>b23.kim</name>
    </author>
    <category term="2⃣❌🌲🌲" scheme="https://www.b23.kim/tags/2%E2%83%A3%E2%9D%8C%F0%9F%8C%B2%F0%9F%8C%B2/"/>
    <content>
      <![CDATA[<p>之前阿里云送礼物，于是我就领了一个。<br>原本这是开箱记录文的，平平无奇没什么好说的。但是哎，这次可不一样。这此的可是混合着，咳咳的重磅惊喜。</p><h1 id="开箱"><a href="#开箱" class="headerlink" title="开箱"></a>开箱</h1><p><img src="https://i0.hdslb.com/bfs/cm/233cdb790e45f2586f1d42172a66f5119be6412b.jpg" alt="开箱前"><br>哎不是，怎么右上角……能想象到画面了<br><del>我是菜鸟，想寄就寄</del><br>倒也无所谓了，反正只是外包装哈哈</p><p><img src="https://i0.hdslb.com/bfs/cm/29cfd81267941830c14f4f3ef8b0d233892d7ad7.jpg" alt="开箱后"><br>嗯，挺好，木座也有。下面就寄希望于没有给我少张数了。<br>稍微数了下，算上封面确实一共13张，没少。我倒是粗略的看了下，没看有没有重复页，因为当时要忙着去上课。</p><p>放学以后我就回来看二叉树树的群，发现竟然有两个月都是July。况且当时我还没意识到事情的严重性……</p><h1 id="大厂漏勺"><a href="#大厂漏勺" class="headerlink" title="大厂漏勺"></a>大厂漏勺</h1><p>我是通过看二叉的群才知道原来有如此离谱的印刷质量问题，真的离谱到炸了。<br><img src="https://i0.hdslb.com/bfs/cm/d8a6d78cd6b47e292030f833c0efd38d034be276.png" alt="全是这种"></p><p>然后二叉不是在直播吗，我截了张图，节目效果拉满了真的<br><img src="https://i0.hdslb.com/bfs/cm/bd9d475014b7d3af52fcde49dbf6bee8c6023666.png" alt="就很离谱"></p><p>一想到他们一整个仓库都是这样的我就想笑。更炸裂的是，给二叉树树发的台历直接就只有个木头底座，卡片根本没有：<br><img src="https://i0.hdslb.com/bfs/cm/b9745ce2513047b0be0c3059cce8b1720aa77c27.png" alt="404 Not Found"><br>这个或许是我见过的最好笑的，太惨了（众所周知喜剧的内核是悲剧）<br>这难道就是传说中的阿里云实体版“云原生台历”，只剩底座了内容全丢包了</p><p>不过好在能申请补发。如果你的也有问题就去这里填单吧：<a href="https://survey.aliyun.com/apps/zhiliao/YIcYfU1Qx">https://survey.aliyun.com/apps/zhiliao/YIcYfU1Qx</a><br>不是，为什么这个URL里面是<code>zhiliao</code>啊，不是资(zi)料(liao)吗？这下好了，这里平翘舌不分了。除非这里是另外两个字的拼音，不然很难解释这个。<br>我尝试编一个剧情给你们看哈：因为这个实物很逆天，收到的人肯定会有心理冲击。所以需要填这个表单重新补一份来zhiliao(治疗)一下<br>这也能漏啊，好离谱……<br>后续：确认了一下，这里可能不是“资料”的意思，而是“知了”。因为可能真有“知了问卷”这个东西，然后这是它们用的问卷系统的统一名称？</p><p>然后呢，因为实在是太离谱了这次经历，所以我录了个视频发B站了：</p><div align=center class="aspect-ratio"><iframe src="//player.bilibili.com/player.html?isOutside=true&aid=115933196652844&bvid=BV1GGzEBvEPL&cid=35527133851&p=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"></iframe></div><p>我是真不知道该说什么了。</p><h1 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h1><p>那么问题究竟出现在了哪呢？能让从草案、制作、生产到发货没一个人知道有错误。<br>甚至就连QA(质量保证部门)审核的时候也没看出来问题。</p><p>我不清楚里面具体怎么个流程。如果说主因是设计一个人的锅的话那全链路里没人检查那可就是所有人的锅了<br>只能希望这种疏漏不要再有了，不然整个仓库全是这样的还要返工重做，对所有人而言都是损失。</p><p>不过好在最后我发的那个视频被阿里公关发现了，让我留了个电话沟通。<br>最后我也顺便提了这个URL拼音的问题，然后这个台历的问题也都沟通了一下。因为我反馈了这两个bug，作为补偿阿里给我了一个50元的代金券。<br>他们给出的解决方案是错误的那两页重新印，然后补发这两页。预计三月初陆续发出（有的等了）<br>最终这件事也算是完美结束了</p><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>世界真是个巨大的 _漏勺_。我还有个帆布袋他们还没发货呢，作为鲁棒性高的产品可千万别再给我出岔子了。同时这个也问了，因为正在生产中所以我这个还得7个工作日才能发。<br>至于这个台历……嗯挺好，那两页可以说是“有序的混乱”，适合当收藏和纪念品。<br>不过我总觉得他们这漏洞还是太逆天了，看起来跟“盗版”似的。哦不对，盗版的都还没这么离谱过，如果盗版的话月份和内容啥的基本上反而不会有问题。<br><strong>只能说这是大厂独有的漏，带有美感的漏，这可是任何复制品都无法超越的。</strong></p>]]>
    </content>
    <id>https://www.b23.kim/details/c6f43308bc66.html</id>
    <link href="https://www.b23.kim/details/c6f43308bc66.html"/>
    <published>2026-01-21T13:54:47.000Z</published>
    <summary>
      <![CDATA[<p>之前阿里云送礼物，于是我就领了一个。<br>原本这是开箱记录文的，平平无奇没什么好说的。但是哎，这次可不一样。这此的可是混合着，咳咳的重磅惊喜。</p>
<h1 id="开箱"><a href="#开箱" class="headerlink" title="开箱"></a>]]>
    </summary>
    <title>阿里云发的台历好难绷…离谱爆炸了</title>
    <updated>2026-01-27T15:09:23.109Z</updated>
  </entry>
  <entry>
    <author>
      <name>b23.kim</name>
    </author>
    <content>
      <![CDATA[<div class="note warning flat"><p>信息来自whois.com，随着时间推移部分信息可能不再准确，请谨慎判断。不过这也说明了一个域名最初是有人的，是一个时代的标志。</p></div><p>好奇看了下自己的域名，然后想着我的“同行域名”都怎么样了。于是根据域名whois信息写下了这篇收集。</p><p><code>b23.com</code>: 1999-06-11 上古神器<br><code>b23.it</code>: 2002-08-02<br><code>b23.net</code>: 2003-03-07<br><code>b23.ru</code>: 2007-09-10<br><code>b23.cz</code>: 2008-06-06 注册局文件精确到秒05:35:23，但不知道时区<br><code>b23.ch</code>: 2009-01-11<br><code>b23.pl</code>: 2009-11-05 08:41:13<br><code>b23.be</code>: 2010-03-23<br><code>b23.hk</code>: 2010-06-10<br><code>b23.dk</code>: 2012-07-10<br><code>b23.io</code>: 2013-11-03<br><code>b23.de</code>: 2014-12-04 这个是信息更新时间，看不到注册时间。默认就是它吧<br><code>b23.nl</code>: 2015-07-07<br><code>b23.gallery</code>: 2015-11-30<br><code>b23.in</code>: 2017-01-23<br><code>b23.online</code>: 2017-04-13<br><code>b23.tv</code>: 2017-08-22 B站官方短链接<br><code>b23.me</code>: 2017-12-08<br><code>b23.uk</code>: 2018-01-19<br><code>b23.fit</code>: 2019-09-24<br><code>b23.fr</code>: 2020-04-08<br><code>b23.site</code>: 2020-05-21<br><code>b23.top</code>: 2021-01-01<br><code>b23.wtf</code>: 2021-02-03<br><code>b23.tech</code>: 2021-04-13<br><code>b23.fun</code>: 2021-07-28<br><code>b23.work</code>: 2021-08-06<br><code>b23.icu</code>: 2021-08-15<br><code>b23.tf</code>: 2021-08-27<br><code>b23.vip</code>: 2021-11-22<br><code>b23.cc</code>: 2022-01-19 现在是赌博网站<br><code>b23.info</code>: 2022-05-30<br><code>b23.org</code>: 2022-11-08<br><code>b23.design</code>: 2023-02-09<br><code>b23.biz</code>: 2023-06-10<br><code>b23.space</code>: 2023-07-26<br><code>b23.moe</code>: 2023-11-20<br><code>b23.host</code>: 2024-06-01<br><code>b23.run</code>: 2024-08-04<br><code>b23.ink</code>: 2024-10-17<br><code>b23.ca</code>: 2024-10-28<br><code>b23.art</code>: 2024-12-17<br><code>b23.news</code>: 2024-12-22<br><code>b23.shop</code>: 2025-02-28<br><code>b23.nz</code>: 2025-04-01<br><code>b23.app</code>: 2025-05-02<br><code>b23.pw</code>: 2025-05-18<br><code>b23.us</code>: 2025-05-21<br><code>b23.kim</code>: 2025-05-22 我在这里<br><code>b23.xyz</code>: 2025-05-22 同一天注册，无法确定先后顺序。先放后面<br><code>b23.dev</code>: 2025-05-28<br><code>b23.click</code>: 2025-06-04<br><code>b23.lol</code>: 2025-06-04 同天<br><code>b23.to</code>: 2025-06-05<br><code>b23.com.cn</code>: 2025-06-18 不敢相信，这么长都有人注册<br><code>b23.link</code>: 2025-07-21<br><code>b23.mobi</code>: 2025-07-28<br><code>b23.ai</code>: 2025-07-31<br><code>b23.la</code>: 2025-07-31 同天<br><code>b23.buzz</code>: 2025-09-05<br><code>b23.mom</code>: 2025-09-14 男妈妈是吧<br><code>b23.world</code>: 2025-10-30<br><code>b23.email</code>: 2025-10-30 也是同一天注册<br><code>b23.xin</code>: 2025-11-06<br><code>b23.one</code>: 2025-11-26<br><code>b23.live</code>: 2025-11-28<br><code>b23.uno</code>: 2025-12-15<br><code>b23.cn</code>: 2026-01-07<br><code>b23.ltd</code>: 2026-01-19</p><p>以下域名由于注册局问题导致无法得知确切注册时间</p><p><code>b23.im</code><br><code>b23.de</code></p>]]>
    </content>
    <id>https://www.b23.kim/details/c86e4da9ebe1.html</id>
    <link href="https://www.b23.kim/details/c86e4da9ebe1.html"/>
    <published>2026-01-21T04:29:02.000Z</published>
    <summary>
      <![CDATA[<div class="note warning flat"><p>信息来自whois.com，随着时间推移部分信息可能不再准确，请谨慎判断。不过这也说明了一个域名最初是有人的，是一个时代的标志。</p>
</div>
<p>好奇看了下自己的域名，然后想着我的“同行域名”都怎么样]]>
    </summary>
    <title>b23域名断代史，已知后缀的注册情报收集</title>
    <updated>2026-02-15T03:51:53.092Z</updated>
  </entry>
  <entry>
    <author>
      <name>b23.kim</name>
    </author>
    <category term="2⃣❌🌲🌲" scheme="https://www.b23.kim/tags/2%E2%83%A3%E2%9D%8C%F0%9F%8C%B2%F0%9F%8C%B2/"/>
    <content>
      <![CDATA[<div align=center class="aspect-ratio"><iframe src="//player.bilibili.com/player.html?isOutside=true&aid=115923365138566&bvid=BV1LzkGBYEe6&cid=35492859698&p=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"></iframe></div>OK啊，我们的大工信部的网站也没有逃过被人打/服务器内部错误/访问人数大……总之各种原因引发的拒绝服务。前段时间我在外面用手机看https://beian.miit.gov.cn/ 的时候就总感觉莫名其妙的好像很卡的感觉，没想到是初见端倪了。<p>于是下面就是现在它的样子，也就是我写稿的时候：<br><img src="https://i0.hdslb.com/bfs/cm/11f9b2066b583da500465adbabc6e86375cc5a1f.png" alt="响应时长"><br>你就看这响应吧，竟然整整过了近20秒？！<br>要知道，国内网站几乎是秒开的，响应不会超过10ms。这20秒简直恐怖。</p><p>于是二叉在群里发出了尖锐的爆鸣声：<br><img src="https://i0.hdslb.com/bfs/cm/e97be29865bbcb3c492b82842c4e0dd198c8bc11.png" alt="这扯不扯"></p><p>然后我又去试了遍，发现响应时间直接来到了28秒！<br><img src="https://i0.hdslb.com/bfs/cm/f58f83252bd39c6014783b1384689f92550ec09f.png" alt="28秒响应"></p><p>我是真的服了，这还是能用的状态。不能用的时候拒绝服务那种，要是遇到个备案的要短信核验，然后短信有效期只有一天。这你怎么整？这就体现出灾备的重要性了。强烈建议他们搞个备用验证方案，一个不行换另一个。再不就是把这唯一的验证通道给整好，整安全点，最起码别让别人用不了就行。<br>好神奇的现实世界</p>]]>
    </content>
    <id>https://www.b23.kim/details/e9ae2e219020.html</id>
    <link href="https://www.b23.kim/details/e9ae2e219020.html"/>
    <published>2026-01-20T05:45:01.000Z</published>
    <summary>
      <![CDATA[<div align=center class="aspect-ratio">
<iframe src="//player.bilibili.com/player.html?isOutside=true&aid=115923365138566&bvid=BV1LzkGBYEe6&]]>
    </summary>
    <title>不是，工信部网站怎么还能爆炸的</title>
    <updated>2026-01-23T19:39:03.564Z</updated>
  </entry>
  <entry>
    <author>
      <name>b23.kim</name>
    </author>
    <content>
      <![CDATA[<p>大家好啊</p><p>腾讯作为国内一家知名的 草 台 班 子 企业，想必一定是非常“严谨”的。得益于它那优秀的内部，它能做到很多很荒诞的东西。其中便包括经典的错别字和漏字。<br>对普通人而言犯点错误也难免，但是这是出在这种知名大企业上，而且还扮演着举足轻重的地位。在我们的印象里，腾讯这种大企业应该是象征着严谨和技术能力雄厚的<br>但实际上是……</p><blockquote><p>如果互联网有一个 <strong>“赛博整活/出幺蛾子排行榜”，腾讯绝对是当之无愧的 T0 级别 霸榜选手。它的“幺蛾子”不仅仅是多，而是种类丰富、花样翻新、逻辑感人</strong>，经常能打出让技术人员和用户同时脑溢血的操作。<br>——gemini-3-pro</p></blockquote><p>那废话不多说，我们直接进入正题：</p><h1 id="QQ手游戏"><a href="#QQ手游戏" class="headerlink" title="QQ手游戏"></a>QQ手游戏</h1><p>这个其实出自ARK模板<code>com.tencent.gamecenter.collect_card_share_v2</code>的某一业务下面的卡片签名接口里面的其中一个在json模板里透传给前端的desc字段的值。<br>《QQ手游戏》我估计写这个逻辑的人当时想的要么是“QQ手机游戏”，要不就是“QQ手游”。那么少打一个字或者多打一个字是为什么呢？<br>我开始思考……<br>终于知道了答案，嗷卧槽这里我估计大概率是用“输入技巧”翻车了。</p><div class="note info flat"><p>输入技巧：在用输入法单打一个字的时候，有时候会因为前面一页或几页被比它更常用的单字占据，输入的时候翻页会慢。为了提升效率，一般我们会把含这个单字的<strong>词语</strong>打出来再删去不需要的文字，仅保留我们想要打的那个字。</p></div><p>一看就是忘记把“戏”删了，哈哈<br>但凡多一个“机”字也比这好</p><p>QQ手游戏是QQ手做的游戏（确信）<br>经 典 永 流 传</p><p>越想越不对劲，“QQ手”是什么</p><h1 id="SVP月卡"><a href="#SVP月卡" class="headerlink" title="SVP月卡"></a>SVP月卡</h1><p><img src="https://i0.hdslb.com/bfs/mallup/mall/00/w2/00w201x3w1yw02zx3x1203x0022ww23z.jpg" alt="SVP"></p><p>这个出自腾讯的每月1日会员日(2025/12/01)的活动页面上，在任务板块有一个“开通SVP月卡”的任务。<br>笑死经典少打字母（但凡再多看一下呢？）</p><h1 id="圳市腾讯"><a href="#圳市腾讯" class="headerlink" title="圳市腾讯"></a>圳市腾讯</h1><p><img src="https://i0.hdslb.com/bfs/mallup/mall/x3/w0/x3w0022w2yyy01w110yz013xywzzyww3.jpg" alt="圳市腾讯计算机系统有限公司"></p><p>不是哥们，这也能漏啊<br>你别逗我<br>按理说自己家公司地址不太有出错的可能啊，这不应该啊。你是怎么办到的？<br>原文链接：<a href="https://rule.tencent.com/rule/202407070001">https://rule.tencent.com/rule/202407070001</a></p><p>仅限手机端浏览器看有这个缺字bug，电脑端看那个“深”是有的。<br>后面发现实际上“深”字溢出到屏幕外面去了，一直都没少打。（而且那个横向滚动条只有在“9.联系我们”下面才有才能滑的动，况且那个横向滚动条不注意看就很容易忽略了。什么鬼样式）</p><h1 id="vedio"><a href="#vedio" class="headerlink" title="vedio"></a>vedio</h1><p>不是，video这个单词都能拼错的吗？然后我们的腾讯生造了一个vedio。<br>这个出自腾讯官方的机器人“王者荣耀小狐狸”(2854196311)的<code>攻略百科</code>指令的响应里，响应包含一段正文和一个卡片，而这正是在这个卡片的bizsrc字段中：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span><span class="attr">&quot;app&quot;</span><span class="punctuation">:</span><span class="string">&quot;com.tencent.video.lua&quot;</span><span class="punctuation">,</span><span class="attr">&quot;prompt&quot;</span><span class="punctuation">:</span><span class="string">&quot;王者荣耀-小狐狸给你发送了一条视频信息&quot;</span><span class="punctuation">,</span><span class="attr">&quot;bizsrc&quot;</span><span class="punctuation">:</span><span class="string">&quot;zhiji.vedio&quot;</span><span class="punctuation">,</span><span class="attr">&quot;meta&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;video&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                        <span class="attr">&quot;avatar&quot;</span><span class="punctuation">:</span> <span class="string">&quot;[]&quot;</span><span class="punctuation">,</span></span><br><span class="line">                        <span class="attr">&quot;nickname&quot;</span><span class="punctuation">:</span> <span class="string">&quot;王者荣耀-小狐狸&quot;</span><span class="punctuation">,</span></span><br><span class="line">                        <span class="attr">&quot;preview&quot;</span><span class="punctuation">:</span><span class="string">&quot;http://cdn.gbot.qq.com/platform/20250924_1758697441_75ea3tfy&quot;</span><span class="punctuation">,</span></span><br><span class="line">                        <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;蚩奼玩法介绍&quot;</span><span class="punctuation">,</span></span><br><span class="line">                        <span class="attr">&quot;jumpURL&quot;</span><span class="punctuation">:</span><span class="string">&quot;https://tool.helper.qq.com/v3/xiaoyue/qqminiapp/video.html?acctype=qq\u0026app_id=\u0026area_id=0\u0026game_id=1191\u0026open_id=29EFCB9F0066DF682F23F86526047129\u0026partition_id=\u0026plat_id=0\u0026role_id=\u0026source=xy_qqgroup\u0026system_id=0\u0026vid=n3172xzsond&quot;</span><span class="punctuation">,</span></span><br><span class="line">                        <span class="attr">&quot;tag&quot;</span><span class="punctuation">:</span><span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">                        <span class="attr">&quot;sourcelogo&quot;</span><span class="punctuation">:</span><span class="string">&quot;[]&quot;</span><span class="punctuation">,</span></span><br><span class="line">                        <span class="attr">&quot;tagIcon&quot;</span><span class="punctuation">:</span><span class="string">&quot;[]&quot;</span></span><br><span class="line"></span><br><span class="line">                        <span class="punctuation">&#125;</span></span><br><span class="line">                <span class="punctuation">&#125;</span><span class="punctuation">,</span><span class="attr">&quot;config&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;autosize&quot;</span><span class="punctuation">:</span><span class="string">&quot;0&quot;</span><span class="punctuation">,</span><span class="attr">&quot;collect&quot;</span><span class="punctuation">:</span><span class="number">1</span><span class="punctuation">,</span><span class="attr">&quot;ctime&quot;</span><span class="punctuation">:</span><span class="number">1768720906</span><span class="punctuation">,</span><span class="attr">&quot;forward&quot;</span><span class="punctuation">:</span><span class="number">1</span><span class="punctuation">,</span><span class="attr">&quot;reply&quot;</span><span class="punctuation">:</span><span class="number">1</span><span class="punctuation">,</span><span class="attr">&quot;round&quot;</span><span class="punctuation">:</span><span class="number">1</span><span class="punctuation">,</span><span class="attr">&quot;token&quot;</span><span class="punctuation">:</span><span class="string">&quot;0a1b8000556f86fb03b30145b544bf6f&quot;</span><span class="punctuation">,</span><span class="attr">&quot;type&quot;</span><span class="punctuation">:</span><span class="string">&quot;normal&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span><span class="attr">&quot;view&quot;</span><span class="punctuation">:</span><span class="string">&quot;video&quot;</span><span class="punctuation">,</span><span class="attr">&quot;ver&quot;</span><span class="punctuation">:</span><span class="string">&quot;0.0.0.1&quot;</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>于是我们在<code>com.tencent.video.lua</code>模板里面发现了这么一个和他“同父异母”的东西：<code>zhiji.vedio</code>。<br>不愧是我们的草台腾讯部门，我实在想不出任何合理的vedio存在的理由。<br>反正这个vedio就这样在那里躺着，没人管也没人动。似乎它成为了全场的焦点，就这样静静的在那。</p><hr><p>OK就先写这么多，如果有新的话我会往这里再更新补充的。<br>总的来看其实大厂也没我们想象中的那么“魔”，这篇文章希望能给你带来更好的祛魅。我们要辩证的看，无论是所谓的权威还是什么大厂（大家都一样）。实际上在所有的系统当中人类恰恰是最薄弱的环节。<br>但这也并不代表就没好事了，只是大环境下的反差感形成的荒谬给我们带来了一丝小小的惊喜罢了。</p>]]>
    </content>
    <id>https://www.b23.kim/details/2692ea021e57.html</id>
    <link href="https://www.b23.kim/details/2692ea021e57.html"/>
    <published>2026-01-16T15:53:50.000Z</published>
    <summary>
      <![CDATA[<p>大家好啊</p>
<p>腾讯作为国内一家知名的 草 台 班 子 企业，想必一定是非常“严谨”的。得益于它那优秀的内部，它能做到很多很荒诞的东西。其中便包括经典的错别字和漏字。<br>对普通人而言犯点错误也难免，但是这是出在这种知名大企业上，而且还扮演着举足轻重的地位。在我们]]>
    </summary>
    <title>论腾讯那些离谱的错字漏字</title>
    <updated>2026-01-18T10:50:30.483Z</updated>
  </entry>
  <entry>
    <author>
      <name>b23.kim</name>
    </author>
    <category term="嘿壳" scheme="https://www.b23.kim/tags/%E5%98%BF%E5%A3%B3/"/>
    <content>
      <![CDATA[<p>好久一段时间之前，我制作了这么一个表情包：</p><p>实际上它早在NC框架用户被大规模入侵之前就已经有了。只不过后面我又拿出来用用罢了。<br>然后就被人转发了，我记得配文好像还是“看到一个梗图，笑死我了”，还有直接单发这张图的。总之我终于是把这张图给“送”出去了。</p><hr><p>就这样，故事到现在又有了新转机。我们的草台腾讯的任意发系统消息漏洞被嘿壳给挖出来了。<br>实际上有两个版本，第一个早就和谐了，第二个有人研究出来并且也有人直接公开了。</p><p>然后我们就去狠玩了。有类似下面这样的：<br><img src="https://i0.hdslb.com/bfs/mallup/mall/x2/yw/x2yw2z022z132yx21310002z2z11yw13.jpg" alt="安全中心：我不背这个锅"></p><p>就这样，元旦3天假期里一群嘿壳到处发这玩意。（太坏了）<br>元旦三天假期的最后一天夜里，腾讯紧急加班把它修复了，现在已经发不了了。</p><p>这件事就这样草草结束了……吗？</p><hr><p>在这三天里，是QQ最黑暗的那3天。因为它恢复了以往几乎没啥防御的群魔乱舞。<br>这段时间里，涉政的，诈骗的（即使可能只是在开玩笑）都来了。</p><p>记得刚开始的时候，是A开头的那个群的那个组织研究出来的，不知怎的就在tg公开了：</p><blockquote><p>灰子被再次复活，可能是嘿壳模块作者复活，也可能是被嘿壳模块外群某个人在测试机器人中无意间复活，具体尚不清楚，如果不希望被挂在本频道私信删除</p></blockquote><p>然后就……</p><blockquote><p>我们注意到灰字被用于黑产等违法用途，我们已将关于此漏洞的所有信息删除，奉劝大家不要再发，玩要有限度</p></blockquote><p>果然，我就知道肯定会有一堆滥用的。之前的时候我就用这玩意在小学生互撕对骂群里发了个“该群已被群主解散”的系统通知提示。一开始真的有人信，一堆发问号的。后面发多了大家都免疫了也就都不信了。<br>大概关于第二版灰字的故事就这么多。</p><hr><p>至于第一版灰字，最开始是王二狗发现的。后面他看到某个大群里有人发一模一样的模板消息，于是就发现了泛滥，最终决定自己公开。</p><blockquote><p>所以王二狗释放了他的灰字PB</p></blockquote><p>当然了，发的多了最终也当然被和谐了。实际上任何漏洞的最终归宿都是修复。<br>直到跨年的时候，也就是元旦，这个已经和谐了的第一版的模板<strong>又能正常发出去了</strong>。<br>于是我就在我朋友的群里发了一下：</p><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.min.css"       integrity="sha512-ZfKn7az0YmtPUojZnRXO4CUdt3pn+ogBAyGbqGplrCIR5B/tQwPGtF2q29t+zQj6mC/20w4sSl0cF5F3r0HKSQ=="       crossorigin="anonymous" referrerpolicy="no-referrer" /><link rel="stylesheet" href="https://cdn.jsdmirror.com/gh/b23-kim/blog@main/static/ChatRoom/main2.css" /><script src="https://cdn.jsdmirror.com/gh/b23-kim/blog@main/static/ChatRoom/main24.js"></script><div id="chat-box-1"      data-json-file="https://cdn.jsdelivr.net/gh/b23-kim/blog@main/static/ChatRoom/data/SysPBMSgChat01_1.json"     data-templates-url="https://qzbot.s3.bitiful.net/ARKTemplates/"     data-my-avatar="http://qh.qlogo.cn/g?b=qq&ek=AQQtB4SHJPafHuehltnMae91t0ibtqDdFnChWkneUU1d2wYcNKF37HicyAzOW3wU3ICY4pjSrbqERoiaOtUMpD3ibXvYbLoURbV9TQmicjMj75dbeloTottx1ibhMCd4owSA&s=640"     data-title="请输入文本(64)"     data-hide-avatar="false"     style="max-width:440px; margin:auto;"></div><p>于是就被他上楼找腾讯修复了（悲）<br>第一版和谐了然后又释放了还没半小时就因为我往朋友群里发了一下就弄没力（寄）</p><hr><p>终于啊，俩都修复了。省的再被别人滥用。<br>之前我说过要在博客给灰字搞一个 <strong>赛博灵堂</strong> 的，一直没功夫搞。王二狗还因为这个催过我来着（虽然只是一时兴起根本没功夫搞罢了）</p><p>在第二版灰字和谐以后的第二天，也就是元旦结束的那个星期日晚上8:00左右，腾讯调用了群主号来批量撤回之前嘿壳们发过的灰字。</p><div id="chat-box-2"      data-json-file="https://cdn.jsdelivr.net/gh/b23-kim/blog@main/static/ChatRoom/data/SysPBMsgAutoWithdrawOwner_2.json"     data-templates-url="https://qzbot.s3.bitiful.net/ARKTemplates/"     data-my-avatar="http://qh.qlogo.cn/g?b=qq&ek=AQQtB4SHJPafHuehltnMae91t0ibtqDdFnChWkneUU1d2wYcNKF37HicyAzOW3wU3ICY4pjSrbqERoiaOtUMpD3ibXvYbLoURbV9TQmicjMj75dbeloTottx1ibhMCd4owSA&s=640"     data-title="修猫头的小窝(1391)"     data-hide-avatar="false"     style="max-width:440px; margin:auto;"></div><p>然后没多久，翅膀就告诉我我们要完了。<br>腾讯要因为这个一刀切了，就像上次NC框架被黑一样。理由是“非法数据包”。<br><img src="https://i0.hdslb.com/bfs/mallup/mall/3x/x2/3xx2yyx0yyyxzx3z2w3xx1zyyyzw3zw0.jpg" alt="腾讯这招太狠了"></p><p>不过这都1月9号了，我还没被罚。看样子要么事情已经过去了要么量太大罚不完（笑）<br>谁知道呢。</p><hr><p>不是哥们，为什么灰字还有啊。这特么都和谐两个版本了，腾讯能不能别太离谱。<br>这次不一样的是需要发前置包，不然只能自己看到。原理未知，挺神奇的。<br>倒是电脑端一定看不到，只有移动端设备才能看。为了保持平衡，我决定联系好友去腾讯总部线下反馈了。目前没太多滥用，他们也就在大群发了一个“该群聊已被群主解散”和“大冰纯人机”这俩。我想一定会遭滥用的，但是我朋友说还没引发滥用腾讯应该不会管。因为上次QQ秀的系统消息能刷屏都没人修。。只能说腾讯，不愧是你。</p><p>原本我以为B站漏洞多，怎么腾讯想要加冕为王了。</p><hr>]]>
    </content>
    <id>https://www.b23.kim/details/132faaf69003.html</id>
    <link href="https://www.b23.kim/details/132faaf69003.html"/>
    <published>2026-01-04T16:00:58.000Z</published>
    <summary>
      <![CDATA[<p>好久一段时间之前，我制作了这么一个表情包：</p>
<p>实际上它早在NC框架用户被大规模入侵之前就已经有了。只不过后面我又拿出来用用罢了。<br>然后就被人转发了，我记得配文好像还是“看到一个梗图，笑死我了”，还有直接单发这张图的。总之我终于是把这张图给“送”出去了。</]]>
    </summary>
    <title>社交功能被嘿壳嘿提醒</title>
    <updated>2026-01-09T09:04:07.174Z</updated>
  </entry>
  <entry>
    <author>
      <name>b23.kim</name>
    </author>
    <category term="2⃣❌🌲🌲" scheme="https://www.b23.kim/tags/2%E2%83%A3%E2%9D%8C%F0%9F%8C%B2%F0%9F%8C%B2/"/>
    <content>
      <![CDATA[<p>2025马上就要成为过去式力（喜）<br>时间过得真快啊，都感觉2019跟昨天似的，这都过去6年了啊。今天是今年的最后一天的最后几小时，趁现在来梳理一下今年发生了的事。</p><h1 id="特别的事"><a href="#特别的事" class="headerlink" title="特别的事"></a>特别的事</h1><p>对于我，今年感觉很特别，又不是那么特别。<br>大事记主要有我正式创立了这个博客，以及我在创建了博客以后一段时间认识了煊似火，并且和她合作过一期视频。不过我在她群分享文章，后面她群被封了然后赖“不明链接”而已。创造了最短朋友关系持续时间以及最快成为敌对关系的记录。同时认识到了新的朋友，包括写博客的同行二叉树树和嘿壳群的一个群主。<br>还有十三中创办了春考班，我想去学计算机。最终还是成功说服了家里人并且在数字媒体、软件应用和网络技术当中选择了网络。2026年3月左右就得高考了，我还真挺期待的。</p><p>在这一年里，我写了50篇文章，正正好。数量刚好是一百的一半，不多也不少。从第一篇5月22号开始，到现在一共经历了建站223天的时光。</p><h1 id="难忘的经历"><a href="#难忘的经历" class="headerlink" title="难忘的经历"></a>难忘的经历</h1><p>另外，其余大部分时间都在熬夜，然后白天没精神（）<br>晚上研究有意思的东西，包括web技术和软件逆向技术。也算是还行，张老师评价我说“一点时间都没浪费”。<br>还记得在原来那个学校的时候，因为落地班只有医学、药学和汽修这三个热门专业，所以我只能转学。然后家里出了点事没有钱去专门机构了只能去县里的中专了。在走之前以前欺负过我的同学还说我是“野路子”考上的高中，然后他们以前还拉我看不良网站然后我不想理他们，他们把手表给我的时候我退出看知乎专栏去了。他们还以为我看入迷了。后面在班里笑话我并且造我黄摇（倒也是没闹大）。所以这段经历可以称得上是今年最恶心人的一段经历，于是很难忘。（反正都转学了，无所谓了哈哈）</p><p>还有煊似火那件事，她自己群被封7天，她私信我，我帮她找我好友帮忙查询，她把锅甩给我。解散了就说“因为被封无法恢复”。因为这件事还拉黑B站、拉黑群、踢联合投稿（有个细节是一开始因为被拉黑无法拒绝，找过客服以后他们把代码改了现在联投操作不再看账号是否拉黑这个状态了），我好友进她群被恶意针对。我反击被说成了“我只是把他踢出群拉黑而已，这就记恨上我了”，实际上是因为她的声明不公正一边倒而且评论里的人和她一起恶意抹黑。因此，这段经历是我今年以来第二恶心人的。</p><p>忘了要写什么了，总之先这样？</p><h1 id="正在做的事"><a href="#正在做的事" class="headerlink" title="正在做的事"></a>正在做的事</h1><p>看B站跨晚，然后B站服务器爆炸了一段时间（哈哈哈）<br>顺便还有反方向的弹幕，好有意思。另外在这过程中还有人尝试xss注入攻击，结果当然是没成功。B站即使是再漏也不可能漏成这样。<br>我还给它截图了，下面是该选手的 淘 汰 回 放：<br><img src="https://i0.hdslb.com/bfs/mallup/mall/w2/03/w2032y023w02zw00zxx2x02z2xw0w010.png" alt="嘿壳正在试图xss（最底下那个弹幕）"></p><p>在这之前B站直播还崩过几次（真是小破站）<br>4个线路都连不上来回循环自动切换真的笑死我，好离谱。<br><img src="https://i0.hdslb.com/bfs/mallup/mall/2y/3w/2y3w3x3yzxzxzz0300yy3xx23yzwyxx1.png" alt="爆！"><br><img src="https://i0.hdslb.com/bfs/mallup/mall/zx/2y/zx2y03yz2yw1w3zxzx11zx032ww013x3.png" alt="炸！"><br><img src="https://i0.hdslb.com/bfs/mallup/mall/w1/yy/w1yy03zw032ww1yx2y3yyww2yyzy2wzw.png" alt="小！"><br><img src="https://i0.hdslb.com/bfs/mallup/mall/11/zx/11zxw2w1023wzyyw2y2y3w3yyx12003y.png" alt="破！"><br><img src="https://i0.hdslb.com/bfs/mallup/mall/zx/00/zx003y11w212w2zx0211112xx13xyxw1.png" alt="站！"><br><img src="https://i0.hdslb.com/bfs/mallup/mall/13/13/1313zx12zxw1x0123zyxx2yww3x32xyy.png" alt="漏！"><br><img src="https://i0.hdslb.com/bfs/mallup/mall/3z/10/3z10yxyzw2x0yzw303yx2zw02w01w02x.png" alt="勺！"></p><hr><p>然后B站不是有个什么千问广告吗，然后里面有个生成视频分红的活动，于是想着去参加了一下。<br>不参加不知道，一参加笑死了。<br><img src="https://i0.hdslb.com/bfs/mallup/mall/x1/yy/x1yy2z102yw3002xzxyz1000zyx110yy.png" alt="《我叫哔哩哔哩公司里的漏勺》"><br>首先我可能在很久之前在阿里系应用账号上取过这个难绷名字，甚至我自己都忘了。而且最好笑的是和B站有点关联的时候我遇到了这个巧合的搞笑名字。<br>点开的时候也能笑死人<br><img src="https://i0.hdslb.com/bfs/mallup/mall/yx/2w/yx2w3z3zw0w3x30312032yw0yx2zx0x2.png" alt="哈哈哈"></p><p>然后这个文案只能随机，不能改。然后我就寻思着抓包改请求。<br><img src="https://i0.hdslb.com/bfs/mallup/mall/2x/11/2x11zyywyz2x00w0x3w0131001x0zyyx.png" alt="分享页"><br>于是我就上手给它逆了：<br>请求地址：<a href="https://qwen-api.zaodian.com/api/app/v1/invite/create?req_id=2a7836cbf3764a2d8130076678ae2788&amp;chid=2a7836cbf3764a2d8130076678ae2788&amp;ut=OjS5UXxXyR0kx91E37iY3ySnv9oVa6NegcKcZAC5SXTM5A==&amp;kp=OjSUM+EdtiwdZF6OYfxBK+SW7AHLdpAQ2z4WQzH3mIBCeEwsCxlsO8dvyct9aZFVhhsHE5tiPIsO6MjB0UFYGXjXvC1QviY60mkvUoX99R9XysHqWfzOQICUjzdbA0miXhFy/mFQP077/6BJezvQ/1+iaUjvXyaJvRQDoG7VW5k6t6JAcpsLyEzhUJ9TDJrZvg1kM/Xtme2HojqEvv6jGnnr&amp;cg=qwen_aigc_template&amp;gi=bTkwBC1qZZ+ftaU+Lc66p+9NWa5Y&amp;os=15&amp;nt=5&amp;fr=android&amp;ve=5.2.7.2752&amp;sv=release&amp;ch=tongyi@store_free_oppo&amp;lo=OjSvEymiQ0DF7WXPqkbDJ96UFtOlNty/3LwAWVbOmzJ02vKHtAvfiBHvJwxvUPb89n7NwZ1KIR4tAs499UrQCXuTmQWFY71zWZUeOLUEuueDBKXIN1DyQ8CBHUm6nsOXMyM=&amp;ds=OjS5UXxXyR0kx91E37iY3ySnv9oVa6NegcKcZAC5SXTM5A==&amp;od=OjT0CAOqUwJneFV8zMYoue1Bi+EmnxCcicyfMRb6UtCUj4XC+H+5SwXfylb8o80nCYhrDBVnDKnF1aZOkxjQ8heIz7/o8CavxG6WjimSZU2Trg==&amp;pr=qwen&amp;mi=PKX110&amp;mt=d0QBkphLPCPuiAKbdGEUZchaiSEKTE6+&amp;xs=N952g3AdIff6uFNusPRPMPAKPT5+I6F3RCx9R7nsIOkzeFGBbScv27i9uJncWlDA74eCGZXzYve2aJWX4xgen/IEEcid9/kDZH6F4eB0grHj2EahzWr5NcK22aEaxB4opsEhdl8mZFfVD2lE3BgoKnzK">https://qwen-api.zaodian.com/api/app/v1/invite/create?req_id=2a7836cbf3764a2d8130076678ae2788&amp;chid=2a7836cbf3764a2d8130076678ae2788&amp;ut=OjS5UXxXyR0kx91E37iY3ySnv9oVa6NegcKcZAC5SXTM5A==&amp;kp=OjSUM+EdtiwdZF6OYfxBK+SW7AHLdpAQ2z4WQzH3mIBCeEwsCxlsO8dvyct9aZFVhhsHE5tiPIsO6MjB0UFYGXjXvC1QviY60mkvUoX99R9XysHqWfzOQICUjzdbA0miXhFy/mFQP077/6BJezvQ/1+iaUjvXyaJvRQDoG7VW5k6t6JAcpsLyEzhUJ9TDJrZvg1kM/Xtme2HojqEvv6jGnnr&amp;cg=qwen_aigc_template&amp;gi=bTkwBC1qZZ%2BftaU%2BLc66p%2B9NWa5Y&amp;os=15&amp;nt=5&amp;fr=android&amp;ve=5.2.7.2752&amp;sv=release&amp;ch=tongyi@store_free_oppo&amp;lo=OjSvEymiQ0DF7WXPqkbDJ96UFtOlNty%2F3LwAWVbOmzJ02vKHtAvfiBHvJwxvUPb89n7NwZ1KIR4tAs499UrQCXuTmQWFY71zWZUeOLUEuueDBKXIN1DyQ8CBHUm6nsOXMyM%3D&amp;ds=OjS5UXxXyR0kx91E37iY3ySnv9oVa6NegcKcZAC5SXTM5A==&amp;od=OjT0CAOqUwJneFV8zMYoue1Bi%2BEmnxCcicyfMRb6UtCUj4XC%2BH%2B5SwXfylb8o80nCYhrDBVnDKnF1aZOkxjQ8heIz7%2Fo8CavxG6WjimSZU2Trg%3D%3D&amp;pr=qwen&amp;mi=PKX110&amp;mt=d0QBkphLPCPuiAKbdGEUZchaiSEKTE6+&amp;xs=N952g3AdIff6uFNusPRPMPAKPT5+I6F3RCx9R7nsIOkzeFGBbScv27i9uJncWlDA74eCGZXzYve2aJWX4xgen/IEEcid9/kDZH6F4eB0grHj2EahzWr5NcK22aEaxB4opsEhdl8mZFfVD2lE3BgoKnzK</a><br>请求体</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;platform&quot;</span><span class="punctuation">:</span> <span class="string">&quot;mobile&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;promptId&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cameo_prompt_20251224_bca2b1&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;prompt&quot;</span><span class="punctuation">:</span> <span class="string">&quot;@TA 和 @紫薇 两个人开心地躺在金币堆成的山上，举起酒杯一起干杯，开心激动地说着新年快乐，天边是金元宝形状的柔软棉花。bgm欢乐愉快，不要台词字幕。&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;promptTemplate&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&#123;invitee&#125; 和 &#123;profile_id_165144bf716c45b3bac03d214d56e1fc&#125; 两个人开心地躺在金币堆成的山上，举起酒杯一起干杯，开心激动地说着新年快乐，天边是金元宝形状的柔软棉花。bgm欢乐愉快，不要台词字幕。&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;cameoProfiles&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;cameoProfileId&quot;</span><span class="punctuation">:</span> <span class="string">&quot;invitee&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;isPlaceholder&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;avatar&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://quark-aistudio-cdn.quark.cn/d%2Fqwen%2F949b319ebb4e35ea6ffeb4117e348eb9%2F1765963468370-fe5e659f55e54d8482fc9cea85f36604.png?auth_key=1768485454-0-0-d417007e0aa73577f68354bb17178c09&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;authorId&quot;</span><span class="punctuation">:</span> <span class="string">&quot;OjQ1VGl0kSrVJKo1j3d5maOJzocyFVrwxgtmLX7gVELa5A==&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;nickName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;紫薇&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;cameoProfileId&quot;</span><span class="punctuation">:</span> <span class="string">&quot;profile_id_165144bf716c45b3bac03d214d56e1fc&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;profileType&quot;</span><span class="punctuation">:</span> <span class="string">&quot;public&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;isPlaceholder&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;identityType&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;bucket&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;product&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ai_studio&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;chid&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2a7836cbf3764a2d8130076678ae2788&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;timestamp&quot;</span><span class="punctuation">:</span> <span class="number">1767189520092</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;token&quot;</span><span class="punctuation">:</span> <span class="string">&quot;62bf095ab7bf2d8279eedf8b5609550a&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>返回值：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;code&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;msg&quot;</span><span class="punctuation">:</span> <span class="string">&quot;成功&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;inviteCode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;a7dc053dd23b40b7947d8a479581d3ed&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;success&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>但是只要改了就会这样(改文案不改token)</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;code&quot;</span><span class="punctuation">:</span> <span class="number">1005</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;msg&quot;</span><span class="punctuation">:</span> <span class="string">&quot;参数token重复,请检查参数&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;success&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>这个是都改的结果</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;code&quot;</span><span class="punctuation">:</span> <span class="number">1002</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;msg&quot;</span><span class="punctuation">:</span> <span class="string">&quot;参数token校验不通过，请检查参数&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;success&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>有签名啊，那完蛋了我不会逆native。有超级嘿壳把算法搞出来一定可以自定义，而且这个活动可能就临期的逆出来也没啥意思。<br>要不然我改的文案能更戏剧性（哈哈）</p><hr><p>B站跨晚播了个原神，结束后有个兑换码。令我意想不到的是这个cdk竟然是纯中文的，真是没见过（虽然技术上可以实现但是为了最大兼容性都是随机哈希啥的，不过这种场景图一乐就无所谓了）<br>当然这个地方我没截图，因为当主持人说这一串文案竟然是个兑换码的时候我才意识到这玩意竟然是兑换码？！根本没机会截图。</p><p>这个环节到此结束，没啥好说的。</p><hr><p>等会？B站在播什么？？？？<br><img src="https://i0.hdslb.com/bfs/mallup/mall/x1/2z/x12zyy3w2w3x2z0110w3w0zyzy00yzw0.png" alt="啊？？？？"><br><img src="https://i0.hdslb.com/bfs/mallup/mall/2w/x2/2wx2w32w3wzz2zw23w11yzx3023wzxx1.png" alt="弹幕评价"><br>这……我只能说6</p><p>然后我有个聊天群，里面有人补充了一些截图。<br><img src="https://i0.hdslb.com/bfs/mallup/mall/00/w2/00w23wyy01x23w12x303yzzw2zw1013z.png" alt="听 力 竭 了"></p><p>这个是那三张截图：<br><img src="https://i0.hdslb.com/bfs/mallup/mall/x3/yx/x3yx3y10x2123x103z03zzyy2y022ww3.jpg"><br><img src="https://i0.hdslb.com/bfs/mallup/mall/zz/zy/zzzyx1032y03w1yz02zy01x2zx3ww000.jpg"><br><img src="https://i0.hdslb.com/bfs/mallup/mall/w3/x2/w3x2x2zy01132x01x2zxyx3yw2x1yxx0.jpg"><br>怪不得啊，原来是和UP主合作的，也难怪有这样的创意了。<br>精彩加码（确实哈）<br><em>P.S.我的新项目ChatRoom.js还没完成，刚起步有不完善的地方还有很多问题所以先只能这样展示了。只能等2026再做了。</em></p><hr><p>写到这已经23:05了，仅仅只差一小时了。虽然不知道在期待什么总之就是期待。<br>感觉应该没啥可写的了，就先这样。如果没问题的话到这里这篇应该结束了，等到跨年以后这篇将不再修改。<br><strong>新的文章，2026年见</strong></p><hr><p>OK啊还没完全结束，23:37了，B站又给我们带来了新的……胰岛素？<br><img src="https://i0.hdslb.com/bfs/mallup/mall/x3/02/x30210yzw02xx33x3yywyy123yyy00zw.png"><br><img src="https://i0.hdslb.com/bfs/mallup/mall/yx/x2/yxx21300012zx010yzyyzy132y3xx110.png"><br><img src="https://i0.hdslb.com/bfs/mallup/mall/x1/x3/x1x32xx01313yyzy2xw3yyyx11x1w03w.png" alt="请输入文本"></p><p>what can i say</p><hr>]]>
    </content>
    <id>https://www.b23.kim/details/403b251025bb.html</id>
    <link href="https://www.b23.kim/details/403b251025bb.html"/>
    <published>2025-12-31T11:23:41.000Z</published>
    <summary>
      <![CDATA[<p>2025马上就要成为过去式力（喜）<br>时间过得真快啊，都感觉2019跟昨天似的，这都过去6年了啊。今天是今年的最后一天的最后几小时，趁现在来梳理一下今年发生了的事。</p>
<h1 id="特别的事"><a href="#特别的事" class="headerlink"]]>
    </summary>
    <title>2025年度总结</title>
    <updated>2026-01-23T19:39:07.328Z</updated>
  </entry>
  <entry>
    <author>
      <name>b23.kim</name>
    </author>
    <content>
      <![CDATA[<p>最近发现了一个好玩的项目：<a href="https://blog.awaae001.top/posts/25937.html">https://blog.awaae001.top/posts/25937.html</a><br>他自己实现了一个chatroom，在博客里面展示聊天记录。这样就可以避免放截图了，更优雅。</p><p>不过我发现一个问题，就是这个聊天记录啥的展示并不美观，于是我下载了原作者的项目自己魔改了一份。<br>在经历了两天的和AI斗智斗勇的过程以后，我成功做出了高仿QQ卡片的设计。（其实QQ很多卡片都是一个模子刻的）</p><p>下面是效果：</p><!-- 引入 font-awesome 图标库 --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.min.css"       integrity="sha512-ZfKn7az0YmtPUojZnRXO4CUdt3pn+ogBAyGbqGplrCIR5B/tQwPGtF2q29t+zQj6mC/20w4sSl0cF5F3r0HKSQ=="       crossorigin="anonymous" referrerpolicy="no-referrer" /><link rel="stylesheet" href="https://cdn.jsdmirror.com/gh/awaae001/htmls@main/ChatRoom/main.css" /><script src="https://cdn.jsdmirror.com/gh/b23-kim/blog@main/static/ChatRoom/main23.js"></script><div id="chat-box-1"      data-json-file="https://cdn.jsdelivr.net/gh/b23-kim/blog@main/static/ChatRoom/test2.json"     data-templates-url="https://qzbot.s3.bitiful.net/ARKTemplates/"     data-my-avatar="https://image.neosora.cc/?/images/2024/10/01/8tB9C0gYz5/eb0c7477f97f6d64f86c3cd3b4a1e7a5.jpg"     data-title="第一个聊天室"     data-hide-avatar="false"     style="max-width:440px; margin:auto;"></div>]]>
    </content>
    <id>https://www.b23.kim/details/099da631cdc6.html</id>
    <link href="https://www.b23.kim/details/099da631cdc6.html"/>
    <published>2025-12-31T04:17:24.000Z</published>
    <summary>
      <![CDATA[<p>最近发现了一个好玩的项目：<a href="https://blog.awaae001.top/posts/25937.html">https://blog.awaae001.top/posts/25937.html</a><br>他自己实现了一个chatroom，在博客里]]>
    </summary>
    <title>似乎是一个更优雅的方式在网页中展示聊天记录：ChatRoom.js</title>
    <updated>2026-01-01T16:37:04.764Z</updated>
  </entry>
  <entry>
    <author>
      <name>b23.kim</name>
    </author>
    <category term="Docker容器应用" scheme="https://www.b23.kim/categories/Docker%E5%AE%B9%E5%99%A8%E5%BA%94%E7%94%A8/"/>
    <content>
      <![CDATA[<p>artalk是一个自托管的评论系统。优点是功能比较多，能满足大部分需求。缺点是需要自己先有一台独立的应用服务器（Serverless那种不行，因为：<a href="https://blog.hzchu.top/2025/%E4%B8%80%E7%A7%8D%E5%9C%A8Vercel%E4%B8%8A%E8%BF%90%E8%A1%8CArtalk%E7%9A%84%E6%80%9D%E8%B7%AF/">https://blog.hzchu.top/2025/%E4%B8%80%E7%A7%8D%E5%9C%A8Vercel%E4%B8%8A%E8%BF%90%E8%A1%8CArtalk%E7%9A%84%E6%80%9D%E8%B7%AF/</a> ）</p><p>判断依据：拥有<strong>公网IPv4地址</strong>、并能自主安装运行Docker</p><p>前置条件准备好以后，下面我们将正片开始，Let’s go！</p><h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><p>使用docker来安装：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull docker.1panel.live/artalk/artalk-go</span><br></pre></td></tr></table></figure><p>依旧是我们的老熟人1panel镜像，如果不行就可以换一个。<br>安装完成后会显示这个：<br><img src="https://i0.hdslb.com/bfs/mallup/mall/x0/zy/x0zyx0zyzz01yxzxzw102x2y0310x311.png" alt="宝塔终端"></p><p>然后你就可以用官网提供的命令<code>通过环境变量携带配置</code>来启动。</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">docker run -d \</span><br><span class="line">    --name artalk \</span><br><span class="line">    -p 8080:23366 \</span><br><span class="line">    -v $(<span class="built_in">pwd</span>)/data:/data \</span><br><span class="line">    -e <span class="string">&quot;TZ=Asia/Shanghai&quot;</span> \</span><br><span class="line">    -e <span class="string">&quot;ATK_LOCALE=zh-CN&quot;</span> \</span><br><span class="line">    -e <span class="string">&quot;ATK_SITE_DEFAULT=Artalk 的博客&quot;</span> \</span><br><span class="line">    -e <span class="string">&quot;ATK_SITE_URL=https://example.com&quot;</span> \</span><br><span class="line">    artalk/artalk-go</span><br></pre></td></tr></table></figure><p>需要修改<code>ATK_SITE_DEFAULT</code>和<code>ATK_SITE_URL</code>为你实际的值。</p><div class="note warning flat"><p>注意：如果你是用1panel镜像安装的，最后一行需要改为<code>docker.1panel.live/artalk/artalk-go</code>。</p></div><p>以上是官方的启动示例。如果你觉得麻烦的话最简的启动应该是这样的（你需要在后台手动设置站点）：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker run -d \</span><br><span class="line">    --name artalk \</span><br><span class="line">    -p 8080:23366 \</span><br><span class="line">    -v $(<span class="built_in">pwd</span>)/data:/data \</span><br><span class="line">    docker.1panel.live/artalk/artalk-go</span><br></pre></td></tr></table></figure><p>完成后，在你的公网ip下的8080端口就是Artalk的后台了，如果已经有别的东西使用了8080端口可以换一个。别忘了服务器策略组(防火墙)里面放行端口！<br>看到这个就成功了：<br><img src="https://i0.hdslb.com/bfs/mallup/mall/yy/w0/yyw0x1zx2x2yzxw2123xyx12032w3z3z.png" alt="Artalk后台"></p><h1 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h1><p>本节讲主要的安装和配置流程，技术栈选用EdgeOne来反代回源</p><h2 id="设置管理员与站点"><a href="#设置管理员与站点" class="headerlink" title="设置管理员与站点"></a>设置管理员与站点</h2><p>你可能会问，默认的管理员账号和密码是什么？我也不知道。<br>不过你可以通过命令来设置一个管理员账号。</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -it artalk artalk admin</span><br></pre></td></tr></table></figure><p>在接下来的页面中按照顺序输入你的用户名、邮箱(不需要实际存在，可以随便写)和密码：<br><img src="https://i0.hdslb.com/bfs/mallup/mall/2x/yx/2xyx03zyx1yy2zx13zx2w12xw1zxyxx3.png" alt="管理员创建"><br><strong>密码输入的时候不会显示，务必留意。</strong><br>一般情况下操作实时生效，如果创建了还登不上重启容器即可。<br>如果不满意后面还可以改</p><p>登录成功后界面默认是英文的，如果看不懂或者不习惯可以改语言。<br><img src="https://i0.hdslb.com/bfs/mallup/mall/13/2y/132yzx2z2x02yzywx1x001103ww1x002.png" alt="语言选项"><br>在左边的Settings里面有个Language选项，点击后在下拉菜单里面选择<code>zh-CN</code>，点击Apply。最后浏览器刷新一下就变成中文了。</p><p>下一步，找到“站点”那一个选项卡（如果你是通过环境变量指定的那么可以跳过这一步）：<br><img src="https://i0.hdslb.com/bfs/mallup/mall/03/3w/033w3w01zyzwx2zxx0yx0310zxx1w2x2.png" alt="站点设置"><br>可以发现它默认自带了一个默认站点。你可以删除它也可以直接建一个新的。<br>其中：<br><code>站点名称</code>是一个任意字符串，用来标识调用者。<br><code>站点URLs</code>是一个网页链接，用来前端在“通知中心”点击评论时要跳转到的域，不填留空前端点击的时候目标会变成评论区绑定的域名(未定义行为)。同时也是OAuth登录方式的 <strong>可信回调域名</strong>。建议同时给localhost也设置一个以便开发调试，使用<code>,</code>进行分隔多个值。我设置的是：<code>https://www.b23.kim,http://localhost</code>（latest[2.9.1]版本这里似乎有bug，跳转只会识别第一个，所以localhost写不写都一样了。但是如果是OAuth回调的话依然正常信任）</p><p>如果站点配置和自己接入的实际页面的域名不匹配，OAuth会拒绝回调并拒绝传递Token：<br><img src="https://i0.hdslb.com/bfs/mallup/mall/zx/zz/zxzz2w3xyy3z3xzz3z2yzww22x2z0001.png" alt="不可信的站点"><br>因此，请配置正确并尝试自己走一遍登录流程。如果你不打算接入OAuth的话这里配置不配置都一样了</p><h2 id="前端接入"><a href="#前端接入" class="headerlink" title="前端接入"></a>前端接入</h2><p>在前端，对于butterfly主题，你可以这样编辑配置：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Artalk</span></span><br><span class="line"><span class="comment"># https://artalk.js.org/guide/frontend/config.html</span></span><br><span class="line"><span class="attr">artalk:</span></span><br><span class="line">  <span class="attr">server:</span> <span class="comment">#Artalk的后端地址，用于上传评论、获取数据等交互。注意：末尾不要加斜杠</span></span><br><span class="line">  <span class="attr">site:</span> <span class="comment">#站点名称，填你后台或Docker启动时环境变量设置的</span></span><br><span class="line">  <span class="comment"># Use Artalk visitor count as the page view count</span></span><br><span class="line">  <span class="attr">visitor:</span> <span class="literal">false</span> <span class="comment">#是否启用访问人数统计（会替代默认的不蒜子）</span></span><br><span class="line">  <span class="attr">option:</span> <span class="comment">#其他选项，一般不用管</span></span><br></pre></td></tr></table></figure><p>其他主题或系统可以查看官方教程来配置：<a href="https://artalk.js.org/zh/guide/deploy.html">https://artalk.js.org/zh/guide/deploy.html</a></p><div class="note warning flat"><p>注意：artalk前端默认以https的协议来请求后端，请确保绑定了域名并部署了SSL。如果直接用http请求会失败，浏览器安全要求不允许https站点请求http接口。</p></div><p>以下是EdgeOne的相关配置教程，其他技术栈可以去找其他的相关教程。</p><h2 id="EdgeOne反向代理回源"><a href="#EdgeOne反向代理回源" class="headerlink" title="EdgeOne反向代理回源"></a>EdgeOne反向代理回源</h2><p>在EO中添加新的域名，核心要点如下：<br><img src="https://i0.hdslb.com/bfs/mallup/mall/12/zy/12zy3y2xzx3xw100w2ywywzx0311w101.png" alt="EdgeOne配置"><br>回源协议用HTTP，端口填上面启动docker映射的8080端口。（这样做就不需要在Artalk后台设置里面配置源站SSL了）</p><p>完成后去申请免费SSL证书即可，按钮很明显我就不再赘述了。<br>最后后端地址直接用你的域名即可，这里不需要加端口号了，因为EO回源已经做了端口转换了。相当于做了一层反向代理了。</p><p>到这里还没结束，如果这时候你去访问还是会失败。由于浏览器的安全策略，<code>www.b23.kim</code>和<code>service.b23.kim</code>不是同一个域会拒绝连接。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Access to fetch at &#x27;https://service.b23.kim/api/v2/conf&#x27; from origin &#x27;http://localhost:4000&#x27; has been blocked by CORS policy: No &#x27;Access-Control-Allow-Origin&#x27; header is present on the requested resource.</span><br></pre></td></tr></table></figure><p>解决方法也很简单，在EO的<code>站点加速-&gt;规则引擎</code>中添加以下规则：</p><details class="toggle" ><summary class="toggle-button" style="">没有用的旧设置</summary><div class="toggle-content"><p><img src="https://i0.hdslb.com/bfs/mallup/mall/w2/2w/w22wx1zxzy1213w0x0zyw13z1003yxw3.png" alt="EO规则设置"><br>匹配类型选HOST，值填你绑定到能访问后端服务的域名，我这里是<code>service.b23.kim</code><br>操作选择修改HTTP响应头，类型<code>增加</code>，头部名称<code>Access-Control-Allow-Origin</code>，值为允许访问的域。</p><div class="note danger flat"><p>注意：不建议直接设置为*，设置仅能自己站点确保信息安全。</p></div></div></details><p>嘶……等我写到这里的时候发现根本不工作啊，响应头为什么没设置上？直到我看了EO的官方文档才发现不能那么写，比较反直觉（What the F**）<br>必须得这样才行：<br><img src="https://i0.hdslb.com/bfs/mallup/mall/2y/zx/2yzx03w03z01x1x12w2z2z00zx12yyzw.png" alt="EO新设置"><br>也就是说操作这里这种情况下只支持变量。。。<br>而且操作类型不能是增加，得是设置才行。<br>参考：<a href="https://edgeone.ai/zh/document/46185">https://edgeone.ai/zh/document/46185</a> （我不确定是不是只有我一个人被坑了）</p><h2 id="设置数据库"><a href="#设置数据库" class="headerlink" title="设置数据库"></a>设置数据库</h2><p>没有数据库是没办法评论的，要想评论需要先有一个数据库。</p><details class="toggle" ><summary class="toggle-button" style="">淘汰选手1</summary><div class="toggle-content"><p>这里我推荐Supabase，免费大碗足够用！官网：<a href="https://supabase.com/">https://supabase.com/</a></p><p>注册登录，初始创建项目会让你设置数据库密码，保存好它。<br>来到项目首页总览(Projcet Overview)，在这个地方往下翻：<br><img src="https://i0.hdslb.com/bfs/mallup/mall/zz/x1/zzx11003x23zx203zw2x01yw3y2yx1w0.png" alt="Overview"></p><p>在这个地方点击连接：<br><img src="https://i0.hdslb.com/bfs/mallup/mall/10/zx/10zx01123xw13zzwx12y01yyw2w3x303.png" alt="Connect to your project"></p><p>最后点击一下这里：<br><img src="https://i0.hdslb.com/bfs/mallup/mall/w2/2y/w22yzw2wyzzw2zw2002z023xw22y13x3.png" alt="Connection String"><br>里面这四个就是我们要用到的东西了。<br>不过免费版只能ipv6访问，不支持v4。也就是说它只有v6公网。这家的数据库能不能用取决于你的服务器是否支持ipv6，<del>不过我这里用的是腾讯云的所以应该没啥问题</del></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">failed to connect to `user=root database=artalk`: [2406:da14:***:****:****:****:****:eae4]:5432</span><br><span class="line">dial tcp [IPv6地址]:5432: connect: network is unreachable</span><br></pre></td></tr></table></figure><p>结果还是燃尽了。。。。服务器不支持纯v6网络。那算了，换下一家吧。</p></div></details><p>OK这次换了tidbcloud。应该没这个问题了（免费计划虽然只有5GB容量，不过也足够评论用了）<br>这个地方的教程我懒得写了，总之需要注意数据库密码只会在第一次生成的时候才显示，保存好它。<br>数据库类型选择mysql</p><p>数据库配置完成后应该就没问题了，评论不会报错了。</p><p>当然你也可以直接用SQLite，最省心</p><h2 id="设置ip属地显示"><a href="#设置ip属地显示" class="headerlink" title="设置ip属地显示"></a>设置ip属地显示</h2><div class="note warning flat"><p>(写完这节才发现问题的诸葛博主)：[2.9.1]Artalk <strong>仅兼容 3.0.0 版本之前的</strong> <code>ip2region.xdb</code> 文件。请从以下地址下载，配置的时候去掉下面截图里面所有的新版特有的_v4<br><a href="https://github.com/lionsoul2014/ip2region/blob/v2.12.0/data/ip2region.xdb">https://github.com/lionsoul2014/ip2region/blob/v2.12.0/data/ip2region.xdb</a><br>（详见文末「避坑指南：IP属地库版本」）</p></div><p>下载属地数据库xdb文件，然后把它放到和配置文件同级的目录：<br><img src="https://i0.hdslb.com/bfs/mallup/mall/13/13/1313zz002yx1zwzw11yx002xx3yxzy13.png" alt="属地数据存放位置(这里截图里的是之前我试过的新版v4文件，别用这个)"></p><p>接下来去artalk后台配置属地相关，也可以手动修改artalk.yml配置文件<br><img src="https://i0.hdslb.com/bfs/mallup/mall/zw/11/zw112yx3yxzwyx10x0x30313x30101w3.png" alt="artalk后台错误配置"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&quot;level&quot;:&quot;WARN&quot;,&quot;ts&quot;:&quot;2025-12-29T17:10:15.088+0800&quot;,&quot;caller&quot;:&quot;[config/base.go:203]&quot;,&quot;msg&quot;:&quot;未找到 IP 数据库文件：\&quot;/****/data/ip2region_v4.xdb\&quot;，IP 属地功能已禁用，参考链接：https://artalk.js.org/guide/frontend/ip-region.html&quot;&#125;</span><br></pre></td></tr></table></figure><p>。。。我服了<br>其实问题出在挂载目录和实际目录的区别。如果你像我一样用的<code>-v $(pwd)/data:/data \</code>这种方式的挂载，artalk.yml配置里面的应该是/data/ip2region.xdb，而不是文件系统里的全限定路径。<br>以下是一个正确的配置：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">ip_region:</span></span><br><span class="line">  <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">db_path:</span> <span class="string">/data/ip2region.xdb</span> <span class="comment">#没有_v4</span></span><br><span class="line">  <span class="attr">precision:</span> <span class="string">city</span></span><br></pre></td></tr></table></figure><p>在后台是这样的：<br><img src="https://i0.hdslb.com/bfs/mallup/mall/3z/3y/3z3yx32w120300zy13103zzz02zxx010.png" alt="artalk后台正确配置(请手动忽略_v4)"></p><div class="note flat"><p>主要是注意docker容器里的文件实际路径并不完全总是跟随操作系统里的，这俩不一样。很容易引起混淆。</p></div><p>另外，由于我们不是直接DNS解析的源站ip，而是使用了EdgeOne来反向代理了。这样源站只能获得EO节点的ip地址，而不是访问用户的地址。<br>因此我们需要配置artalk来正确处理这种情况。<br>对于EO，这个是他们回源时的默认头文档：<a href="https://cloud.tencent.com/document/product/1552/87654">https://cloud.tencent.com/document/product/1552/87654</a><br><img src="https://i0.hdslb.com/bfs/mallup/mall/02/3y/023yx12y2z3x10x2003wyyw110zz02yx.png" alt="artalk后端服务器配置"><br>我们只需要设置让它读取回源标头<code>EO-Connecting-IP</code>就能获取节点获取的IP了。<br>对应的配置文件内容：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Web server</span></span><br><span class="line"><span class="attr">http:</span></span><br><span class="line">  <span class="comment"># Body size limit (unit: MB)</span></span><br><span class="line">  <span class="attr">body_limit:</span> <span class="number">100</span></span><br><span class="line">  <span class="comment"># Proxy Header (fill `X-Forwarded-For` to get user real IP if behind a trusted reverse proxy or CDN)</span></span><br><span class="line">  <span class="attr">proxy_header:</span> <span class="string">&quot;EO-Connecting-IP&quot;</span></span><br></pre></td></tr></table></figure><div class="note info flat"><p>设置完成后需要重启容器才能生效。</p></div><h2 id="邮件推送"><a href="#邮件推送" class="headerlink" title="邮件推送"></a>邮件推送</h2><p>你可以配置邮件通知，实现邮件验证码和评论被回复的通知的发送。<br>本文将以阿里云邮件推送作为示范。</p><p>首先去RAM访问控制创建一个用户：<a href="https://ram.console.aliyun.com/users">https://ram.console.aliyun.com/users</a><br><img src="https://i0.hdslb.com/bfs/mallup/mall/10/yx/10yxx3x3zzx2yx2w3y11yx01033w3y3x.png" alt="创建RAM用户"><br>这里选择“使用永久 AccessKey 访问”来在创建用户的同时创建接口调用凭据</p><p><img src="https://i0.hdslb.com/bfs/mallup/mall/x1/2z/x12z102wx02xx0132zzyx12w2w3y1000.png" alt="完成创建"></p><div class="note warning flat"><p>创建完成后请立刻复制<code>AccessKey</code>和<code>AccessSecret</code>，切换页面后将不再能获取。</p></div><p>为了确保安全和可访问性，你需要给予对应的权限：<br><img src="https://i0.hdslb.com/bfs/mallup/mall/w0/w1/w0w12x2z3zx1w200x13y3w3x133yw202.png" alt="权限授予"><br>权限名称为<code>AliyunDirectMailFullAccess</code>，仅需授予这一个权限就能发送邮件了</p><p>前往阿里云邮件推送产品页，然后点击“申请开通”(免费200封邮件，超出后按每1000封两块钱的费用，还是挺划算的)<br>地址：<a href="https://www.aliyun.com/product/directmail">https://www.aliyun.com/product/directmail</a><br>完成后，在控制台进行添加“发信域名”和“发信地址”。<br>发信域名是你邮箱@后面的内容，支持顶级和二级。例如<code>b23.kim</code>或者<code>mail.b23.kim</code>这样的二级。<br>发信地址是你邮箱@前面的内容，例如<code>verify</code>，结合域名就是<code>verify@b23.kim</code>或者<code>verify@mail.b23.kim</code></p><p>回到Artalk后台，在设置 -&gt; 邮件通知<br>1.编辑“发信人地址”为你阿里云后台配置的地址<br>2.发送方式方式选择<code>ali_dm</code><br>然后在下面的 <strong>阿里云邮件推送</strong> 那一栏填写三个参数<br>AccessKeyId：阿里云RAM用户的<code>AccessKey</code><br>AccessKeySecret：阿里云RAM用户的<code>AccessSecret</code><br>AccountName：你的发件地址，我这里是<a href="mailto:&#x76;&#101;&#x72;&#105;&#x66;&#x79;&#64;&#109;&#97;&#105;&#x6c;&#x2e;&#98;&#50;&#x33;&#x2e;&#x6b;&#105;&#x6d;">&#x76;&#101;&#x72;&#105;&#x66;&#x79;&#64;&#109;&#97;&#105;&#x6c;&#x2e;&#98;&#50;&#x33;&#x2e;&#x6b;&#105;&#x6d;</a></p><p>保存以后，你就能用邮件通知和邮箱类型的社交登录的验证码校验了。<br>如果许久没有邮件同时，就需要检查是否遇到错误。在<a href="https://actiontrail.console.aliyun.com/access-keys/events">https://actiontrail.console.aliyun.com/access-keys/events</a> 可以查看云端调用时的错误日志</p><h2 id="接入OAuth登录"><a href="#接入OAuth登录" class="headerlink" title="接入OAuth登录"></a>接入OAuth登录</h2><p>在社交登录中有一个OAuth的选项允许你接入列表之外的其他通用登录方式，这一节我们使用Casdoor来实现自定义登录方式的接入。<br>由于Casdoor采用非标准OAuth接口约定，我们需要“赛博飞线”来强制兼容Artalk，具体配置看这一篇：<a href="https://www.b23.kim/details/ce4b38f27c8d.html">https://www.b23.kim/details/ce4b38f27c8d.html</a></p><p>在Casoor的后台，找到你要让Artalk登录到的 <strong>应用</strong>，复制其中的<code>客户端ID</code>和<code>客户端密钥</code>。<br><img src="https://i0.hdslb.com/bfs/mallup/mall/x2/2z/x22zzzx0zwyz01yz132x03w212yx11w1.png" alt="Artalk OAuth"><br>填入这两个参数即可成功接入，域名为Casdoor后端所使用到的域名。<br>有关Casdoor的搭建请看这篇：<a href="https://www.b23.kim/details/808a9f471a72.html">https://www.b23.kim/details/808a9f471a72.html</a></p><p>Casdoor需要给Artalk发送登录完成后的回调，Artalk的回调地址填写为<code>https://你的Artalk后端域名/api/v2/auth/&#123;provider&#125;/callback</code>。填写完成后Artalk给Casdoor发起登录请求时会自动带上这个回调地址，不要忘记在Casdoor的 <strong>应用</strong> 中添加这个路径为可信回调地址(重定向 URLs)</p><h1 id="坑点"><a href="#坑点" class="headerlink" title="坑点"></a>坑点</h1><p>artalk的后端似乎有点bug，配置改错了就会导致全局崩溃。这种情况下只能通过手动修改配置文件来解决（你连后台都进不去）<br>如果你找不到配置文件在哪，直接根目录里面全局搜索<code>artalk.yml</code>即可。（不过一般默认在/root/data下面）</p><p>而且我更推荐直接改配置文件。因为后端点“应用”会报错fetch error，但其实配置已经应用上了（奇怪的bug）</p><p>IP属地的配置，不能直接啥都不改把开关打开就保存，也会导致全局崩溃进不去后台只能改配置文件恢复（好脆弱的说……）<br>需要参考官方文档配：<a href="https://artalk.js.org/zh/guide/frontend/ip-region.html">https://artalk.js.org/zh/guide/frontend/ip-region.html</a><br><del>艹，删库了</del>。 好吧其实并没有，只是这个文档常年没人维护了链接到的资源move了而已。如果你需要配置ip属地显示的话：<del><a href="https://github.com/lionsoul2014/ip2region/blob/master/data/ip2region_v4.xdb">https://github.com/lionsoul2014/ip2region/blob/master/data/ip2region_v4.xdb</a></del>（不要用这个！）<br>目前latest(2.9.1)版本的artalk <strong>仅支持3.0.0之前的旧版本xdb</strong>。要使用请下载之前的版本：<a href="https://github.com/lionsoul2014/ip2region/blob/v2.12.0/data/ip2region.xdb">https://github.com/lionsoul2014/ip2region/blob/v2.12.0/data/ip2region.xdb</a> 否则功能将无法启用且日志可能无明确报错。<br><img src="https://i0.hdslb.com/bfs/mallup/mall/zx/10/zx10w1zyw1zz2z3zw23yyz2yzz2zzy3y.png" alt="其他人的讨论"></p><p>所以我这才意识到IP属地不显示的问题出在了哪，上面配置“ip属地”的部分就别用当时我写的新版本区分v6和v4两个文件的了，用这个兼容旧版只有一个文件的这种吧。artalk这个项目感觉没人维护了都，这种兼容问题日志里面都不报的，我和别人一起排查半天才知道。如果有生之年能看到这个项目更新的话记得看看这个问题修没修。</p><p>如果使用了 CDN 或反向代理（如 EdgeOne、Nginx），必须正确配置 proxy_header，否则评论者的 IP 和属地信息将全部显示为代理服务器的信息。</p>]]>
    </content>
    <id>https://www.b23.kim/details/5250c3717631.html</id>
    <link href="https://www.b23.kim/details/5250c3717631.html"/>
    <published>2025-12-28T09:01:58.000Z</published>
    <summary>
      <![CDATA[<p>artalk是一个自托管的评论系统。优点是功能比较多，能满足大部分需求。缺点是需要自己先有一台独立的应用服务器（Serverless那种不行，因为：<a href="https://blog.hzchu.top/2025/%E4%B8%80%E7%A7%8D%E5%9C%A]]>
    </summary>
    <title>artalk的安装和配置保姆级教程</title>
    <updated>2026-01-30T08:41:16.899Z</updated>
  </entry>
  <entry>
    <author>
      <name>b23.kim</name>
    </author>
    <category term="？？？" scheme="https://www.b23.kim/tags/%EF%BC%9F%EF%BC%9F%EF%BC%9F/"/>
    <content>
      <![CDATA[<div class="note warning flat"><p>当前文章中含有少量剧透。为确保最佳阅读体验，建议先游玩一遍原作：<a href="https://b23.tv/vfsQnnV">https://b23.tv/vfsQnnV</a> (BV1bhspzoENJ)</p></div><p>页面:1/3<br>我仍被困在同一天循环<br>但欣慰的是,没有了清洁工,地图不再重置</p><p>页面:2/3<br>我开始写日记,记录每一次循环的变化</p><p>页面:3/3<br>我相信,随着一次次迭代,这里将诞生一个只存在一日但却源远流长的文明</p>    <div id="aplayer-HXcuovLn" class="aplayer aplayer-tag-marker meting-tag-marker"         data-id="289305984" data-server="netease" data-type="album" data-mode="circulation" data-autoplay="false" data-mutex="false" data-listmaxheight="400px" data-preload="none" data-theme="#8f4283"    ></div><p>以上这段话取自GoldenEggs的循环世界互动视频真结局结束前的那一段Steve的自述笔记。那么你们有没有一个疑问：这个循环世界的逻辑是否自洽？<br>在彩蛋部分里，故事的导演说“不用担心像上次那样玩家不老实导致一不小心逃出循环，因为我们在末地底部的循环装置中引入了 自学习 机制。即角色所做出的意料之外的行为都会加入循环计划，成为循环的一部分。”从他的逻辑上看好像确实创建了一个严密的闭环，可是……</p><p>疑点，太多了。<br>真的太多了。</p><p>不知道你们发现一个细节没有，史蒂夫在循环内做出各种行为后视频下面都会有字幕标记“<code>检测到循环计划外的行为，循环表已自动更新..</code>”并且循环中的自己在得知了清洁工的存在后未来的自己会让现在的自己努力变成清洁工。在这里逻辑就已经开始变得扭曲和崩解了，因为它涉及到了一个看似不可能的存在：未来的自己要给现在的自己留下线索，那么这个动作本身是由哪个“自我”所产生的？既然自己的记忆和世界的样貌一切都会重置，那么第一个知道真相并且加以引导的“自己”是怎样产生的？以及未来的自己为什么要让现在的自己知道真相。总的来看，这在逻辑上根本不成立啊！</p><p>视频创作者说“清洁工不受循环的影响”，同时自己又是未来清洁工中的一员，未来的自己为了打破循环选择主动捣乱改变整个故事线。同时自己的行为又会影响循环本身……那么就会有一个解释，自己在改变循环的过程中同时改变了自己！虽然自己在单轮循环开始后丢失所有记忆，但是由于自己对世界的影响是始终存在的，所以自己会根据之前循环做出的改变去做出<code>新的行为</code>。比如自己是末影人的时候没有选择摸鱼，后来的自己就根本不可能有<code>能够选择进入末地的机会</code>。就像开局自己在砍树的时候会被未来成为周树人的自己打。所以整个循环体的漏洞出来了：自己在无限的时间里创造了有穷的变化。这些变化导致了未来的自己给之前的自己关于清洁工的线索，同时循环中的自己在对世界的不断的改变之后会让其中一个循环内的自己选择成为了清洁工的一员。自己成为清洁工后为了打破这个循环，给循环中的自己能够获知真相的信物来<code>让循环中的自己选择去打破这个循环</code>(维持稳定状态，即使是未来的自己失败也能有无数个循环中的自己来做出新的对打破循环有帮助的选择)。最终所有时间线里的自己都能获知在循环线程之外独立存在的存在，从而让是清洁工的自己的操作对循环中所有所有的“自己”生效，进而打破了循环世界中空间意义上的循环。</p><p>这个循环还有个漏洞是循环中的自己的选择能够同时影响自己的未来和以前。当循环迭代了无数个版本之后，自己找到了一个人教给自己的“冥想”和“干扰维护”的线索。因为循环的状态机，使得自己成功成为了自己。进而引发之前我所说的连锁反应。</p><p>讲真，想半天我自己都觉得这也太抽象了。看不懂。说是“循环”，不如换个角度看：这不就是类似“平行世界”的那种模型嘛。每一场循环都可以看作另一个子世界，每一个世界都是独立存在的实例，同时独立开始也独立思考。自己不知道另一个平行世界中的自己什么样子以及如何改变，而是自己在当前世界内所迭代做出的改变能够影响所有世界的自己的认知。怎么样，是不是感觉好理解点了？</p><p>那么还有个问题，金蛋是不是骗子？都说清洁工不受循环影响了，那么为什么还能被作为其中一环呢？所以这就是这个循环计划中唯一的大漏洞了。虽然说他们是类似上帝模式不受影响，但是<code>他们也在改变这个世界</code>呀。迭代过程中自己能够成为维护者，维护者同时是自己。所以金蛋倒是没骗人，因为答案就在视频简介里面有了：“视频只有一个人，自己炸自己，自己交易自己，自己合成自己…”。导演把参与维护的清洁工也包含在了这个循环剧本里面，当然它也就能是自己啦。</p><p>讲到这里这个循环大致的底细应该差不多了（总感觉还是有点不太对劲）。总之经过我的一番梳理大家应该能对此有个更全面的看法。希望这篇能帮助你更好的思考和理解这个循环故事。</p><details class="toggle" ><summary class="toggle-button" style="">这是什么，点开看看？</summary><div class="toggle-content"><p>等等，你不会真以为就这样结束了吧？我越想越感觉不对劲，总感觉遗漏了些什么。金蛋的这个作品确实无论从质量、可玩性还是给人带来的感受都无可挑剔。我带着问题去询问DeepSeek，试图让人工智能带我引入新的思考。结果便是它分析出了我从未设想过的道路。我太过于纠结循环本身，以至于我都快忘了<strong>这个故事本身</strong>。</p><p>故事的彩蛋部分我们可以思考并得到这样一个问题：“金蛋大导演”为什么要设计这个故事？并且还要设计一个“清洁工可以很顺利的捣乱”这么一个情节。我个人认为能推动情节发展是一部分吧，因为互动视频始终是要做给人玩的，始终都要有一个真结局。不然的话观众点半天发现真的就是没个头的无限循环选项会很容易失去兴趣并且给出差评。这样安排是一个极具戏剧性的很棒的设计。如果硬要钻牛角尖追问的话，那大概就是“我想见证一个 deterministic system 中涌现出 free will 的瞬间”吧。</p><p>在达成真结局后故事是一个开放性结局，观众可以凭借自己想象来续写这个故事来进一步决定发展。“我”存在的终极意义会变成什么？ 是维持循环，是打破循环，还是在循环中创作永恒变奏的艺术？真结局的从来就不是一个“真结局”，因为它的名字是<code>循环文明</code>。这意味着故事里的主角从未真正离开过循环，同时在这一天里可以对世界做出改变不被恢复，记笔记维持自己的记忆。循环装置虽然存在，但是循环和非循环之间的界限变得越来越模糊，乃至忘记循环。</p><p>假结局也同样很有意思，西西弗斯是维持循环的推动者，意味着他从未走出或者离开过这，循环依旧存在。</p><p>总的来说这个故事根本就没一个真正意义上的“真结局”。按思考惯性来说应该是主角在一步步循环里面通过触发某个冲突干爆循环，恢复正常世界的时间流动(循环一就是这样做的)。金蛋的这篇循环续作打破了原有的思维框架，给人以意想不到的角度结束，真的太天才了。我真的挺佩服金蛋的创作能力和构思的，每期都能给人一种耳目一新的感觉，即使是相同题材。</p><p>OK到这里应该是写完了，我真想不起来还要写啥了。</p><hr><p>循环的终点，思考的起点</p><p>所以，金蛋有没有“骗”我们？<br>或许没有。他只是用一个看似充满“漏洞”的、自我指涉的叙事装置，完成了一场关于意识、自由与存在的伟大实验。</p><p>我们作为玩家/观众，在一次次点击选择中，其实也在扮演那个“寻找漏洞”的史蒂夫。而当我们最终抵达 循环文明 的结局，并开始像你现在这样，试图理清其中逻辑时，我们就已经成为了这个实验的一部分——我们在用自己的理性与想象力，去填补那个故事故意留下的“空缺”。</p><p>这或许就是《无尽循环》真正的魅力所在：它从不给你一个标准答案。它只是递给你一把钥匙（那个充满悖论的设定），然后指着那扇门（故事的开放性结局），对你说：<br>“门后是什么，由你来定义。现在，开始书写属于你的‘第-1循环’吧。”</p><p><em>谨以此纪念2025年平安夜（虽然选在这一天只是一个巧合）</em></p></div></details>]]>
    </content>
    <id>https://www.b23.kim/details/6fdde71566a7.html</id>
    <link href="https://www.b23.kim/details/6fdde71566a7.html"/>
    <published>2025-12-24T10:16:09.000Z</published>
    <summary>
      <![CDATA[<div class="note warning flat"><p>当前文章中含有少量剧透。为确保最佳阅读体验，建议先游玩一遍原作：<a href="https://b23.tv/vfsQnnV">https://b23.tv/vfsQnnV</a> (BV1bhspzoENJ)]]>
    </summary>
    <title>无尽循环:我即世界</title>
    <updated>2025-12-24T15:41:20.727Z</updated>
  </entry>
  <entry>
    <author>
      <name>b23.kim</name>
    </author>
    <content>
      <![CDATA[<p>有时候我们需要悬挂ICP和公安备案的标识在网站底部，官方提供的传统html标签的方案对于自己有个性主题的网站来说太难看了（除非自己加css来解决）<br>但是我们有更好的解决方案，那就是shields.io。这玩意在我之前的博文里面也有专门场景的其他教程，这一篇就是备案相关的了。</p><p>对于ICP备案：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://img.shields.io/badge/%E9%B2%81ICP%E5%A4%87-2025196989%E5%8F%B7--1-brightgreen?style=flat&amp;logo=data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkRFRDAzMDFGQTRERjExRTdBOERFRDM3QzM0QkNFNDU4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkRFRDAzMDIwQTRERjExRTdBOERFRDM3QzM0QkNFNDU4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6REVEMDMwMURBNERGMTFFN0E4REVEMzdDMzRCQ0U0NTgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6REVEMDMwMUVBNERGMTFFN0E4REVEMzdDMzRCQ0U0NTgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7byXusAAAK8ElEQVR42uRXeXAUVRr/Xl/TMz2ZyUyOCWESAiEGSLiWhAQEJRARCYiCgKvFobUrWNaulFrK7rKo5a7ueq2iBV5AsARFDtldQZc7SCALgYQjEMhBIPfJTJLunr7e29eTLVdZ9m//2J7qmp6erv6+9zu+73uIEAI/5cHAT3z85AlwPfs/+/4HoR8XcgLf3w99rAx8+jiweCewusaTkr1T1TNlM8X8GWXStHv2GO2tYFkWKFs3bMRVFydCxrBz1rO/WUFcTlkMhcBZUQOWbgGOjwUpMwsQwwKLMOzu9ECF7IGAy4LRowYDd3tcKDAsB1b3DTD6QmD23Awan769n/SqbKS+vNfMSJrgGDSkFpd+N9s6tf9xbAGgiy3ZMSdPrQF3jIzjYsEy9ABWNEBCoP3796LbIHDrDcTRW5g4QFH8NJFWoeEacLpCsGAhJtXfyUhxNWzV+alM7KB6osgJ4oT8T4gZ8Vm6lsZo2KFnpgCuu5Rj7Nj4hdWnis4FS1ehtIxdLMYUYMuG+ZYECP5BdATWza4UdefmD4zmKznozul/YvNmvg+xQrMjFHqB8DQLpSsIFQcWR47vWcU6JQDT6mMdUgcXzDxu4XDQUMIdaN/Od0lLUzqY9O/y40+z987ZJWsmVCoeuNTHgMD/IAEBO4CSCYRnAUkuiBz7arleeWI2K1AmLpz6JZuWUW2eujCNvVZRRHqasgAPSJehcOKbUeGATQG+eobSxjzNJqaXsSkZJXzaHUfU40dWOKdO+/CUzJHtN1yQEBcPOlFB+AEMKHJgL1C4wWqrAyY5jqJk+uT1L1YzwdRSPivvW3xs++9JuCvI0MUyPBPlEdEsiDkQnNDfURANug56D+s2g/TZjNyv+dyC4sbcZSXvNzl9l6+3STPSvJ0WWO1ul8eMEUwYkZkMHLHTpwolsgpINQGlem+KS1feT65WzTX3b3wHkYiT8TL2I3TVGJCdfIy/AyWPOoq9iSepYhrB5cFGqC+ZbWu4S2+oLmL6ZQlXnZ5jyf3xXaMeLPFwzngnwz/8zuHGR5wCdAyL6y0pGOn7ZJzAnkXapZOgHT9apO4sXsUHk2vFufd/QXrDiermV7ZzTio8Bw1OozD2Mp1OlZny6FpIGfopcIkdZn8XiD0tgPwB0GQMrBAD4POOVLe/tdWsqRqPFQB+3vKnWwqXrKv3ZMGJut6HX9t79XOgehAFLvLsnOG/YEDuFdS9W181G64U6uePrcTNnUO13RveYzkLIX5g5SwNjgLBRmb+b2fwOXPeBIQ7CChAUkaDlTAEiKEDoifhKTXB4GWu4IFXkW05W2yNtVNGhmshVHsVQha/2+cWO0DgIGJicdORhjVcf1s3bznd9ZTYMfzEgm1mTXkB7m4PcBR2ZFNOYSei1M/NXrXIDI4oU5EFjs46MLypEkqbopqeRGyF24Dpbqeep6bq6gImout2KSF2ndVMLdKqQnKGD9JMPjViWh4q1qiATIw5BpwuWVy4/EHXwiUrhOHZJ/Dl4wsYMerI6GmLC+XP/ZDLHFt2PTAC2hODwBrqOIZl0h1YIw5TodqIAHYjQD4/sMGhYNVXLIsqnOqFG593QB2ZAa7UABysavmjqhMxaiETw/TMuH2M0NwGILgAT5z5kRXuVnCfIiEa2S7LCFPoY+P62Lw5Gzo8AWhNTAfcXDcGCdJ9wojJVZzRTaDhJGClJ2pl3NcD5t6Pf2edPzzfdokjc/R3Sv7crTdS82HL6dDqA9WhRSBQTg0C8V5n26JJwTc4s71lgnHu6kxCzYPMUDDaE2wbUX8R20+S91yko6vuQnAIe6HZGDO6ZMsaS3JcNDuuWwIn0lVSiHgKWWvDROv03hfw+dPzGXpLmHDn5+Gfv/Tk10KG8LcjbWv3netaDTxVs2ZAik+of3JW1qN9rvgmTv5221aoqc0UJ/+slBmSesXC/y4uZODbofeGw9dOwe6MFcO9mpofH2p2G5er11h9YQ8O3HGFdF4PsJ1fFpJrF6eQXpqLx3tDm/LwixfynyjeISfn7CxrX9/Q2p8b5ZPCnj3Yc+S5aUnLJL+3sYNwwCGeU+2YuC/M4e7OSLSw0MDIsrOg10KCxI2bRy808TtdmtWdu3xd3FfPZ/JnD60CfGigwbCgWPFph7XC2dsqUwv/up/P9u2vE4vL6lsfsRSDtzn380zHrDFJ63KHxL3hdVl6v0FrDnUJ55m9+DE562IBx/BuYDCxubNrk50xYghoPd3ZbpZPXOiDS+UKchQmrvzVE8vyVmc0npIdPc0kEshQ2/ypVqOY5ixVYvLOdOJv2rvkHJC7owgOixMujAt4i9P9zOdZg3ytnX2YWtAEizrBDsPxg1MqHamBSs7pp/X8fJ6OmFfA5oFmjW0ftnfEo5N7lmb7B7/5XDB30RtN7OZfRyYWk+R8lUs0FWyYghHS4qFfBdA1mr0JyW6mIT1ROpwpMXuGBVz7h4isFgi1AGcicNKq5qX2iNg9gfoUyacPAunsBrX0yELexcfq5QdXWNcvT2AlRIsQipZfxp903b3ipZzG9Mldf5cyaVcjWV39MElRjNFtYd3p57Ca4UJdJKJd8cUwV9K9Uk2/jBWmpwOGyy0wKZaBeE1xYJoIlTptkrbLBoYDpFwuA3nTBy/L24rXCqPSq6X5S1+SP/7DVoY3WIa3k6CPUqy44eMOivMeW9AWl9J7QhwMPb5hYIg+KO+SITNGgEmJIlRfa6PNSYN0SwepqRbS6y9AAolARIk8hEeknuMSE2rANH88D/C9IVu5rTYhxsW6EdqEa2O5yYXbrEPfLCEeiihlA1Ek9OrKQlN572hCwfyn5sfFn1Rry6GHkyA31Aw8nQs8lK1U0MEPIrjdsaD3dQMbbk/uOXn0L2zmyLqYqfm7sEH9SdgfD0CR0yW0iGC+5+N330JamOV8SWf5WTO/1jev22FWVUxFdoWz+z/VBKHaQIJgsCMm7BCSMvdxMd4zutnZwuiaYqoKIWkZEqeJyUS1spQrFTPM8tOLnVNn7JGeWv0EtZYVXc2tE5h8+Bi1Aw9GdzMwVhc1vgcMTb4D1dZOMipLZ+iVx5cw1C6I0mELMzoLGANDCRFFnXFI3QixN2nRsocuP+7tTbDCGm/TJtxVuNF5z7z1zvE5Z4mq3nYoRPKRkujEaoRaATkx8P4ACr/z6meR0pKHXPcU/RFZukM/V/o49N1MsoPa3o0Gt9+FB067U9v2jSZGr9lAco1QMGuDXl+fZ1y9epdv7ZtjGLfURSzrv4dS0S9ELxy+IG2ntJtZFo97QklY1gT5q90vOxYveB29/NZY7h+HHrCaaoqslmtjQQknE03n7RnTnhVoKdZQvL+F9Q2qQGPHf8l7EiP9xR9+YLR3J0XnwqqKIum+wi0DKNySACOwP5qZCYP0mGUrHiS843UsSTpbVPQauONCTGr2P/X2tklCTsFHENE1zDv7QbsZoroYzvI8bR2CB+uYlwrv306brOBsbFpnHTz4uJST97Yja9R2W8jgEG4zlpP/bEvs6mfDhESh13n39JWaJIGARXC0RkALh4ap3xxabrjpk7xD9z6z9m7X5Nyy8JZNf+7btf15ohJgB8W1OkZmP8P6PLpz+r2vMUNHreMEkKO13W4ut9mH3n5rhnF0yqFqBEv0g+aLA2vI0EpXft4m4kmoc9993yfusTllkV46c+XdtZ44Yxv5oUMrxMkz37aSh2GDtm5LVuw9hkyi1vvfG2D0f787/pcAAwAwtTs7N8++1QAAAABJRU5ErkJggg==</span><br></pre></td></tr></table></figure><p>图标来源：<a href="https://beiancx.miit.gov.cn/favicon.ico">https://beiancx.miit.gov.cn/favicon.ico</a><br>颜色方面选择亮绿，比较符合绿色安全的概念。（缺点是稍微有点不大能看清字，和文字颜色的对比不是很明显。当然如果你有更好的颜色方案的话欢迎交流）</p><p>对于公安备案：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://img.shields.io/badge/%E9%B2%81%E5%85%AC%E7%BD%91%E5%AE%89%E5%A4%87-37083102000125%E5%8F%B7-darkblue?style=flat&amp;logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAoCAYAAACWwljjAAAFQklEQVRYw+3Wa1BUdRjH8SOpMeg4WhZGpDIxiaaTeUFgWrxE4AVRQJGlRRAVIV1JkbgMgQLi5AVBQSVLSp0xlEAUKBEEFZCrCstll8UV2AV2YbmoGCrYv31+R95UL5pmmtamZ+bz6rz5nvOc/5zDcX9jGLs/iTxuyvIlWYkRFeTHA2HVRFtzfhthTG5KuH96/vUgNlC4mMgyw1NJit/aAXLKazYje9xtIMZ/OZz50gW+9hcNkvoLEemEPbnrSP47QYwxQ5Ifv54RqzcXwFFvSyjaOhfavN8F7Y5ZcC/HH9JOB4LNa9Zw5YA76OZV8vIGMdZtSp7cDrtOnOavYiQhTAiPwi1AMtIQaqyngsxpBtw2GAGDKfaQmpUAa6xc4Vfp4UtEdzAMycsT9JQ1Tyctl/2eEkuTlYysF/rCUNxMqDEzgTqzSXBnpgnIHCzgjvEEuD52DLBr3rA1MAaWmNtB582wdtIljZ9G9D+IPU6aTxIPBjHCcXvg3CEh9K2fDLWvjIH6D6fwTIyheuwEqLUyhzLOALq8pkN+bgRw3HY4FBsMzxojZxP9DequLjAlQwVrbpIjhyIY4UYGQ/buhdBqPxlk3Gion2IMDQIz3kJe/ZS34I7uHkmD7VSQVgYDNyIAwsNCgfXGXoOBPjP9DKrOCAogA2etGTmTHAMcFwFZye7wS5QlVHGjoEw4A2qPCUBZ6AzNcQ5Q/YYRdO+YB1U3dsDwypLio4FJ3ECryIzWz6Cm3NgTRHN8HiPF6eHAGSbAdh8feFZkB7krzaHE9h2o85sDsiAbkIsXQMN+e2CtGyF0kzdwXCgU5++D/ouLQFV4OEU/g2Q/iNuIPNaKkQflAWBqexxGjhLDVUcL6IwSQN3SGVChe6FJg9dckCx6D1QBliDZLIAxo7eA8eyv4KE0BJqTrHkZvnL9DJKn+Twmt0NsGGHZy2Dn3kQYfsQ53Hh4/r4RNGz8AIpdzKEuaAF0RC2E57MmQgE3ATjuM/CPiANW7AqSfQJQ5vk362eQKmd3JrmXsoSRocpNIMnbB9zbceDIWUPmuHFQNMkISqa9DpUvNK6YDpW2s8DfwBK48WFQnhMCgzUBoLy0BrRVe5P0NWjPLdKUsJiR1tR1wGp8IeZwMgx/SrgRvjxuAziNcwLvyathLOcJHLflhRDYGRYFrNET2rJ5yvPLoas0tOj/oL8UpC4JHyTSU+6MNCS4gvKoAB5WiKG+MAQSg0WwLXQ/ZJ3xhao0FxB5hYCbUwAEfhEF3Td8QP2dAOQnPwFlxgrolUVq9TPoaX+ZB2nLc2Gk6awj1MU78HZZwJMid2Byb550JQwVO0NfxlJgdz14vWKeRAiK6DlQF28PLZdcoLNcBIO92bb6GTQ8Q/13RURT6tlH2gvXMlITLYD6uI+gp2ozdF0VQXumM6ivCqGvahM8kPiDItkeGo8tB025GFQ3xFrSr06zI3/4yde7oN7m0sWk5eKWDqK5JWJQvAHac9ygq3Adr9gTNNc3QG85rzPfHe5/7wDtPwuhp/Zz6CjyhaZzwi6ivfetHdH/oP77+3PJQOsuRnqkQdCa4wWqyx6gyecpL64GTaEX7ycXUJz4GJp1B4O0X/Hg0Xp1tFV+8Ei1k6c5coHofxBrrzQinbKYo0SVJ+wn6iurGHlY5gY911aDJnMFaHXXiDp9GQyvtKfUA9QFTtBZ7gPdit0tpFd9OpwwFmlA9D/o9yNLDpxIKmI8PMnNSNtviCLVpYTITzrXEGWaq4qos0WgOPdpCenIF+eRrurjB4k0PXopYZG6gMg/D/gNBUxhAbSAmKMAAAAASUVORK5CYII=</span><br></pre></td></tr></table></figure><p>图标来源：blob:<a href="https://beian.mps.gov.cn/eb99adfe-cb8d-44ab-ae53-3ac106beffce%EF%BC%88%E6%97%A0%E6%B3%95%E7%9B%B4%E6%8E%A5%E4%B8%8B%E8%BD%BD%EF%BC%89">https://beian.mps.gov.cn/eb99adfe-cb8d-44ab-ae53-3ac106beffce（无法直接下载）</a><br>其实这里的图标就是官网里面提供的，可以自行下载，也可以用我这里的这份副本。关于颜色这里选择深蓝色（视觉上看起来跟紫色差不多），一是对比比较明显，二是看起来也美观。</p>]]>
    </content>
    <id>https://www.b23.kim/details/6e9f011e838d.html</id>
    <link href="https://www.b23.kim/details/6e9f011e838d.html"/>
    <published>2025-12-21T15:48:15.000Z</published>
    <summary>
      <![CDATA[<p>有时候我们需要悬挂ICP和公安备案的标识在网站底部，官方提供的传统html标签的方案对于自己有个性主题的网站来说太难看了（除非自己加css来解决）<br>但是我们有更好的解决方案，那就是shields.io。这玩意在我之前的博文里面也有专门场景的其他教程，这一篇就是备案相关]]>
    </summary>
    <title>ICP/公安备案相关shields.io标识解决方案</title>
    <updated>2025-12-21T15:57:06.745Z</updated>
  </entry>
  <entry>
    <author>
      <name>b23.kim</name>
    </author>
    <content>
      <![CDATA[<p>OK啊，终于也是成功被阿瓦隆系统给气到了，所以我要发一篇来稍微吐槽一下。<br>首先阿瓦隆是什么？它是你的B站吞评小助手，能在不经意间偷走你的评论并且让你蒙在鼓里，真是贴贴又心心啊（咬牙切齿）<br>它最让人生气的一点是剥夺了用户的知情权，自己评论发了不知道命中了哪些奇奇怪怪的“违规点”，然后就给你ShadowBan了。营造出自己好像已经评论了但其实别人根本就看不到的假象。<span class="hide-inline"><button type="button" class="hide-button" style="">Click</button><span class="hide-content">（信 息 茧 房）</span></span><br>并且它有时候可能还会标记你的账号，让你啥都发不出。</p><p>为什么会这样？<br>我个人简单分析来说就是B站和用户斗智斗勇的一个所必然的结果和趋势。现在上网成本变得很低，网民素质这块简直是参差不齐。为了避免影响到大部分用户的使用体验，所以B站要想到这种控评方式。（实测有时候是真保护了个寂寞）并且还宁可错杀也不能放过一个。所以说我个人认为这是趋同进化的一个结果，很恶心。</p><p>问题出在了哪一环？<br>无论是用户侧还是平台侧都有责任，于是才构成了这种惊天大漏勺。<br>用户方面能真正做到理性思考，求真务实的占比还是太少了。简言之就是“说话不过脑子”。认知差距啥的暂且先不提，问题真的太多了。<br>比如说：<br><img src="https://i0.hdslb.com/bfs/mallup/mall/w0/zx/w0zxyy11x03x022zx23x022w0303yx2y.jpg" alt="Guess:万物皆为一"><br>给我看力竭了。。。</p><p>至于平台，反正就挺……那啥的。这样搞的跟赛博文字狱似的。而且似乎B站对这套东西特别自信。（确实能省成本谁还管那些啊）<br>我就只是想吐槽一下而已，还是希望B站能进一步优化减少误吞率吧。就目前来看，还很远。而且这个问题在绝对层面上不可解，只能相对意义上的提升。</p><p>有何影响？<br>这就是我要写这篇文章的原因了，真的太影响体验了。<br><img src="https://i0.hdslb.com/bfs/mallup/mall/w1/x2/w1x22z12yw10133zx2122z2x1100yxyy.png" alt="B站吞评"><br><img src="https://i0.hdslb.com/bfs/mallup/mall/zz/x1/zzx1zww12z0102x0yz2w3z013y0313yw.png" alt="评吞站B"></p><p>大概就这样，很让人恼火真的。要是遇到那种写半天结果发出去就被删还要重新打一遍的情况那真的就血压炸了。</p><p>那我们又该怎么办？如果这个评论很重要的话建议多检查检查，防止被诡计多端的阿瓦隆给静默吞了。或者如果没啥特别重要的话要说建议直接不评论，如果不评论它就没机会去删和仅自己可见了<span class="hide-inline"><button type="button" class="hide-button" style="">Click</button><span class="hide-content">（真是一个完美的心理防线啊）</span></span>。这就是目前的版本“最佳实践”。有条件的还可以安装xposed模块来解决，虽然它可能不能完全解决别人看不见自己评论的问题，最起码也能让我们做到心中有数，防止被欺骗。<br><em>欢迎来到，阿瓦隆时代。</em></p>]]>
    </content>
    <id>https://www.b23.kim/details/80937fabeb0a.html</id>
    <link href="https://www.b23.kim/details/80937fabeb0a.html"/>
    <published>2025-12-21T12:42:43.000Z</published>
    <summary>
      <![CDATA[<p>OK啊，终于也是成功被阿瓦隆系统给气到了，所以我要发一篇来稍微吐槽一下。<br>首先阿瓦隆是什么？它是你的B站吞评小助手，能在不经意间偷走你的评论并且让你蒙在鼓里，真是贴贴又心心啊（咬牙切齿）<br>它最让人生气的一点是剥夺了用户的知情权，自己评论发了不知道命中了哪些奇奇怪]]>
    </summary>
    <title>吐槽一下B站阿瓦隆系统，真的太人机了</title>
    <updated>2025-12-21T14:07:04.453Z</updated>
  </entry>
</feed>
